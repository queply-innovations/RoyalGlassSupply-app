import{k as Be,m as Un,r as f,n as Ui,o as Hi,p as Vi,u as xt,e as ge,q as ra,t as $i,v as qi,w as Ki,x as dl,y as Yi,z as Bi,D as Gi,E as Qi,G as Zi,H as Xi,I as ul,J as Ji,K as ec,L as Ge,j as e,R as tc,B as A,M as Qe,W as ac,O as et,Q as sc,U as nc,V as rc,X as ea,Y as P,Z as ce,_ as oe,$ as de,a0 as ue,a1 as H,a2 as V,a3 as lc,a4 as ic,a5 as ta,a6 as cc,h as fn,a7 as ml,a8 as xl,a9 as hl,aa as fl,ab as Lt,ac as Mt,ad as Wt,ae as Rt,af as mt,ag as Te,ah as ee,ai as ae,aj as Pt,ak as pt,al as pl,am as gl,an as oc,ao as dc,ap as uc,aq as Se,ar as Za,as as La,at as vl,au as Ma,C as At,b as Et,av as cs,aw as Sa,ax as Es,ay as vt,az as jt,aA as yt,aB as ba,aC as aa,aD as mc,aE as Qt,aF as gt,aG as Hn,aH as Vn,aI as Ra,aJ as Ss,aK as jl,aL as xc,aM as yl,aN as hs,aO as w,aP as it,aQ as v,aR as pn,aS as os,aT as bl,T as Nl,aU as $n,aV as qn,aW as va,aX as Kn,aY as Yn,aZ as Fe,a_ as Bn,a$ as hc,b0 as Is,b1 as fc,b2 as wl,b3 as Na,b4 as pc,b5 as gc,b6 as vc,b7 as _l,b8 as Ba,b9 as fs,ba as Sl,bb as jc,bc as yc,bd as Cl,be as bc,bf as Gn,f as Qn,bg as Zn,bh as Xn,bi as Nc,bj as wc,bk as _r,bl as Sr,bm as Cr,bn as _c,bo as kl,bp as Dl,bq as Sc,br as kr,bs as Cc,bt as kc,bu as Dc,bv as Jn,bw as Tc,bx as Oc,by as Pc,bz as Tl,bA as Ol,bB as Pl,bC as Al,bD as El,bE as Ac,bF as Ec,bG as Ic,bH as Fc}from"./index-6e230443.js";import{bI as jf}from"./index-6e230443.js";import{M as He,a as zt,P as sa,C as es,b as Lc,c as za,u as Mc,A as Wc,N as Il,d as Fs,g as Fl,e as Rc}from"./useInventoryProductCalculations-c01f76e1.js";import{a as fe,I as Z,D as Ze,A as se,b as ne,c as re,u as Le,d as Ke,e as zc,h as Uc,i as Hc,j as Dr,f as Dt,P as Vc,k as $c}from"./FormatCurrency-abb3bacd.js";import{F as Ls,S as qc,B as wa,G as Kc}from"./GrossandNetProfit-c1184bc2.js";const Yc=()=>{const t=Be(),{warehouses:a}=Un(),[n,s]=f.useState({id:a.length+1||0,code:"",name:"",location:""}),r=u=>{const{name:c,value:x}=u.target;s(m=>({...m,[c]:x}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["warehouses"]}),s({id:a.length+1||0,code:"",name:"",location:""})},onError:u=>{console.error("Warehouse Data failed",u)}},{mutateAsync:i}=fe({mutationKey:["removeWarehouse"],mutationFn:Ui,...l}),{mutateAsync:d}=fe({mutationKey:["addWarehouse"],mutationFn:Hi,...l}),{mutateAsync:o}=fe({mutationKey:["updateWarehouse"],mutationFn:Vi,...l});return{value:n,setValue:s,handleChange:r,removeWarehouseMutation:i,addWarehouseMutation:d,updateWarehouseMutation:o}},Bc=()=>{const t=Be(),{transfers:a}=xt(),{auth:n}=ge(),{warehouses:s}=ra(),r=a[0]?a[a.length-1].id+1:1,[l,i]=f.useState(!1),[d,o]=f.useState(!1),[u,c]=f.useState(null),[x,m]=f.useState(null),[h,j]=f.useState(null),[b,y]=f.useState(),[g,p]=f.useState(),[_,T]=f.useState(),[C,E]=f.useState({});f.useEffect(()=>{E(Y=>({...Y,approval_status:"pending",created_by:n.user.id,transfer_schedule:""}))},[]);const F=()=>{const Y=Object.keys(C).map(N=>({text:N})),U=Y.length===6||Y.length>6;if(U){const N=C.source!==C.destination;if(N){const B=C.transfer_schedule!=="";return B?[B,""]:[B,"Please fill up transfer schedule"]}else return[N,"You cannot have the same source and destination"]}else return[U,"Please fill up all fields"]},k=Y=>{i(!0),m(null),c(null),E(U=>({...U,[Y.target.name]:Y.target.value}))},S=(Y,U)=>{i(!0),m(null),c(null),j(U);const N=U.getMonth()+1<10?"0"+(U.getMonth()+1).toString():U.getMonth()+1,B=U.getDate()<10?"0"+U.getDate().toString():U.getDate();T(U.getFullYear()+""+N+B);const le=U.getFullYear()+"-"+(U.getMonth()+1)+"-"+U.getDate()+" "+U.getHours()+":"+U.getMinutes()+":"+U.getSeconds();E(M=>({...M,transfer_schedule:le}))},I=(Y,U)=>{var N,B;i(!0),m(null),c(null),E(le=>({...le,[Y]:U})),Y==="source"?y((N=s.find(le=>le.id===U))==null?void 0:N.code):p((B=s.find(le=>le.id===U))==null?void 0:B.code)},L=async()=>{if(b&&g&&_){const Y="TRF-"+b+"-"+g+"-"+_+"-"+r;E(U=>({...U,code:Y}))}};f.useEffect(()=>{async function Y(){if(C.code){const U=F();if(o(!0),U[0])return $(C);c(U[1]),o(!1)}}Y()},[C.code]);const W={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfers"]}),o(!1),i(!1),m("Transfer info has been added")},onError:Y=>{console.error(Y),c(Y.message),o(!1)}},{mutateAsync:$}=fe({mutationKey:["addTransfer"],mutationFn:$i,...W});return{transfer:C,lastId:r,isChanged:l,isSubmitting:d,error:u,success:x,dateDisplay:h,handleSubmit:L,handleChange:k,handleChangeSelect:I,handleChangeDateTime:S,addTransferMutation:$}},Ll=()=>{const t=Be(),[a,n]=f.useState({}),s=(o,u)=>{n(c=>({...c,[o]:u}))},r=async o=>{if(console.log("Submitting: ",o),o.action==="add")return await i(o.data);if(o.action==="update")return await d({id:o.id,data:o.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]})},onError:o=>{console.error("Inventory Data failed",o)}},{mutateAsync:i}=fe({mutationKey:["addInventory"],mutationFn:qi,...l}),{mutateAsync:d}=fe({mutationKey:["patchInventory"],mutationFn:Ki,...l});return{value:a,setValue:n,handleChange:s,handleSubmit:r}},Ml=()=>{const t=Be(),{transfers:a,transferProducts:n,selectedTransfer:s}=xt(),r=n.filter(q=>q.transfer_id===s.id),{auth:l}=ge(),{warehouses:i}=ra(),[d,o]=f.useState(!1),[u,c]=f.useState(!1);f.useState(!1);const[x,m]=f.useState(!1);f.useState(!1);const[h,j]=f.useState(!1),{data:b}=dl(),[y,g]=f.useState(0),[p,_]=f.useState(!1),[T,C]=f.useState(!1),[E,F]=f.useState(null),[k,S]=f.useState(null),[I,L]=f.useState(new Date),[W,$]=f.useState(new Date),[Y,U]=f.useState(""),[N,B]=f.useState(),le=a[a.length-1].id+1,[M,Q]=f.useState({});if(f.useEffect(()=>{s&&(Q({id:s.id,code:s.code,created_by:s.created_by.id,source:s.source.id,destination:s.destination.id,transfer_schedule:s.transfer_schedule,approval_status:s.approval_status,approved_by:s.approved_by?s.approved_by.id:null,transfer_status:s.transfer_status,date_received:s.date_received,received_by:s.received_by?s.received_by.id:null,notes:s.notes}),L(new Date(s.transfer_schedule)),s.date_received?$(new Date(s.date_received)):$(new Date(s.transfer_schedule)))},[s]),M.code==""){const q=M.transfer_schedule.split(" ")[0].split("-").join(""),G="TRF-"+s.source.code+"-"+s.destination.code+"-"+q+"-"+le;Q(ve=>({...ve,code:G}))}const me=()=>{const q=M.source!==M.destination;if(q){const G=M.transfer_status==="arrived"?!!(M.received_by&&M.date_received):!0;if(G)return[G,""];{const ve=`Fields you need to fill: ${M.received_by?"":"received by"} 
									${!M.date_received&&!M.received_by?" and ":""}
									${M.date_received?"":"date received"}`;return[G,ve]}}else return[q,"You cannot have the same source and destination"]},xe=q=>{_(!0),S(null),F(null),Q(G=>({...G,[q.target.name]:q.target.value}))},he=(q,G)=>{_(!0),S(null),F(null),U(q),B(G),q==="transfer_schedule"?L(G):$(G)};f.useEffect(()=>{async function q(){if(Y&&N){const G=N.getFullYear()+"-"+(N.getMonth()+1)+"-"+N.getDate()+" "+N.getHours()+":"+N.getMinutes()+":"+N.getSeconds();Q(ve=>({...ve,[Y]:G}))}}q()},[I,W]);const X=(q,G)=>{_(!0),S(null),F(null),Q(ve=>({...ve,[q]:G}))};f.useEffect(()=>{M.approval_status==="approved"?Q(q=>({...q,approved_by:l.user.id})):M.approval_status==="rejected"&&j(!0)},[M.approval_status]),f.useEffect(()=>{M.transfer_status==="arrived"?o(!0):o(!1)},[M.transfer_status]),f.useEffect(()=>{if(u){async function q(){const ve={code:"INV-"+i.filter(ct=>ct.id===M.destination)[0].code+"-TRA-"+s.code.split("-")[3]+"-"+(Number(b.length)+1).toString(),warehouse_id:M.destination,created_by:M.created_by,date_received:M.date_received,type:"transfer",transfer_id:M.id,notes:M.notes},ye=await Ve(ve);g(ye.data.data.id)}q()}},[u]);async function Oe(){await Qi(r,y).then(async q=>{C(!1),_(!1),S("Transfer info has been edited")}).catch(q=>{throw console.error("Error updating inventory products:",q),q})}f.useEffect(()=>{y!=0&&Oe()},[y]);const Me=async()=>{const q=me();if(C(!0),q[0])if(d)await Ae(M);else return await Ae(M);else F(q[1]),C(!1)},We={onSuccess:async()=>{if(await t.invalidateQueries({queryKey:["transfers"]}),d)c(!0);else{if(h)return await je(r);C(!1),_(!1),S("Transfer info has been edited")}},onError:q=>{console.error(q),F(q.message),C(!1)}},{mutateAsync:Ae}=fe({mutationKey:["editTransfer"],mutationFn:Yi,...We}),De={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]}),m(!0)},onError:q=>{console.error(q),F(q.message),C(!1)}},{mutateAsync:Ve}=fe({mutationKey:["addInventory"],mutationFn:Bi,...De}),Ne={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),C(!1),_(!1),S("Transfer info has been edited")},onError:q=>{console.error(q),F(q.message),C(!1)}},{mutateAsync:je}=fe({mutationKey:["initInventoryProduct"],mutationFn:Gi,...Ne});return{transfer:M,selectedTransfer:s,lastId:le,isChanged:p,isSubmitting:T,error:E,success:k,dateDisplay:I,dateDisplayArrived:W,handleSubmit:Me,handleChange:xe,handleChangeSelect:X,handleChangeDateTime:he,editTransferMutation:Ae}},er=()=>{const t=Be(),[a,n]=f.useState({}),s=(o,u)=>{n(c=>({...c,[o]:u}))},r=async o=>{if(console.log("Submitting: ",o),o.action==="add")return await i(o.data);if(o.action==="update")return await d({id:o.id,data:o.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["productPrices"]}),n({})},onError:o=>{console.error("Product Prices Data failed",o)}},{mutateAsync:i}=fe({mutationKey:["addProductListing"],mutationFn:Zi,...l}),{mutateAsync:d}=fe({mutationKey:["patchProductListing"],mutationFn:Xi,...l});return{value:a,setValue:n,handleChange:s,handleSubmit:r,addProductPricesMutation:i,patchProductPricesMutation:d}},Gc=()=>{const t=Be(),{transfers:a,transferProducts:n,selectedProduct:s,selectedTransfer:r}=xt();ge();const{data:l}=ul(),{data:i}=Ji(),{data:d}=dl(),o=d.filter(N=>N.warehouse.id===r.source.id),u=i.filter(N=>o.map(B=>B.id).includes(N.inventory_id)&&N.capital_price>0&&N.remaining_stocks_count&&N.remaining_stocks_count>0),[c,x]=f.useState(0),[m,h]=f.useState(0),[j,b]=f.useState(0),[y,g]=f.useState(!1),[p,_]=f.useState(!1),[T,C]=f.useState(null),[E,F]=f.useState(null),[k,S]=f.useState({});f.useEffect(()=>{S(N=>({...N,id:n.length+1,transfer_id:r.id}))},[]);const I=N=>{g(!0),F(null),C(null),S(B=>({...B,[N.target.name]:Number(N.target.value)}))},L=(N,B,le)=>{g(!0),F(null),C(null);const M=u[le],Q=M.id,me=M.capital_price,xe=M.bundles_unit,he=M.unit,X=M.quantity_per_bundle;S(Oe=>({...Oe,[N]:B,capital_price:me,bundles_unit:xe,unit:he,quantity_per_bundle:X,source_inventory:Q})),x(M.remaining_stocks_count?M.remaining_stocks_count/M.quantity_per_bundle:0),h(M.remaining_stocks_count?M.remaining_stocks_count:0),b(M.damage_count)};f.useEffect(()=>{k.bundles_count&&k.quantity_per_bundle?S(N=>({...N,total_quantity:k.bundles_count*k.quantity_per_bundle})):S(N=>({...N,total_quantity:0}))},[k]);const W=()=>{const B=Object.keys(k).map(le=>({text:le})).length===10;return B?k.bundles_count>c?[!1,"Bundles count input is greater than the current stock quantity."]:[!0,""]:[B,"Please fill up all fields"]},$=async()=>{_(!0);const N=W();if(N[0])return await U(k);C(N[1]),_(!1)},Y={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),_(!1),g(!1),F("Transfer product has been added")},onError:N=>{console.error(N),C(N.message),_(!1)}},{mutateAsync:U}=fe({mutationKey:["addTransferProduct"],mutationFn:ec,...Y});return{product:k,allProducts:l,allInventoryProducts:i,filteredProductsSrc:u,bundlesLimit:c,quantityLimit:m,damagedCount:j,isChanged:y,isSubmitting:p,error:T,success:E,handleSubmit:$,handleChange:I,handleChangeSelect:L,addProductMutation:U}};/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=Ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Ge("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=Ge("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ge("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gn=Ge("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ge("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Ge("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Ge("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=Ge("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ge("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Ge("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Ge("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ge("UserRoundPlus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),Ut=t=>e.jsx(tc,{className:"flex loading",type:"spin",color:"#16A116",height:t.height,width:t.width}),lo=({isUpdate:t=!1,onClose:a,isDelete:n})=>{const{warehouseSelected:s}=Un(),{value:r,setValue:l,handleChange:i,addWarehouseMutation:d,updateWarehouseMutation:o,removeWarehouseMutation:u}=Yc();f.useEffect(()=>{(t||n)&&l(s)},[t,n,s,l]);const c=async()=>{console.log("warehouseForm:",r);try{await new Promise(x=>setTimeout(x,1e3)),t&&(console.log("Update Warehouse:",r.id),await o(r),a()),n?(console.log("Remove Warehouse:",r.id),await u(r.id),a()):!t&&!n&&(console.log("Add Warehouse:",r.id),await d(r),a())}catch(x){console.error("Warehouse Data submission failed",x)}};return e.jsx(e.Fragment,{children:n?e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),c()},children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(A,{type:"submit",fill:"red",children:n?"Delete Warehouse":"Add Warehouse"})})})}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),c()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse ID"}),e.jsx(Z,{name:"id",value:(r==null?void 0:r.id)||0,type:"number",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Code"}),e.jsx(Z,{name:"code",placeholder:"Warehouse Code",value:(r==null?void 0:r.code)||"",onChange:i,maxLength:3})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Name"}),e.jsx(Z,{name:"name",placeholder:"Warehouse Name",value:(r==null?void 0:r.name)||"",onChange:i,required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Location"}),e.jsx(Z,{name:"location",placeholder:"Warehouse Location",type:"string",value:(r==null?void 0:r.location)||"",onChange:i,required:!0})]}),e.jsxs("div",{className:"flex flex-row justify-center gap-1",children:[e.jsx(A,{fill:"green",className:"",type:"submit",children:t?"Update Warehouse":"Add Warehouse"}),e.jsx(A,{fill:"red",className:"",onClick:a,type:"reset",children:"Cancel"}),e.jsx(A,{onClick:()=>console.log(r),type:"button",children:"console form"})]})]})})})})},io=({openModal:t})=>{const{warehouses:a,setWarehouseSelected:n,isFetching:s,progress:r}=Un(),l=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:o=>d.toggleAllPageRowsSelected(!!o.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:o=>d.toggleSelected(!!o.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE ID"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.id})},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{className:"items-center",children:e.jsxs(A,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["WAREHOUSE NAME ",d.getIsSorted()==="asc"?e.jsx(se,{}):d.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.name})},{accessorKey:"code",header:()=>e.jsx("div",{className:"text-center",children:"code"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.code})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-center",children:"LOCATION"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.location})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:d})=>{const o=d.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>i(o),className:"flex flex-row items-center gap-2",children:[e.jsx(Ls,{})," Edit"]})})}}],i=d=>{n(d),t(d,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:l,filterWhat:"location",dataType:"",isLoading:s,openModal:void 0})})},Jh=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Warehouse",children:e.jsxs(ac,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(io,{openModal:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="edit"?"Edit Warehouse":s==="remove"?"Remove Warehouse":"Add Warehouse",children:e.jsx(lo,{onClose:n,isUpdate:s==="edit",isDelete:s==="remove"})})]})})})},Rl=()=>{const t=Be();ge(),et();const[a,n]=f.useState({}),s=(u,c)=>{n(x=>({...x,[u]:c}))},r=u=>{n(c=>({...c,...u}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["invoices"]}),n({}),ea.success("Submitted successfully!")},onError:u=>{console.error("Invoices Data failed",u.message)}},{mutateAsync:i}=fe({mutationKey:["addInvoice"],mutationFn:sc,...l}),{mutateAsync:d}=fe({mutationKey:["updateInvoice"],mutationFn:nc,...l}),{mutateAsync:o}=fe({mutationKey:["removeInvoice"],mutationFn:rc,...l});return{value:a,setValue:n,selectChange:r,handleChange:s,addInvoiceMutation:i,updateInvoiceMutation:d,removeInvoiceMutation:o}},co=({formAction:t="add"})=>{const{invoices:a,invoiceSelected:n}=et(),{auth:s}=ge(),r=async()=>{console.log("invoiceForm:",l);try{await new Promise(c=>setTimeout(c,1e3)),t==="update"&&console.log("Update Invoice:",l.id),t==="remove"?(console.log("Remove Invoice:",l.id),await u(l.id)):t==="add"&&console.log("Add Invoice:",l.id)}catch(c){console.error("Invoice Data submission failed",c.message)}},{value:l,setValue:i,handleChange:d,selectChange:o,removeInvoiceMutation:u}=Rl();return f.useEffect(()=>{t==="update"&&(i(n),console.log("update",n.id)),t==="remove"&&(i(n),console.log("remove",n.id)),t==="add"&&i({})},[n,t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:c=>{c.preventDefault(),r()},children:[t==="remove"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(A,{type:"submit",fill:"red",children:"Delete Invoice"})})}),t==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex min-w-[700px] max-w-2xl  flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Invoice ID:"}),t==="update"?n.id:""]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Issued By:"}),t==="update"?n.issued_by.firstname.toUpperCase():s.user.firstname.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Created At:"}),e.jsx("span",{className:"text-base",children:Ke(n.created_at)})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"OR #:"}),e.jsx("span",{className:"text-base",children:n.or_no})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Reference #:"}),e.jsx("span",{className:"text-base",children:n.reference_no?n.reference_no:"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold uppercase ",children:"Type"}),e.jsxs(ce,{id:"type",name:"type",onValueChange:c=>o({type:c}),defaultValue:t==="update"?n.type:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(H,{value:"payment",children:"Payment"},"payment"),e.jsx(H,{value:"exit",children:"Exit"},"exit")]})]},"type")]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"payment_method",className:"text-sm font-bold uppercase ",children:"Payment Method"}),e.jsxs(ce,{id:"payment_method",name:"type",onValueChange:c=>o({payment_method:c}),defaultValue:t==="update"?n.payment_method:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment Method"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(H,{value:"cash",children:"Cash"}),e.jsx(H,{value:"credit",children:"Credit"}),e.jsx(H,{value:"debit",children:"Debit"}),e.jsx(H,{value:"wallet",children:"Wallet"})]})]},"type")]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"subtotal",className:"text-sm font-bold uppercase",children:"Subtotal"}),e.jsx(V,{name:"subtotal",id:"subtotal",value:t==="update"?n.subtotal:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_tax",className:"text-sm font-bold uppercase",children:"Total Tax"}),e.jsx(V,{name:"total_tax",id:"total_tax",value:t==="update"?n.total_tax:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_discount",className:"text-sm font-bold uppercase",children:"Total Discount"}),e.jsx(V,{name:"total_discount",id:"total_discount",value:t==="update"?n.total_discount:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_amount_due",className:"text-sm font-bold uppercase",children:"Total Amount Due"}),e.jsx(V,{name:"total_amount_due",id:"total_amount_due",value:t==="update"?n.total_amount_due:"",onChange:d,required:!0})]})]})]}),e.jsx(A,{onClick:()=>{console.log("InvoiceFORMDATA:",l)},children:"console form"})]})]})})},oo=({modalHandler:t})=>{const{invoices:a,setInvoiceSelected:n}=et(),s=(l,i)=>{i==="update"?(n(l),t(l,"update")):i==="remove"?(n(l),t(l,"remove")):(t(l,"add"),console.log("add"))};console.log("invoices:",a);const r=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"justify-center",children:"Invoice ID"})},{id:"or_no",accessorKey:"or_no",header:()=>e.jsx("div",{className:"justify-center",children:"OR #"})},{accessorKey:"reference_no",header:()=>e.jsx("div",{className:"justify-center",children:"Reference #"}),cell:({row:l})=>{const i=l.original;return e.jsx(e.Fragment,{children:i.reference_no===null?"N/A":i.reference_no})}},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"justify-center",children:"Sub Total Price"})},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"justify-center",children:"Amount Due"})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:l})=>{const i=l.original;return e.jsxs("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:[e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>s(i,"update"),className:"flex flex-row items-center gap-2",children:[e.jsx(Ls,{})," Edit"]}),e.jsx(A,{fill:"red",onClick:()=>s(i,"remove"),children:"Remove"})]})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,filterWhat:"or_no",columns:r,dataType:"Invoice",openModal:()=>s})})},ef=({})=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d),console.log("modalAction:",s)};return console.log(zc()),e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Invoice",children:e.jsxs(lc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(oo,{modalHandler:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="update"?"Edit Invoice":s==="remove"?"Remove Invoice":"Add Invoice",children:e.jsx(co,{onClose:n,formAction:s})})]})})})},uo=(t,a)=>{const n=Be(),[s,r]=f.useState({firstname:t.firstname,lastname:t.lastname,username:t.username,email:t.email,contact_no:t.contact_no,position:t.position,user_id:t.id,role_id:0});f.useEffect(()=>{a&&r(p=>{var _;return{...p,role_id:(_=a.find(T=>T.title===t.position))==null?void 0:_.id}})},[a]);const[l,i]=f.useState(!1),[d,o]=f.useState(!1),[u,c]=f.useState(null),[x,m]=f.useState(null),h=(p,_)=>{i(!0),m(null),c(null),r(T=>({...T,[p]:_}))},j=p=>{i(!0),m(null),r(_=>({..._,[p.target.name]:p.target.value})),p.target.name==="position"&&r(_=>{var T;return{..._,role_id:(T=a.find(C=>C.title===p.target.value))==null?void 0:T.id}})},b=async()=>{var p,_;if(o(!0),((p=s.contact_no)==null?void 0:p.length)>11||((_=s.contact_no)==null?void 0:_.length)<11)c("Contact number must be 11 digits"),o(!1);else return await g(s)},y={onSuccess:async()=>{await n.invalidateQueries({queryKey:["users"]}),o(!1),i(!1),m("User info has been updated")},onError:p=>{console.error(p),c(p.message),o(!1)}},{mutateAsync:g}=fe({mutationKey:["editUser"],mutationFn:ic,...y});return{user:s,isChanged:l,isSubmitting:d,error:u,success:x,handleSubmit:b,handleChangeSelect:h,handleChange:j,editUserMutation:g}},mo=()=>{const t=Be(),{users:a}=ta(),{roles:n}=ta(),s=a[a.length-1].id+1,[r,l]=f.useState({});f.useEffect(()=>{l(_=>({..._,active_status:"active",id:s}))},[]);const[i,d]=f.useState(!1),[o,u]=f.useState(!1),[c,x]=f.useState(null),[m,h]=f.useState(null),j=()=>{var C,E;const T=Object.keys(r).map(F=>({text:F})).length===11;if(T){const F=r.password===r.password_confirmation;if(!F)return[F,"Passwords do not match"];const k=!(((C=r.contact_no)==null?void 0:C.length)>11||((E=r.contact_no)==null?void 0:E.length)<11);return k?[T&&F&&k,""]:[k,"Please input a valid contact number"]}else{const F=!!r.position;return F?[T,"Please correctly fill up all fields"]:[F,"Please choose a position"]}},b=_=>{d(!0),h(null),x(null),l(T=>({...T,[_.target.name]:_.target.value})),_.target.name==="position"&&l(T=>{var C;return{...T,role_id:(C=n.find(E=>E.title===_.target.value))==null?void 0:C.id}})},y=async()=>{const _=j();if(u(!0),_[0])return await p(r);x(_[1]),u(!1)},g={onSuccess:async()=>{await t.invalidateQueries({queryKey:["users"]}),u(!1),d(!1),h("User info has been added")},onError:_=>{console.error(_),x(_.message),u(!1)}},{mutateAsync:p}=fe({mutationKey:["addUser"],mutationFn:cc,...g});return{user:r,isChanged:i,isSubmitting:o,error:c,success:m,handleSubmit:y,handleChange:b,addUserMutation:p}},xo=()=>{const t=Be(),{roles:a,selectedUser:n}=ta(),s=a.filter(I=>I.title===n.position),[r,l]=f.useState([]),[i,d]=f.useState([]),[o,u]=f.useState([]),{data:c}=fn({queryKey:["all-permissions"],queryFn:()=>hl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const I=c;I&&d(I)},[c]);const{isFetching:x,data:m}=fn({queryKey:["permissions"],queryFn:()=>fl(s[0].id),refetchOnWindowFocus:!1});f.useEffect(()=>{const I=m;I&&(l(I),u(I))},[m]);const[h,j]=f.useState(!1),[b,y]=f.useState(!1),[g,p]=f.useState(null),[_,T]=f.useState(null),C=(I,L)=>{j(!0),T(null),p(null),u(I?[...o,{id:null,role_id:s,permission_id:L}]:o.filter(W=>W.permission_id!==L))},E=async()=>{if(y(!0),o.length>r.length){const I=o.filter(L=>L.id===null);if(I.length>1)I.forEach(async L=>{await k(L)});else return await k(I)}else if(o.length<r.length){const I=r.filter(L=>o.find(W=>W.permission_id===L.permission_id)===void 0);if(I.length>1)I.forEach(async L=>{await S(L)});else return await S(I[0])}else y(!1),j(!1),T("No changes made")},F={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),y(!1),j(!1),T("Role permissions have been updated")},onError:I=>{console.error(I),p(I.message),y(!1)}},{mutateAsync:k}=fe({mutationKey:["addpermission"],mutationFn:ml,...F}),{mutateAsync:S}=fe({mutationKey:["deletepermission"],mutationFn:xl,...F});return{permissions:r,allPermissions:i,permissionChange:o,isChanged:h,isSubmitting:b,error:g,success:_,handleSubmit:E,handleChange:C}},ho=()=>{const t=Be(),{roles:a}=ta(),[n,s]=f.useState(),[r,l]=f.useState(0);f.useState();const[i,d]=f.useState([]),[o,u]=f.useState([]),[c,x]=f.useState([]),{data:m}=fn({queryKey:["all-permissions"],queryFn:()=>hl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const L=m;L&&u(L)},[m]);const[h,j]=f.useState(!1),[b,y]=f.useState(!1),[g,p]=f.useState(null),[_,T]=f.useState(null),C=(L,W)=>{T(null),p(null),s(a.find($=>$.title===W)),l(a.find($=>$.title===W).id)};f.useEffect(()=>{async function L(){const W=await fl(r);d(W),x(W)}L()},[r]);const E=(L,W)=>{j(!0),T(null),p(null),x(L?[...c,{id:null,role_id:r,permission_id:W}]:c.filter($=>$.permission_id!==W))},F=async()=>{if(y(!0),c.length>i.length){const L=c.filter(W=>W.id===null);if(L.length>1)L.forEach(async W=>{await S(W)});else return await S(L[0])}else if(c.length<i.length){const L=i.filter(W=>c.find($=>$.permission_id===W.permission_id)===void 0);if(L.length>1)L.forEach(async W=>{await I(W)});else return await I(L[0])}else y(!1),j(!1),T("No changes made")},k={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),y(!1),j(!1),T("Role permissions have been updated")},onError:L=>{console.error(L),p(L.message),y(!1)}},{mutateAsync:S}=fe({mutationKey:["addpermission"],mutationFn:ml,...k}),{mutateAsync:I}=fe({mutationKey:["deletepermission"],mutationFn:xl,...k});return{roles:a,roleSelect:n,permissions:i,allPermissions:o,permissionChange:c,roleId:r,isChanged:h,isSubmitting:b,error:g,success:_,handleSubmit:F,handleChange:E,handleChangeSelect:C}},fo=({openModal:t})=>{const{users:a,isFetching:n,progress:s,progress2:r,setSelectedUser:l}=ta(),i=c=>{l(c),t(c,"edit")},d=c=>{l(c),t(c,"editPerms")},o=()=>{t({},"add")},u=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:x=>c.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:x=>c.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"lastname",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["LAST NAME ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.lastname})},{accessorKey:"firstname",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FIRST NAME ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.firstname})},{accessorKey:"position",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["ROLE ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.position})},{accessorKey:"username",header:()=>e.jsx("div",{className:"text-center",children:"USERNAME"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.username})},{accessorKey:"email",header:()=>e.jsx("div",{className:"text-center",children:"EMAIL ADDRESS"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.email})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:c})=>{const x=c.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User"})]}),e.jsxs(Te,{onClick:()=>d(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User Permission"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:u,filterWhat:"username",dataType:"User",openModal:o,isLoading:n})})},po=({onClose:t})=>{const{user:a,isChanged:n,isSubmitting:s,error:r,success:l,handleSubmit:i,handleChange:d}=mo(),{roles:o}=ta(),u=o?o.map(c=>c.title):[];return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:c=>{c.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User ID"}),e.jsx(Z,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User First Name"}),e.jsx(Z,{name:"firstname",placeholder:"User First Name",value:a.firstname||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Last Name"}),e.jsx(Z,{name:"lastname",placeholder:"User Last Name",value:a.lastname||"",onChange:d,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Email Address"}),e.jsx(Z,{name:"email",placeholder:"User Email Address",type:"email",value:a.email||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Contact Number"}),e.jsx(Z,{name:"contact_no",placeholder:"User Contact Number",type:"number",value:a.contact_no||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Position"}),e.jsx(qc,{name:"position",className:"text-lg",placeholder:"---Select Position---",onChange:d,options:u,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Username"}),e.jsx(Z,{name:"username",placeholder:"User Username",type:"string",value:a.username||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Password"}),e.jsx(Z,{name:"password",placeholder:"User Password",type:"password",value:a.password||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Confirm Password"}),e.jsx(Z,{name:"password_confirmation",placeholder:"Confirm Password",type:"password",value:a.password_confirmation||"",onChange:d,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:n?"green":null,disabled:!n,onClick:i,children:s?"Submitting":"Add User"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),r&&e.jsx("div",{className:"font-bold text-red-700",children:r}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},go=({onClose:t})=>{const{selectedUser:a,roles:n}=ta(),{auth:s}=ge(),{user:r,isChanged:l,isSubmitting:i,error:d,success:o,handleSubmit:u,handleChange:c,handleChangeSelect:x}=uo(a,n);return o&&setTimeout(()=>{t()},1e3),e.jsxs(e.Fragment,{children:[a.id===s.user.id&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing your own account.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("form",{onSubmit:async m=>{m.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"id",children:"User ID"}),e.jsx(Z,{type:"text",name:"id",placeholder:"User ID",className:"inputbox",value:r.user_id,disabled:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"First name"}),e.jsx(Z,{type:"text",name:"firstname",placeholder:"First name",className:"inputbox rounded-md bg-slate-100",value:r.firstname,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Last name"}),e.jsx(Z,{type:"text",name:"lastname",placeholder:"Last name",className:"inputbox rounded-md bg-slate-100",value:r.lastname,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(Z,{type:"text",name:"username",placeholder:"Username",className:"inputbox rounded-md bg-slate-100",value:r.username,onChange:c})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx(Z,{type:"email",name:"email",placeholder:"Email address",className:"inputbox rounded-md bg-slate-100",value:r.email,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Contact number"}),e.jsx(Z,{type:"number",name:"contact_no",placeholder:"09XXXXXXXXX",className:"inputbox rounded-md bg-slate-100",value:r.contact_no,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"position",children:"Position"}),e.jsxs(ce,{onValueChange:m=>x("position",m),required:!0,children:[e.jsx(oe,{name:"position",className:"flex flex-row items-center gap-3 truncate text-md rounded-md bg-slate-100",children:e.jsx(de,{placeholder:r.position?r.position.charAt(0).toUpperCase()+r.position.slice(1):"Choose position..."})}),e.jsx(ue,{className:"bg-white font-medium text-md",children:n.length>0?n.map(m=>{if(m.title!=="super_admin")return e.jsx(H,{value:m.title,children:m.title.charAt(0).toUpperCase()+m.title.slice(1)},m.id)}):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:l?"green":null,disabled:!l,onClick:u,children:i?"Submitting":"Edit User"})}),e.jsxs("div",{className:"flex flex-col col-span-3 items-start",children:[o&&e.jsx("div",{className:"font-bold text-green-700",children:o}),d&&e.jsx("div",{className:"font-bold text-red-700",children:d}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})]})},vo=({onClose:t})=>{const{selectedUser:a}=ta(),{permissions:n,allPermissions:s,permissionChange:r,isChanged:l,isSubmitting:i,error:d,success:o,handleChange:u,handleSubmit:c}=xo(),{auth:x}=ge(),m=s.filter(y=>Object.keys(y).some(g=>!y.title.includes("view".toLowerCase())&&y.title.includes("users".toLowerCase()))),h=s.filter(y=>Object.keys(y).some(g=>!y.title.includes("view".toLowerCase())&&!y.title.includes("transfer".toLowerCase())&&y.title.includes("product".toLowerCase())||y.title.includes("catalog".toLowerCase()))),j=s.filter(y=>Object.keys(y).some(g=>!y.title.includes("view".toLowerCase())&&y.title.includes("transfer".toLowerCase()))),b=s.filter(y=>Object.keys(y).some(g=>y.title.includes("view".toLowerCase())));return o&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-72 w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:e.jsx(ae,{variant:"ghost",className:"w-full justify-start capitalize text-slate-700 bg-slate-300/40",children:a.position.split("_").join(" ")},a.id+a.position)}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),a.position===x.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[o&&e.jsx("p",{className:"text-green-600",children:o}),d&&e.jsx("p",{className:"text-red-600",children:d})]}),l&&e.jsx(ae,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!i,onClick:c,children:i?"Saving...":"Save changes"})]})]}),e.jsx(Pt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${i?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:m.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):m.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:`${a.position!=="admin"&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:y.title.split("_").join(" ")}),e.jsx(pt,{id:y.title,name:y.title,value:y.id,disabled:a.position==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(g=>g.permission_id===y.id),onCheckedChange:g=>u(g,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:h.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):h.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(pt,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(g=>g.permission_id===y.id),onCheckedChange:g=>u(g,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(pt,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(g=>g.permission_id===y.id),onCheckedChange:g=>u(g,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:b.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):b.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(pt,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(g=>g.permission_id===y.id),onCheckedChange:g=>u(g,y.id)})]},y.id))})]})]})})]})})},tf=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"User Information",children:e.jsxs(pl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(fo,{openModal:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="edit"?"Edit User":s==="add"?"Add User":"Edit User Role Permissions",children:e.jsxs(e.Fragment,{children:[s==="add"&&e.jsx(po,{onClose:n}),s==="edit"&&e.jsx(go,{onClose:n}),s==="editPerms"&&e.jsx(vo,{onClose:n})]})})]})})})},jo=()=>{const t=Be(),{selectedSupplier:a,setSelectedSupplier:n}=gl(),[s,r]=f.useState({});f.useEffect(()=>{a&&r(a)},[a]);const[l,i]=f.useState({}),[d,o]=f.useState(!1),[u,c]=f.useState(!1),[x,m]=f.useState(null),[h,j]=f.useState(null),b=E=>{var F,k,S,I;if(E){const L=Object.keys(s).map($=>({text:$})),W=L.length===3||L.length>3;if(W){const $=!(((F=s.contact_no)==null?void 0:F.length)>11||((k=s.contact_no)==null?void 0:k.length)<11);return $?[$,""]:[$,"Contact number must be 11 digits"]}else return[W,"Please fill up all fields"]}else{const L=Object.keys(l).map($=>({text:$})),W=L.length===3||L.length>3;if(W){const $=!(((S=l.contact_no)==null?void 0:S.length)>11||((I=l.contact_no)==null?void 0:I.length)<11);return $?[$,""]:[$,"Contact number must be 11 digits"]}else return[W,"Please fill up all fields"]}},y=(E,F)=>{o(!0),j(null),m(null),F?r(k=>({...k,[E.target.name]:E.target.value})):i(k=>({...k,[E.target.name]:E.target.value}))},g=async E=>{const F=b(E);if(c(!0),F[0])return E?await _(s):await C(l);m(F[1]),c(!1),console.log(l)},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),c(!1),o(!1),j("Supplier info has been edited")},onError:E=>{console.error(E),m(E.message),c(!1)}},{mutateAsync:_}=fe({mutationKey:["updateSupplier"],mutationFn:oc,...p}),T={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),c(!1),o(!1),j("Supplier info has been added")},onError:E=>{console.error(E),m(E.message),c(!1)}},{mutateAsync:C}=fe({mutationKey:["addSupplier"],mutationFn:dc,...T});return{supplier:s,selectedSupplier:a,newSupplier:l,isChanged:d,isSubmitting:u,error:x,success:h,handleSubmit:g,handleChange:y,editSupplierMutation:_}},yo=({onClose:t,isUpdate:a})=>{const{supplier:n,newSupplier:s,isSubmitting:r,error:l,success:i,isChanged:d,handleChange:o,handleSubmit:u}=jo();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:c=>{c.preventDefault()},children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Supplier Name"}),e.jsx(Z,{type:"text",name:"name",placeholder:"Supplier Name",value:a?n.name||"":s.name||"",className:"inputbox rounded-md bg-slate-100",onChange:c=>o(c,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"contact_no",children:"Supplier Contact Number"}),e.jsx(Z,{type:"text",name:"contact_no",placeholder:"Supplier Contact Number",className:"inputbox rounded-md bg-slate-100",value:a?n.contact_no||"":s.contact_no||"",onChange:c=>o(c,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"address",children:"Supplier Address"}),e.jsx(Z,{type:"text",name:"address",placeholder:"Supplier Address",className:"inputbox rounded-md bg-slate-100",value:a?n.address||"":s.address||"",onChange:c=>o(c,a),required:!0})]})]}),e.jsx("div",{className:"flex flex-col mt-4 gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:d?"green":null,disabled:!d,onClick:()=>u(a),children:r?"Submitting":a?"Edit Supplier":"Add Supplier"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},bo=({openModal:t})=>{const{suppliers:a,isFetching:n,progress:s,setSelectedSupplier:r}=gl(),l=()=>{t({},"add")},i=o=>{r(o),t(o,"edit")},d=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:u=>o.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:u=>o.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{className:"text-center",children:e.jsxs(A,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row ml-auto mr-auto items-center",children:["NAME ",o.getIsSorted()==="asc"?e.jsx(se,{}):o.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.name})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT NUMBER"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.contact_no})},{accessorKey:"address",header:()=>e.jsx("div",{className:"text-center",children:"ADDRESS"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.address})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"ACTION"}),cell:({row:o})=>{const u=o.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>i(u),className:"flex flex-row items-center gap-2",children:[e.jsx(Ls,{})," Edit"]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:d,filterWhat:"address",dataType:"Supplier",openModal:l,isLoading:n})})},af=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Supplier",children:e.jsxs(uc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(bo,{openModal:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="edit"?"Edit Supplier":"Add Supplier",children:e.jsx(e.Fragment,{children:e.jsx(yo,{onClose:n,isUpdate:s==="edit"})})})]})})})},No=({handleEditProduct:t})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:s=>n.toggleAllPageRowsSelected(!!s.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:s=>n.toggleSelected(!!s.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",n.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",n.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})},{id:"actions",cell:({row:n})=>{const s=n.original;return e.jsx("div",{className:"flex flex-row justify-end text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>t(s),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2.25})}),e.jsx("span",{className:"font-medium",children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],wo=({handleProdPriceDetails:t,handleEditProdPrice:a,handleToggleActiveStatus:n})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:l=>r.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:l=>r.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",r.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"WHS"})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:r.original.capital_price?l:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.markup_price||0),i=Se(r.original.markup_price/r.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:l}),e.jsxs("span",{className:"text-gray-500",children:["(",i,"%)"]})]})}},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Discount"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.sale_discount||0);return e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:r.original.on_sale?l:e.jsx("div",{className:"group relative flex w-fit items-center",children:e.jsxs(Za,{children:[e.jsx(La,{children:e.jsx(vl,{size:20,strokeWidth:2,className:"text-gray-700"})}),e.jsx(Ma,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:"Not on sale"})})]})})})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:r.original.price?l:""})})}},{accessorKey:"approval_status",sortingFn:"basic",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Approval"," ",r.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})}),cell:({row:r})=>{const l=r.original.approval_status;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:e.jsxs(Za,{children:[e.jsx(La,{children:l==="approved"?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):l==="rejected"?e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})}),e.jsx(Ma,{children:e.jsx("p",{className:"text-sm font-medium capitalize",children:l})})]})})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",r.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})}),cell:({row:r})=>{const l=r.original.active_status;return e.jsx("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:e.jsxs(Za,{children:[e.jsx(La,{children:l==="active"?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(gn,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(Ma,{children:e.jsx("p",{className:"text-sm font-medium capitalize",children:l})})]})})},enableGlobalFilter:!1},{id:"actions",cell:({row:r})=>{const l=r.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>t(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Te,{onClick:()=>a(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(mt,{className:"bg-gray-200"}),e.jsx(Te,{onClick:()=>n(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:l.active_status?l.active_status==="active"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(gn,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set inactive"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(es,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set active"})]}):e.jsx("div",{})})]})]})})},enableGlobalFilter:!1}],_o=({openModal:t})=>{const{auth:a}=ge(),{data:n,isLoading:s,setSelectedProduct:r}=cs(),l=()=>{t({},"add")},i=d=>{r(d),t(d,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Ze,{columns:(a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="admin"?No({handleEditProduct:i}):Lc,data:n,filterWhat:"name",dataType:"Product",openModal:l,isLoading:s})})},So=({openModal:t,isModalOpen:a,filterWarehouse:n})=>{const{data:s,isLoading:r,setSelectedProductPrice:l}=Sa(),i=()=>{t({},"add")},d=c=>{l(c),t(c,"details")},o=c=>{l(c),t(c,"edit")},u=c=>{l(c),t(c,"toggle_active_stat")};return e.jsx(e.Fragment,{children:e.jsx(Es,{children:e.jsx(Ze,{columns:wo({handleProdPriceDetails:d,handleEditProdPrice:o,handleToggleActiveStatus:u}),data:n?s.filter(c=>c.warehouse.id===n):s,filterWhat:"name",dataType:"Listing",openModal:i,isLoading:r})})})},Co=({onClose:t})=>{const{selectedProductPrice:a}=Sa();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Product ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Listing ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Type"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.type})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.unit})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_quantity})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup percent"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[Se(a.markup_price/a.capital_price*100,{precision:3}).value,"%"]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.markup_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:a.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[a.on_sale===1?e.jsx(At,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(vl,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[a.active_status==="active"?e.jsx(es,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(gn,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:a.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]})]})})},ko=({onClose:t})=>{const{patchProductPricesMutation:a}=er(),{selectedProductPrice:n}=Sa(),[s,r]=f.useState(!1),[l,i]=f.useState(null),d=async()=>(r(!s),a({id:n.id,data:{active_status:n.active_status==="active"?"inactive":"active"}}));return e.jsxs("div",{className:"flex min-w-max flex-col gap-3",children:[e.jsxs("h2",{className:"text-sm text-gray-800",children:["Are you sure you'd like to set this listing to"," ",e.jsx("strong",{children:n.active_status==="active"?"inactive":"active"}),"?"]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:n.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:n.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:n.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:n.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:n.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:n.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:n.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:n.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:n.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:n.stocks_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.price)})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-between pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{fill:"green",onClick:async()=>{(await d()).status===200?t():i("Failed to update active status")},disabled:s,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:s?"Applying...":`Set to ${n.active_status==="active"?"inactive":"active"}`})]})}),l&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:l})})]})},Do=({warehouses:t,selectedWarehouse:a,setSelectedWarehouse:n,setOpenedTab:s,onClose:r})=>{const{data:l,selectedProduct:i,setSelectedProduct:d,isLoading:o}=cs(),{data:u}=Sa(),[c,x]=f.useState(!1),[m,h]=f.useState();return f.useEffect(()=>{if(a){const j=u.filter(y=>y.warehouse.id===(a==null?void 0:a.id)),b=[...new Set(j.map(y=>y.product.id))];h(l==null?void 0:l.filter(y=>!b.includes(y.id)))}},[a]),e.jsxs("div",{className:"grid w-full grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{required:!0,value:a==null?void 0:a.id.toString(),onValueChange:j=>{n(t==null?void 0:t.find(b=>b.id===Number(j))),d(void 0)},children:[e.jsx(oe,{id:"warehouse",name:"warehouse",className:"flex flex-row items-center gap-3 truncate bg-white text-sm font-bold text-slate-600",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:t?t.map(j=>e.jsx(H,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:j.name},j.code)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),e.jsxs("div",{className:"col-span-8 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(vt,{open:c,onOpenChange:x,children:[e.jsx(jt,{id:"product",name:"product",className:"relative w-full",disabled:!a,asChild:!0,children:e.jsxs(ae,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[i?e.jsx("div",{className:"font-bold text-slate-600",children:i.name}):e.jsx("span",{children:"Select a product..."}),e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"w-[442px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{value:i?i.id+i.name+i.serial_no:"",children:[e.jsx(aa,{placeholder:"Product name..."}),o&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(Pt,{className:"max-h-[200px] overflow-y-scroll",children:[(m==null?void 0:m.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No products.",e.jsx(mc,{to:"/products",className:"underline",children:"Add a product"})]}),e.jsx(Qt,{children:m&&m.map(j=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",value:j.id+j.name+j.serial_no,onSelect:()=>{d(j),x(!1)},children:[e.jsxs("span",{children:[j.name,j.brand&&e.jsxs("span",{children:[" (",j.brand,")"]})]}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:j.serial_no})]},j.id+j.name+j.serial_no))})]})]})})]})]}),i&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Serial Number"}),e.jsx("p",{className:"font-medium",children:i.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Brand"}),e.jsx("p",{className:"font-medium",children:(i==null?void 0:i.brand)||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-2 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:i.size})]}),e.jsxs("div",{className:"col-span-2 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:i.color})]}),e.jsxs("div",{className:"col-span-12 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Notes"}),e.jsx("p",{className:"font-medium",children:i.notes||e.jsx("span",{className:"opacity-70",children:"No notes provided"})})]})]})}),e.jsx("hr",{className:"col-span-12 border-t border-slate-200"}),e.jsx("p",{className:"col-span-12 text-sm font-medium text-slate-700",children:"You can only add a product price/listing to a warehouse once. If the product is not in the list, it is likely that it already has a listing for that warehouse."}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",onClick:()=>{r(),d(void 0)},className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{fill:"green",disabled:!i,onClick:()=>s("listings"),className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Proceed"})]})})]})},vn=(t,a,n=2)=>Se(a/t*100,{precision:n}).value,Cs=(t,a,n=2)=>Se(Se(t).multiply(a/100),{precision:n}).value,ks=(t,a,n=2)=>Se(Se(t).add(a),{precision:n}).value,zl=(t,a,n=2)=>Se(Se(t).subtract(a),{precision:n}).value,To=({selectedWarehouse:t,setOpenedTab:a,onClose:n})=>{var F;const{auth:s}=ge(),{selectedProduct:r,setSelectedProduct:l}=cs(),{value:i,setValue:d,handleChange:o,handleSubmit:u}=er(),[c,x]=f.useState(!1),[m,h]=f.useState(null);f.useEffect(()=>{d(k=>({...k,product_id:r==null?void 0:r.id,warehouse_id:t.id,unit:"pcs",active_status:"active",approval_status:"pending",created_by:s.user.id,on_sale:0,sale_discount:0}))},[]);const[j,b]=f.useState(0),[y,g]=f.useState(10),[p,_]=f.useState(0),T=k=>{const S=k.target.value;b(Se(S).value),o("capital_price",Se(S).value),_(Cs(Se(S).value,y))},C=k=>{const S=Number(k.target.value);g(S),_(Cs(j,S))},E=k=>{const S=Se(k.target.value).value;_(S),g(vn(j,S,3))};return f.useEffect(()=>{o("capital_price",j),o("markup_price",p),o("cost",ks(j,p))},[j,y,p]),f.useEffect(()=>{o("price",zl(i.cost??0,i.sale_discount??0))},[i.cost,i.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:k=>{x(!c),k.preventDefault(),u({action:"add",data:i}).then(()=>{x(!c),l(void 0),ea.success("Product listing added successfully"),n()}).catch(()=>{x(!c),h("Failed to add product listing"),ea.error("Failed to add product listing")})},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3 font-medium",children:[e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Name"}),e.jsx("p",{className:"font-medium",children:r==null?void 0:r.name})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Serial Number"}),e.jsx("p",{className:"font-medium",children:r==null?void 0:r.serial_no})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Brand"}),e.jsx("p",{className:"font-medium",children:(r==null?void 0:r.brand)||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(V,{id:"unit",name:"unit",type:"text",maxLength:20,required:!0,value:i.unit||"",onChange:k=>{o("unit",k.target.value)}})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:r==null?void 0:r.size})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:r==null?void 0:r.color})]})]})}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(V,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,autoFocus:!0,className:"pl-7",value:j||"",onChange:T,onBlur:k=>{k.target.value=Number(j||0).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(V,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,value:y||"",onChange:C,onBlur:k=>{k.target.value=Se(y,{precision:3}).value.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(V,{id:"markup_price",name:"markup_price",type:"number",min:0,step:.01,className:"pl-7",value:p||"",onChange:E,onBlur:k=>{k.target.value=Number(p).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(V,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:ks(j,p).toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(V,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,max:i.cost||0,step:.01,disabled:i.on_sale===void 0?!0:i.on_sale===0,required:!0,className:"pl-7",value:i.sale_discount||"",onChange:k=>{o("sale_discount",Se(k.target.value).value)},onBlur:k=>{k.target.value=Number(i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(V,{name:"on_sale",id:"on_sale",type:"checkbox",className:"h-4 w-fit",checked:!!i.on_sale,onChange:k=>{o("on_sale",k.target.checked?1:0),o("sale_discount",0)}}),e.jsx(P,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(V,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((F=i.price)==null?void 0:F.toFixed(2))||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start gap-3",children:[e.jsx(pt,{id:"active_status",name:"active_status",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:i.active_status==="active"||!1,onCheckedChange:k=>{o("active_status",k?"active":"inactive")}}),e.jsx(P,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{defaultValue:"pending",value:i.approval_status||"",onValueChange:k=>{o("approval_status",k),k==="approved"&&o("approved_by",s.user.id)},required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"pending"})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(H,{className:"rounded-md",value:"approved",children:"Approved"},"approved")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"created_by",className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx(V,{name:"created_by",className:"text-sm disabled:pointer-events-none",readOnly:!0,disabled:!0,value:s.user?s.user.firstname+" "+s.user.lastname:""})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between whitespace-nowrap pt-4",children:[e.jsx(A,{fill:"default",onClick:()=>a("product"),className:"flex-0 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Go back"}),e.jsx(A,{type:"submit",fill:"green",disabled:c,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Submitting...":"Add listing"})]}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:m})})]})})})},Oo=({onClose:t})=>{const{warehouses:a}=ra(),[n,s]=f.useState(),{selectedProduct:r}=cs(),[l,i]=f.useState("product");return e.jsx(e.Fragment,{children:e.jsxs(Hn,{defaultValue:"product",className:"min-w-[42rem] max-w-2xl space-y-4",value:l,onValueChange:d=>i(d),children:[e.jsxs(Vn,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ra,{value:"product",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Product"}),e.jsx(Ra,{disabled:!r,value:"listings",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Listing"})]}),e.jsx(Ss,{value:"product",children:e.jsx(Do,{warehouses:a,selectedWarehouse:n,setSelectedWarehouse:s,setOpenedTab:i,onClose:t})}),e.jsx(Ss,{value:"listings",children:r&&e.jsx(To,{selectedWarehouse:n||{},setOpenedTab:i,onClose:t})})]})})},Po=({onClose:t})=>{const{value:a,handleChange:n,handleSubmit:s}=Mc(),{selectedProduct:r}=cs(),[l,i]=f.useState(!1),[d,o]=f.useState(null),[u,c]=f.useState(),x=(m,h,j,b)=>{j.test(m.target.value)?(m.target.value=m.target.value,n(h,m.target.value),c(void 0)):c({type:h,error:b})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async m=>{i(!l),m.preventDefault();const h=await s({action:"update",id:r.id,data:a});(h==null?void 0:h.status)===200?(i(!l),t()):(i(!l),o("Failed to update product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(V,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no!==void 0?a.serial_no:r.serial_no||"",onChange:m=>{x(m,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(u&&u.type==="serial_no"),className:"text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(V,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name!==void 0?a.name:r.name||"",onChange:m=>{x(m,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(u&&u.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(V,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand!==void 0?a.brand:r.brand||"",onChange:m=>{x(m,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(V,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size!==void 0?a.size:r.size||"",onChange:m=>{x(m,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(V,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color!==void 0?a.color:r.color||"",onChange:m=>{x(m,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(V,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",defaultValue:a.notes!==void 0?a.notes:r.notes||"",onBlur:m=>n("notes",m.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:l||Object.keys(a).length===0||u!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Applying...":"Apply changes"})]}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:d})})]})})})},sf=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Products",children:e.jsxs(jl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(_o,{openModal:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="add"?"Add Product":"Edit Product",children:e.jsxs(e.Fragment,{children:[s==="add"&&e.jsx(Wc,{onClose:n}),s==="edit"&&e.jsx(Po,{onClose:n})]})})]})})})},Ao=({onClose:t})=>{var _,T;const{auth:a}=ge(),{selectedProductPrice:n}=Sa(),{value:s,handleChange:r,handleSubmit:l}=er(),[i,d]=f.useState(!1),[o,u]=f.useState(null),[c,x]=f.useState(n.capital_price),[m,h]=f.useState(vn(n.capital_price,n.markup_price,3)),[j,b]=f.useState(n.markup_price),y=C=>{const E=C.target.value;x(Se(E).value),r("capital_price",Se(E).value),b(Cs(Se(E).value,m||0))},g=C=>{const E=Number(C.target.value);h(E),b(Cs(c,E))},p=C=>{const E=Se(C.target.value).value;b(E),h(vn(c,E,3))};return f.useEffect(()=>{r("capital_price",c),r("markup_price",j),r("cost",ks(c,j))},[c,m,j]),f.useEffect(()=>{r("price",zl(s.cost??n.cost,s.sale_discount??n.sale_discount))},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async C=>{d(!i),C.preventDefault(),l({action:"update",id:n.id,data:s}).then(()=>{d(!i),ea.success("Product price edited successfully"),t()}).catch(()=>{d(!i),u("Failed to add product listing"),ea.error("Failed to add product listing")})},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5 font-medium text-gray-700",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:n.product.name})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx("p",{className:"text-sm",children:n.product.brand||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Serial Number"}),e.jsx("p",{className:"text-sm",children:n.product.serial_no})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(V,{id:"unit",name:"unit",type:"text",maxLength:20,required:!0,value:s.unit||n.unit,onChange:C=>{r("unit",C.target.value)}})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:n.product.size})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:n.product.color})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(V,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,className:"pl-7",value:c||"",onChange:y,onBlur:C=>{C.target.value=Number(c).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(V,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,value:m||"",onChange:g,onBlur:C=>{C.target.value=Se(m,{precision:3}).value.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(V,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,step:.01,className:"pl-7",value:j||"",onChange:p,onBlur:C=>{C.target.value=Number(j).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(V,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:ks(c,j).toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(V,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:n.cost,disabled:s.on_sale===void 0?n.on_sale===0:s.on_sale===0,required:!0,className:"pl-7",value:s.sale_discount??((_=n.sale_discount)==null?void 0:_.toFixed(2))??"",onChange:C=>{r("sale_discount",Se(C.target.value).value)},onBlur:C=>{C.target.value=Number(s.sale_discount!==void 0?s.sale_discount:n.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(V,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?n.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:C=>{const E=document.getElementById("sale_discount");r("on_sale",C.target.checked?1:0),!C.target.checked&&(r("sale_discount",0),E&&(E.value="0.00"))}}),e.jsx(P,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(V,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((T=s.price)==null?void 0:T.toFixed(2))||n.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(pt,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":n.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:C=>{r("active_status",C?"active":"inactive")}}),e.jsx(P,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:n.created_by.firstname+" "+n.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:Ke(n.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{onValueChange:C=>{r("approval_status",C),C==="approved"?r("approved_by",a.user.id):r("approved_by","")},value:s.approval_status||n.approval_status||"",required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:s.approval_status||n.approval_status||"Select status..."})}),e.jsxs(ue,{className:"bg-white",children:[e.jsx(H,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(H,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(H,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:n.approved_by?n.approved_by.firstname+" "+n.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:Ke(n.updated_at)})]})]}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:i,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Applying changes...":"Apply changes"})]})}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:o})})]})})})},nf=()=>{const{warehouses:t}=ra(),[a,n]=f.useState(0),{isOpen:s,openModal:r,closeModal:l}=Le(),[i,d]=f.useState(""),o=(u,c)=>{d(c),r()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Product Listings",children:e.jsx(jl,{children:e.jsxs(xc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:u=>n(Number(u)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(H,{value:"0",children:"All"},"all"),t.map(u=>e.jsxs(H,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(So,{openModal:o,isModalOpen:s,filterWarehouse:a>0?a:void 0})})]}),e.jsx(He,{title:i==="add"?"Add Listing":i==="details"?"Listing Details":i==="edit"?"Edit Listing":i==="toggle_active_stat"?"Toggle Active Status":"",isOpen:s,onClose:l,closeOnOverlayClick:i==="details"||i==="toggle_active_stat",children:e.jsxs(e.Fragment,{children:[i==="add"&&e.jsx(Oo,{onClose:l}),i==="details"&&e.jsx(Co,{onClose:l}),i==="edit"&&e.jsx(Ao,{onClose:l}),i==="toggle_active_stat"&&e.jsx(ko,{onClose:l})]})})]})})})})},Eo=({openModal:t})=>{const{transfers:a,transferProducts:n,isFetching:s,setSelectedTransfer:r}=xt();ge();const l=c=>{r(c),t(c,"details")},i=c=>{r(c),t(c,"edit")},d=c=>{r(c),t(c,"products")},o=()=>{t({},"add")},u=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:x=>c.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:x=>c.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.code?c.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:c})=>{const x=c.original.source,m=c.original.destination;return e.jsxs("div",{className:"text-center",children:[x.code,"-",m.code]})}},{id:"transfer_products",header:()=>e.jsx("div",{className:"text-center",children:"PRODUCTS ADDED?"}),cell:({row:c})=>e.jsx("div",{className:"flex justify-center",children:n.filter(x=>x.transfer_id===c.original.id).length>0?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"})})},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.transfer_status?c.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>{const x=c.getValue("transfer_schedule");if(x.toString()!=="0000-00-00 00:00:00"){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>{const x=c.getValue("date_received");if(x){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:c})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:c.original.approval_status.toLowerCase()==="approved"?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):c.original.approval_status.toLowerCase()==="rejected"?e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:c})=>{const x=c.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>l(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Details"})]}),e.jsxs(Te,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit Transfer"})]}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>d(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:x.transfer_status!="arrived"&&x.approval_status!="rejected"?e.jsx(sa,{size:16,strokeWidth:2.25}):e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Products"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:u,filterWhat:"approval_status",dataType:"Transfer",openModal:o,isLoading:s})})},Io=({onClose:t})=>{const{selectedTransfer:a}=xt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ke(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ke(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})};var Pe=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Fo=["onCopy","onCut","onPaste"],Lo=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Mo=["onFocus","onBlur"],Wo=["onInput","onInvalid","onReset","onSubmit"],Ro=["onLoad","onError"],zo=["onKeyDown","onKeyPress","onKeyUp"],Uo=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Ho=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Vo=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],$o=["onSelect"],qo=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Ko=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Yo=["onScroll"],Bo=["onWheel"],Go=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Qo=["onTransitionEnd"],Zo=["onToggle"],Xo=["onChange"],Jo=Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe(Pe([],Fo,!0),Lo,!0),Mo,!0),Wo,!0),Ro,!0),zo,!0),Uo,!0),Ho,!0),Vo,!0),$o,!0),qo,!0),Ko,!0),Yo,!0),Bo,!0),Go,!0),Qo,!0),Xo,!0),Zo,!0);function ed(t,a){var n={};return Jo.forEach(function(s){var r=t[s];r&&(a?n[s]=function(l){return r(l,a(s))}:n[s]=r)}),n}var td="Expected a function",Ul="__lodash_hash_undefined__",ad="[object Function]",sd="[object GeneratorFunction]",nd=/[\\^$.*+?()[\]{}|]/g,rd=/^\[object .+?Constructor\]$/,ld=typeof hs=="object"&&hs&&hs.Object===Object&&hs,id=typeof self=="object"&&self&&self.Object===Object&&self,Hl=ld||id||Function("return this")();function cd(t,a){return t==null?void 0:t[a]}function od(t){var a=!1;if(t!=null&&typeof t.toString!="function")try{a=!!(t+"")}catch{}return a}var dd=Array.prototype,ud=Function.prototype,Vl=Object.prototype,Xs=Hl["__core-js_shared__"],Tr=function(){var t=/[^.]+$/.exec(Xs&&Xs.keys&&Xs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$l=ud.toString,sr=Vl.hasOwnProperty,md=Vl.toString,xd=RegExp("^"+$l.call(sr).replace(nd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hd=dd.splice,fd=ql(Hl,"Map"),ts=ql(Object,"create");function _a(t){var a=-1,n=t?t.length:0;for(this.clear();++a<n;){var s=t[a];this.set(s[0],s[1])}}function pd(){this.__data__=ts?ts(null):{}}function gd(t){return this.has(t)&&delete this.__data__[t]}function vd(t){var a=this.__data__;if(ts){var n=a[t];return n===Ul?void 0:n}return sr.call(a,t)?a[t]:void 0}function jd(t){var a=this.__data__;return ts?a[t]!==void 0:sr.call(a,t)}function yd(t,a){var n=this.__data__;return n[t]=ts&&a===void 0?Ul:a,this}_a.prototype.clear=pd;_a.prototype.delete=gd;_a.prototype.get=vd;_a.prototype.has=jd;_a.prototype.set=yd;function Ua(t){var a=-1,n=t?t.length:0;for(this.clear();++a<n;){var s=t[a];this.set(s[0],s[1])}}function bd(){this.__data__=[]}function Nd(t){var a=this.__data__,n=Ms(a,t);if(n<0)return!1;var s=a.length-1;return n==s?a.pop():hd.call(a,n,1),!0}function wd(t){var a=this.__data__,n=Ms(a,t);return n<0?void 0:a[n][1]}function _d(t){return Ms(this.__data__,t)>-1}function Sd(t,a){var n=this.__data__,s=Ms(n,t);return s<0?n.push([t,a]):n[s][1]=a,this}Ua.prototype.clear=bd;Ua.prototype.delete=Nd;Ua.prototype.get=wd;Ua.prototype.has=_d;Ua.prototype.set=Sd;function Ca(t){var a=-1,n=t?t.length:0;for(this.clear();++a<n;){var s=t[a];this.set(s[0],s[1])}}function Cd(){this.__data__={hash:new _a,map:new(fd||Ua),string:new _a}}function kd(t){return Ws(this,t).delete(t)}function Dd(t){return Ws(this,t).get(t)}function Td(t){return Ws(this,t).has(t)}function Od(t,a){return Ws(this,t).set(t,a),this}Ca.prototype.clear=Cd;Ca.prototype.delete=kd;Ca.prototype.get=Dd;Ca.prototype.has=Td;Ca.prototype.set=Od;function Ms(t,a){for(var n=t.length;n--;)if(Fd(t[n][0],a))return n;return-1}function Pd(t){if(!Kl(t)||Ed(t))return!1;var a=Ld(t)||od(t)?xd:rd;return a.test(Id(t))}function Ws(t,a){var n=t.__data__;return Ad(a)?n[typeof a=="string"?"string":"hash"]:n.map}function ql(t,a){var n=cd(t,a);return Pd(n)?n:void 0}function Ad(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}function Ed(t){return!!Tr&&Tr in t}function Id(t){if(t!=null){try{return $l.call(t)}catch{}try{return t+""}catch{}}return""}function nr(t,a){if(typeof t!="function"||a&&typeof a!="function")throw new TypeError(td);var n=function(){var s=arguments,r=a?a.apply(this,s):s[0],l=n.cache;if(l.has(r))return l.get(r);var i=t.apply(this,s);return n.cache=l.set(r,i),i};return n.cache=new(nr.Cache||Ca),n}nr.Cache=Ca;function Fd(t,a){return t===a||t!==t&&a!==a}function Ld(t){var a=Kl(t)?md.call(t):"";return a==ad||a==sd}function Kl(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}var Md=nr;const Yl=yl(Md);function Bl(t){return JSON.stringify(t)}function Wd(t){return typeof t=="string"}function Rd(t,a,n){return n.indexOf(t)===a}function zd(t){return t.toLowerCase()===t}function Or(t){return t.indexOf(",")===-1?t:t.split(",")}function jn(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var a=t.split(".")[0],n=a===void 0?"":a;return jn(n)}if(t.indexOf("@")!==-1){var s=t.split("@")[0],n=s===void 0?"":s;return jn(n)}if(t.indexOf("-")===-1||!zd(t))return t;var r=t.split("-"),l=r[0],i=r[1],d=i===void 0?"":i;return"".concat(l,"-").concat(d.toUpperCase())}function Ud(t){var a=t===void 0?{}:t,n=a.useFallbackLocale,s=n===void 0?!0:n,r=a.fallbackLocale,l=r===void 0?"en-US":r,i=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],o=[],u=0,c=d;u<c.length;u++){var x=c[u];o=o.concat(Or(x))}var m=navigator.language,h=m&&Or(m);i=i.concat(o,h)}return s&&i.push(l),i.filter(Wd).map(jn).filter(Rd)}var Hd=Yl(Ud,Bl);function Vd(t){return Hd(t)[0]||null}var Gl=Yl(Vd,Bl);const Ha=Gl;function Ht(t,a,n){return function(r,l){l===void 0&&(l=n);var i=t(r)+l;return a(i)}}function ds(t){return function(n){return new Date(t(n).getTime()-1)}}function us(t,a){return function(s){return[t(s),a(s)]}}function te(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var a=parseInt(t,10);if(typeof t=="string"&&!isNaN(a))return a;throw new Error("Failed to get year from date: ".concat(t,"."))}function la(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Tt(t){if(t instanceof Date)return t.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(t,"."))}function Ft(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Ye(t){if(t instanceof Date)return t.getHours();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var n=a[0];if(n){var s=parseInt(n,10);if(!isNaN(s))return s}}}throw new Error("Failed to get hours from date: ".concat(t,"."))}function Ot(t){if(t instanceof Date)return t.getMinutes();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var n=a[1]||"0",s=parseInt(n,10);if(!isNaN(s))return s}}throw new Error("Failed to get minutes from date: ".concat(t,"."))}function ja(t){if(t instanceof Date)return t.getSeconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var n=a[2]||"0",s=parseInt(n,10);if(!isNaN(s))return s}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Js(t){if(t instanceof Date)return t.getMilliseconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var n=a[2]||"0",s=n.split(".")[1]||"0",r=parseInt(s,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Va(t){var a=te(t),n=a+(-a+1)%100,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var $d=Ht(te,Va,-100),Ql=Ht(te,Va,100),rr=ds(Ql),qd=Ht(te,rr,-100),Zl=us(Va,rr);function ia(t){var a=te(t),n=a+(-a+1)%10,s=new Date;return s.setFullYear(n,0,1),s.setHours(0,0,0,0),s}var Xl=Ht(te,ia,-10),lr=Ht(te,ia,10),Rs=ds(lr),Jl=Ht(te,Rs,-10),ei=us(ia,Rs);function $a(t){var a=te(t),n=new Date;return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}var ti=Ht(te,$a,-1),ir=Ht(te,$a,1),zs=ds(ir),ai=Ht(te,zs,-1),Kd=us($a,zs);function cr(t,a){return function(s,r){r===void 0&&(r=a);var l=te(s),i=la(s)+r,d=new Date;return d.setFullYear(l,i,1),d.setHours(0,0,0,0),t(d)}}function ka(t){var a=te(t),n=la(t),s=new Date;return s.setFullYear(a,n,1),s.setHours(0,0,0,0),s}var si=cr(ka,-1),or=cr(ka,1),ms=ds(or),ni=cr(ms,-1),Yd=us(ka,ms);function Bd(t,a){return function(s,r){r===void 0&&(r=a);var l=te(s),i=la(s),d=Ft(s)+r,o=new Date;return o.setFullYear(l,i,d),o.setHours(0,0,0,0),t(o)}}function xs(t){var a=te(t),n=la(t),s=Ft(t),r=new Date;return r.setFullYear(a,n,s),r.setHours(0,0,0,0),r}var Gd=Bd(xs,1),dr=ds(Gd),Qd=us(xs,dr);function ur(t){return Ft(ms(t))}function Jt(t,a){a===void 0&&(a=2);var n="".concat(t);return n.length>=a?t:"0000".concat(n).slice(-a)}function Zd(t){var a=Jt(Ye(t)),n=Jt(Ot(t));return"".concat(a,":").concat(n)}function yn(t){var a=Jt(Ye(t)),n=Jt(Ot(t)),s=Jt(ja(t));return"".concat(a,":").concat(n,":").concat(s)}function bn(t){var a=Jt(te(t),4),n=Jt(Tt(t)),s=Jt(Ft(t));return"".concat(a,"-").concat(n,"-").concat(s)}function Xd(t){return"".concat(bn(t),"T").concat(yn(t))}var Ga,pe={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ea={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},Jd=(Ga={},Ga[pe.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Ga[pe.HEBREW]=["he","he-IL"],Ga[pe.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Ga),mr=[0,1,2,3,4,5,6],en=new Map;function eu(t){return function(n,s){var r=n||Ha();en.has(r)||en.set(r,new Map);var l=en.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(s)}}function tu(t){var a=new Date(t);return new Date(a.setHours(12))}function Da(t){return function(a,n){return eu(t)(a,tu(n))}}var au={day:"numeric"},su={day:"numeric",month:"long",year:"numeric"},nu={month:"long"},ru={month:"long",year:"numeric"},lu={weekday:"short"},iu={weekday:"long"},cu={year:"numeric"},ou=Da(au),du=Da(su),uu=Da(nu),ri=Da(ru),mu=Da(lu),xu=Da(iu),Us=Da(cu),hu=mr[0],fu=mr[5],Pr=mr[6];function as(t,a){a===void 0&&(a=pe.ISO_8601);var n=t.getDay();switch(a){case pe.ISO_8601:return(n+6)%7;case pe.ISLAMIC:return(n+1)%7;case pe.HEBREW:case pe.GREGORY:return n;default:throw new Error("Unsupported calendar type.")}}function pu(t){var a=Va(t);return te(a)}function gu(t){var a=ia(t);return te(a)}function Nn(t,a){a===void 0&&(a=pe.ISO_8601);var n=te(t),s=la(t),r=t.getDate()-as(t,a);return new Date(n,s,r)}function vu(t,a){a===void 0&&(a=pe.ISO_8601);var n=a===pe.GREGORY?pe.GREGORY:pe.ISO_8601,s=Nn(t,a),r=te(t)+1,l,i;do l=new Date(r,0,n===pe.ISO_8601?4:1),i=Nn(l,a),r-=1;while(t<i);return Math.round((s.getTime()-i.getTime())/(864e5*7))+1}function ya(t,a){switch(t){case"century":return Va(a);case"decade":return ia(a);case"year":return $a(a);case"month":return ka(a);case"day":return xs(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function ju(t,a){switch(t){case"century":return $d(a);case"decade":return Xl(a);case"year":return ti(a);case"month":return si(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function li(t,a){switch(t){case"century":return Ql(a);case"decade":return lr(a);case"year":return ir(a);case"month":return or(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function yu(t,a){switch(t){case"decade":return Xl(a,-100);case"year":return ti(a,-10);case"month":return si(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function bu(t,a){switch(t){case"decade":return lr(a,100);case"year":return ir(a,10);case"month":return or(a,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ii(t,a){switch(t){case"century":return rr(a);case"decade":return Rs(a);case"year":return zs(a);case"month":return ms(a);case"day":return dr(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Nu(t,a){switch(t){case"century":return qd(a);case"decade":return Jl(a);case"year":return ai(a);case"month":return ni(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function wu(t,a){switch(t){case"decade":return Jl(a,-100);case"year":return ai(a,-10);case"month":return ni(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Ar(t,a){switch(t){case"century":return Zl(a);case"decade":return ei(a);case"year":return Kd(a);case"month":return Yd(a);case"day":return Qd(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function _u(t,a,n){var s=[a,n].sort(function(r,l){return r.getTime()-l.getTime()});return[ya(t,s[0]),ii(t,s[1])]}function ci(t,a,n){return a===void 0&&(a=Us),n.map(function(s){return a(t,s)}).join("  ")}function Su(t,a,n){return ci(t,a,Zl(n))}function oi(t,a,n){return ci(t,a,ei(n))}function Cu(t){return t.getDay()===new Date().getDay()}function di(t,a){a===void 0&&(a=pe.ISO_8601);var n=t.getDay();switch(a){case pe.ISLAMIC:case pe.HEBREW:return n===fu||n===Pr;case pe.ISO_8601:case pe.GREGORY:return n===Pr||n===hu;default:throw new Error("Unsupported calendar type.")}}var ft="react-calendar__navigation";function ku(t){var a=t.activeStartDate,n=t.drillUp,s=t.formatMonthYear,r=s===void 0?ri:s,l=t.formatYear,i=l===void 0?Us:l,d=t.locale,o=t.maxDate,u=t.minDate,c=t.navigationAriaLabel,x=c===void 0?"":c,m=t.navigationAriaLive,h=t.navigationLabel,j=t.next2AriaLabel,b=j===void 0?"":j,y=t.next2Label,g=y===void 0?"":y,p=t.nextAriaLabel,_=p===void 0?"":p,T=t.nextLabel,C=T===void 0?"":T,E=t.prev2AriaLabel,F=E===void 0?"":E,k=t.prev2Label,S=k===void 0?"":k,I=t.prevAriaLabel,L=I===void 0?"":I,W=t.prevLabel,$=W===void 0?"":W,Y=t.setActiveStartDate,U=t.showDoubleView,N=t.view,B=t.views,le=B.indexOf(N)>0,M=N!=="century",Q=ju(N,a),me=M?yu(N,a):void 0,xe=li(N,a),he=M?bu(N,a):void 0,X=function(){if(Q.getFullYear()<0)return!0;var G=Nu(N,a);return u&&u>=G}(),Oe=M&&function(){if(me.getFullYear()<0)return!0;var G=wu(N,a);return u&&u>=G}(),Me=o&&o<xe,We=M&&o&&o<he;function Ae(){Y(Q,"prev")}function De(){Y(me,"prev2")}function Ve(){Y(xe,"next")}function Ne(){Y(he,"next2")}function je(G){var ve=function(){switch(N){case"century":return Su(d,i,G);case"decade":return oi(d,i,G);case"year":return i(d,G);case"month":return r(d,G);default:throw new Error("Invalid view: ".concat(N,"."))}}();return h?h({date:G,label:ve,locale:d||Gl()||void 0,view:N}):ve}function q(){var G="".concat(ft,"__label");return w.createElement("button",{"aria-label":x,"aria-live":m,className:G,disabled:!le,onClick:n,style:{flexGrow:1},type:"button"},w.createElement("span",{className:"".concat(G,"__labelText ").concat(G,"__labelText--from")},je(a)),U?w.createElement(w.Fragment,null,w.createElement("span",{className:"".concat(G,"__divider")},"  "),w.createElement("span",{className:"".concat(G,"__labelText ").concat(G,"__labelText--to")},je(xe))):null)}return w.createElement("div",{className:ft},S!==null&&M?w.createElement("button",{"aria-label":F,className:"".concat(ft,"__arrow ").concat(ft,"__prev2-button"),disabled:Oe,onClick:De,type:"button"},S):null,$!==null&&w.createElement("button",{"aria-label":L,className:"".concat(ft,"__arrow ").concat(ft,"__prev-button"),disabled:X,onClick:Ae,type:"button"},$),q(),C!==null&&w.createElement("button",{"aria-label":_,className:"".concat(ft,"__arrow ").concat(ft,"__next-button"),disabled:Me,onClick:Ve,type:"button"},C),g!==null&&M?w.createElement("button",{"aria-label":b,className:"".concat(ft,"__arrow ").concat(ft,"__next2-button"),disabled:We,onClick:Ne,type:"button"},g):null)}var Ia=globalThis&&globalThis.__assign||function(){return Ia=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ia.apply(this,arguments)},Du=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function Er(t){return"".concat(t,"%")}function xr(t){var a=t.children,n=t.className,s=t.count,r=t.direction,l=t.offset,i=t.style,d=t.wrap,o=Du(t,["children","className","count","direction","offset","style","wrap"]);return w.createElement("div",Ia({className:n,style:Ia({display:"flex",flexDirection:r,flexWrap:d?"wrap":"nowrap"},i)},o),w.Children.map(a,function(u,c){var x=l&&c===0?Er(100*l/s):null;return w.cloneElement(u,Ia(Ia({},u.props),{style:{flexBasis:Er(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:x,marginInlineStart:x,marginInlineEnd:0}}))}))}var Tu=function(){},Ou=Tu;const Pu=yl(Ou);var Aa;function Au(t,a,n){return a&&a>t?a:n&&n<t?n:t}function ss(t,a){return a[0]<=t&&a[1]>=t}function Eu(t,a){return t[0]<=a[0]&&t[1]>=a[1]}function ui(t,a){return ss(t[0],a)||ss(t[1],a)}function Ir(t,a,n){var s=ui(a,t),r=[];if(s){r.push(n);var l=ss(t[0],a),i=ss(t[1],a);l&&r.push("".concat(n,"Start")),i&&r.push("".concat(n,"End")),l&&i&&r.push("".concat(n,"BothEnds"))}return r}function Iu(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Fu(t){if(!t)throw new Error("args is required");var a=t.value,n=t.date,s=t.hover,r="react-calendar__tile",l=[r];if(!n)return l;var i=new Date,d=function(){if(Array.isArray(n))return n;var h=t.dateType;if(!h)throw new Error("dateType is required when date is not an array of two dates");return Ar(h,n)}();if(ss(i,d)&&l.push("".concat(r,"--now")),!a||!Iu(a))return l;var o=function(){if(Array.isArray(a))return a;var h=t.valueType;if(!h)throw new Error("valueType is required when value is not an array of two dates");return Ar(h,a)}();Eu(o,d)?l.push("".concat(r,"--active")):ui(o,d)&&l.push("".concat(r,"--hasActive"));var u=Ir(o,d,"".concat(r,"--range"));l.push.apply(l,u);var c=Array.isArray(a)?a:[a];if(s&&c.length===1){var x=s>o[0]?[o[0],s]:[s,o[0]],m=Ir(x,d,"".concat(r,"--hover"));l.push.apply(l,m)}return l}var Lu=(Aa={},Aa[Ea.ARABIC]=pe.ISLAMIC,Aa[Ea.HEBREW]=pe.HEBREW,Aa[Ea.ISO_8601]=pe.ISO_8601,Aa[Ea.US]=pe.GREGORY,Aa);function Mu(t){return t!==void 0&&t in Ea}var Fr=!1;function Hs(t){if(Mu(t)){var a=Lu[t];return Pu(Fr,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(a,'" instead.')),Fr=!0,a}return t}function Vs(t){for(var a=t.className,n=t.count,s=n===void 0?3:n,r=t.dateTransform,l=t.dateType,i=t.end,d=t.hover,o=t.offset,u=t.renderTile,c=t.start,x=t.step,m=x===void 0?1:x,h=t.value,j=t.valueType,b=[],y=c;y<=i;y+=m){var g=r(y);b.push(u({classes:Fu({date:g,dateType:l,hover:d,value:h,valueType:j}),date:g}))}return w.createElement(xr,{className:a,count:s,offset:o,wrap:!0},b)}function $s(t){var a=t.activeStartDate,n=t.children,s=t.classes,r=t.date,l=t.formatAbbr,i=t.locale,d=t.maxDate,o=t.maxDateTransform,u=t.minDate,c=t.minDateTransform,x=t.onClick,m=t.onMouseOver,h=t.style,j=t.tileClassName,b=t.tileContent,y=t.tileDisabled,g=t.view,p=f.useMemo(function(){var T={activeStartDate:a,date:r,view:g};return typeof j=="function"?j(T):j},[a,r,j,g]),_=f.useMemo(function(){var T={activeStartDate:a,date:r,view:g};return typeof b=="function"?b(T):b},[a,r,b,g]);return w.createElement("button",{className:it(s,p),disabled:u&&c(u)>r||d&&o(d)<r||y&&y({activeStartDate:a,date:r,view:g}),onClick:x?function(T){return x(r,T)}:void 0,onFocus:m?function(){return m(r)}:void 0,onMouseOver:m?function(){return m(r)}:void 0,style:h,type:"button"},l?w.createElement("abbr",{"aria-label":l(i,r)},n):n,_)}var wn=globalThis&&globalThis.__assign||function(){return wn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},wn.apply(this,arguments)},Wu=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},tn="react-calendar__century-view__decades__decade";function Ru(t){var a=t.classes,n=a===void 0?[]:a,s=t.currentCentury,r=t.formatYear,l=r===void 0?Us:r,i=Wu(t,["classes","currentCentury","formatYear"]),d=i.date,o=i.locale,u=[];return n&&u.push.apply(u,n),tn&&u.push(tn),Va(d).getFullYear()!==s&&u.push("".concat(tn,"--neighboringCentury")),w.createElement($s,wn({},i,{classes:u,maxDateTransform:Rs,minDateTransform:ia,view:"century"}),oi(o,l,d))}var _n=globalThis&&globalThis.__assign||function(){return _n=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},_n.apply(this,arguments)},Lr=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function zu(t){var a=t.activeStartDate,n=t.hover,s=t.showNeighboringCentury,r=t.value,l=t.valueType,i=Lr(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=pu(a),o=d+(s?119:99);return w.createElement(Vs,{className:"react-calendar__century-view__decades",dateTransform:ia,dateType:"decade",end:o,hover:n,renderTile:function(u){var c=u.date,x=Lr(u,["date"]);return w.createElement(Ru,_n({key:c.getTime()},i,x,{activeStartDate:a,currentCentury:d,date:c}))},start:d,step:10,value:r,valueType:l})}var Mr=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Uu=Object.values(pe),Hu=Object.values(Ea),Sn=["century","decade","year","month"],mi=v.oneOf(Mr(Mr([],Uu,!0),Hu,!0)),Ds=v.oneOfType([v.string,v.arrayOf(v.string)]),hr=function(a,n,s){var r=a,l=n,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, minDate cannot be larger than maxDate.")):null},fr=function(a,n,s){var r=a,l=n,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, maxDate cannot be smaller than minDate.")):null},Vu=v.oneOfType([v.func,v.exact({current:v.any})]),$u=v.arrayOf(v.oneOfType([v.instanceOf(Date),v.oneOf([null])]).isRequired),qu=v.oneOfType([v.instanceOf(Date),v.oneOf([null]),$u]);v.arrayOf(v.oneOf(Sn));var Ts=function(a,n,s){var r=a,l=n,i=r[l];return i!==void 0&&(typeof i!="string"||Sn.indexOf(i)===-1)?new Error("Invalid prop `".concat(n,"` of value `").concat(i,"` supplied to `").concat(s,"`, expected one of [").concat(Sn.map(function(d){return'"'.concat(d,'"')}).join(", "),"].")):null};Ts.isRequired=function(a,n,s,r,l){var i=a,d=n,o=i[d];return o?Ts(a,n,s):new Error("The prop `".concat(n,"` is marked as required in `").concat(s,"`, but its value is `").concat(o,"`."))};var Ku=function(t){return v.arrayOf(t)},qs={activeStartDate:v.instanceOf(Date).isRequired,hover:v.instanceOf(Date),locale:v.string,maxDate:fr,minDate:hr,onClick:v.func,onMouseOver:v.func,tileClassName:v.oneOfType([v.func,Ds]),tileContent:v.oneOfType([v.func,v.node]),value:qu,valueType:v.oneOf(["century","decade","year","month","day"]).isRequired};v.instanceOf(Date).isRequired,v.arrayOf(v.string.isRequired).isRequired,v.instanceOf(Date).isRequired,v.string,v.func,v.func,v.objectOf(v.oneOfType([v.string,v.number])),v.oneOfType([v.func,Ds]),v.oneOfType([v.func,v.node]),v.func;var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ns.apply(this,arguments)},xi=function(a){function n(){return w.createElement(zu,ns({},a))}return w.createElement("div",{className:"react-calendar__century-view"},n())};xi.propTypes=ns(ns({},qs),{showNeighboringCentury:v.bool});const Yu=xi;var Cn=globalThis&&globalThis.__assign||function(){return Cn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Cn.apply(this,arguments)},Bu=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},an="react-calendar__decade-view__years__year";function Gu(t){var a=t.classes,n=a===void 0?[]:a,s=t.currentDecade,r=t.formatYear,l=r===void 0?Us:r,i=Bu(t,["classes","currentDecade","formatYear"]),d=i.date,o=i.locale,u=[];return n&&u.push.apply(u,n),an&&u.push(an),ia(d).getFullYear()!==s&&u.push("".concat(an,"--neighboringDecade")),w.createElement($s,Cn({},i,{classes:u,maxDateTransform:zs,minDateTransform:$a,view:"decade"}),l(o,d))}var kn=globalThis&&globalThis.__assign||function(){return kn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},kn.apply(this,arguments)},Wr=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function Qu(t){var a=t.activeStartDate,n=t.hover,s=t.showNeighboringDecade,r=t.value,l=t.valueType,i=Wr(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=gu(a),o=d+(s?11:9);return w.createElement(Vs,{className:"react-calendar__decade-view__years",dateTransform:$a,dateType:"year",end:o,hover:n,renderTile:function(u){var c=u.date,x=Wr(u,["date"]);return w.createElement(Gu,kn({key:c.getTime()},i,x,{activeStartDate:a,currentDecade:d,date:c}))},start:d,value:r,valueType:l})}var rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},rs.apply(this,arguments)},hi=function(a){function n(){return w.createElement(Qu,rs({},a))}return w.createElement("div",{className:"react-calendar__decade-view"},n())};hi.propTypes=rs(rs({},qs),{showNeighboringDecade:v.bool});const Zu=hi;var Dn=globalThis&&globalThis.__assign||function(){return Dn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Dn.apply(this,arguments)},Xu=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},Rr=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Ju="react-calendar__year-view__months__month";function em(t){var a=t.classes,n=a===void 0?[]:a,s=t.formatMonth,r=s===void 0?uu:s,l=t.formatMonthYear,i=l===void 0?ri:l,d=Xu(t,["classes","formatMonth","formatMonthYear"]),o=d.date,u=d.locale;return w.createElement($s,Dn({},d,{classes:Rr(Rr([],n,!0),[Ju],!1),formatAbbr:i,maxDateTransform:ms,minDateTransform:ka,view:"year"}),r(u,o))}var Tn=globalThis&&globalThis.__assign||function(){return Tn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Tn.apply(this,arguments)},zr=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function tm(t){var a=t.activeStartDate,n=t.hover,s=t.value,r=t.valueType,l=zr(t,["activeStartDate","hover","value","valueType"]),i=0,d=11,o=te(a);return w.createElement(Vs,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(o,u,1),ka(c)},dateType:"month",end:d,hover:n,renderTile:function(u){var c=u.date,x=zr(u,["date"]);return w.createElement(em,Tn({key:c.getTime()},l,x,{activeStartDate:a,date:c}))},start:i,value:s,valueType:r})}var Os=globalThis&&globalThis.__assign||function(){return Os=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Os.apply(this,arguments)},fi=function(a){function n(){return w.createElement(tm,Os({},a))}return w.createElement("div",{className:"react-calendar__year-view"},n())};fi.propTypes=Os({},qs);const am=fi;var On=globalThis&&globalThis.__assign||function(){return On=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},On.apply(this,arguments)},sm=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},ps="react-calendar__month-view__days__day";function nm(t){var a=t.calendarType,n=t.classes,s=n===void 0?[]:n,r=t.currentMonthIndex,l=t.formatDay,i=l===void 0?ou:l,d=t.formatLongDate,o=d===void 0?du:d,u=sm(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=Hs(a),x=u.date,m=u.locale,h=[];return s&&h.push.apply(h,s),ps&&h.push(ps),di(x,c)&&h.push("".concat(ps,"--weekend")),x.getMonth()!==r&&h.push("".concat(ps,"--neighboringMonth")),w.createElement($s,On({},u,{classes:h,formatAbbr:o,maxDateTransform:dr,minDateTransform:xs,view:"month"}),i(m,x))}var Pn=globalThis&&globalThis.__assign||function(){return Pn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Pn.apply(this,arguments)},Ur=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function rm(t){var a=t.activeStartDate,n=t.calendarType,s=t.hover,r=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,i=t.value,d=t.valueType,o=Ur(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=Hs(n),c=te(a),x=la(a),m=r||l,h=as(a,u),j=m?0:h,b=(m?-h:0)+1,y=function(){if(r)return b+6*7-1;var g=ur(a);if(l){var p=new Date;p.setFullYear(c,x,g),p.setHours(0,0,0,0);var _=7-as(p,u)-1;return g+_}return g}();return w.createElement(Vs,{className:"react-calendar__month-view__days",count:7,dateTransform:function(g){var p=new Date;return p.setFullYear(c,x,g),xs(p)},dateType:"day",hover:s,end:y,renderTile:function(g){var p=g.date,_=Ur(g,["date"]);return w.createElement(nm,Pn({key:p.getTime()},o,_,{activeStartDate:a,calendarType:n,currentMonthIndex:x,date:p}))},offset:j,start:b,value:i,valueType:d})}var pi="react-calendar__month-view__weekdays",sn="".concat(pi,"__weekday");function lm(t){for(var a=t.calendarType,n=t.formatShortWeekday,s=n===void 0?mu:n,r=t.formatWeekday,l=r===void 0?xu:r,i=t.locale,d=t.onMouseLeave,o=Hs(a),u=new Date,c=ka(u),x=te(c),m=la(c),h=[],j=1;j<=7;j+=1){var b=new Date(x,m,j-as(c,o)),y=l(i,b);h.push(w.createElement("div",{key:j,className:it(sn,Cu(b)&&"".concat(sn,"--current"),di(b,o)&&"".concat(sn,"--weekend"))},w.createElement("abbr",{"aria-label":y,title:y},s(i,b).replace(".",""))))}return w.createElement(xr,{className:pi,count:7,onFocus:d,onMouseOver:d},h)}var Ps=globalThis&&globalThis.__assign||function(){return Ps=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ps.apply(this,arguments)},Hr=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},Vr="react-calendar__tile";function im(t){var a=t.onClickWeekNumber,n=t.weekNumber,s=w.createElement("span",null,n);if(a){var r=t.date,l=t.onClickWeekNumber,i=t.weekNumber,d=Hr(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("button",Ps({},d,{className:Vr,onClick:function(o){return l(i,r,o)},type:"button"}),s)}else{t.date,t.onClickWeekNumber,t.weekNumber;var d=Hr(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("div",Ps({},d,{className:Vr}),s)}}function cm(t){var a=t.activeStartDate,n=t.calendarType,s=t.onClickWeekNumber,r=t.onMouseLeave,l=t.showFixedNumberOfWeeks,i=Hs(n),d=function(){if(l)return 6;var c=ur(a),x=as(a,i),m=c-(7-x);return 1+Math.ceil(m/7)}(),o=function(){for(var c=te(a),x=la(a),m=Ft(a),h=[],j=0;j<d;j+=1)h.push(Nn(new Date(c,x,m+j*7),i));return h}(),u=o.map(function(c){return vu(c,i)});return w.createElement(xr,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:r,onMouseOver:r,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(c,x){var m=o[x];if(!m)throw new Error("date is not defined");return w.createElement(im,{key:c,date:m,onClickWeekNumber:s,weekNumber:c})}))}var ls=globalThis&&globalThis.__assign||function(){return ls=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ls.apply(this,arguments)},om=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function dm(t){if(t)for(var a=0,n=Object.entries(Jd);a<n.length;a++){var s=n[a],r=s[0],l=s[1];if(l.includes(t))return r}return pe.ISO_8601}var gi=function(a){var n=a.activeStartDate,s=a.locale,r=a.onMouseLeave,l=a.showFixedNumberOfWeeks,i=a.calendarType,d=i===void 0?dm(s):i,o=a.formatShortWeekday,u=a.formatWeekday,c=a.onClickWeekNumber,x=a.showWeekNumbers,m=om(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return w.createElement(lm,{calendarType:d,formatShortWeekday:o,formatWeekday:u,locale:s,onMouseLeave:r})}function j(){return x?w.createElement(cm,{activeStartDate:n,calendarType:d,onClickWeekNumber:c,onMouseLeave:r,showFixedNumberOfWeeks:l}):null}function b(){return w.createElement(rm,ls({calendarType:d},m))}var y="react-calendar__month-view";return w.createElement("div",{className:it(y,x?"".concat(y,"--weekNumbers"):"")},w.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},j(),w.createElement("div",{style:{flexGrow:1,width:"100%"}},h(),b())))};gi.propTypes=ls(ls({},qs),{calendarType:mi,formatDay:v.func,formatLongDate:v.func,formatShortWeekday:v.func,formatWeekday:v.func,onClickWeekNumber:v.func,onMouseLeave:v.func,showFixedNumberOfWeeks:v.bool,showNeighboringMonth:v.bool,showWeekNumbers:v.bool});const um=gi;var Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fa.apply(this,arguments)},gs="react-calendar",Wa=["century","decade","year","month"],mm=["decade","year","month","day"],pr=new Date;pr.setFullYear(1,0,1);pr.setHours(0,0,0,0);var xm=new Date(864e13);function Qa(t){return t instanceof Date?t:new Date(t)}function vi(t,a){return Wa.slice(Wa.indexOf(t),Wa.indexOf(a)+1)}function hm(t,a,n){var s=vi(a,n);return s.indexOf(t)!==-1}function gr(t,a,n){return t&&hm(t,a,n)?t:n}function ji(t){var a=Wa.indexOf(t);return mm[a]}function fm(t,a){var n=Array.isArray(t)?t[a]:t;if(!n)return null;var s=Qa(n);if(isNaN(s.getTime()))throw new Error("Invalid date: ".concat(t));return s}function yi(t,a){var n=t.value,s=t.minDate,r=t.maxDate,l=t.maxDetail,i=fm(n,a);if(!i)return null;var d=ji(l),o=function(){switch(a){case 0:return ya(d,i);case 1:return ii(d,i);default:throw new Error("Invalid index value: ".concat(a))}}();return Au(o,s,r)}var vr=function(t){return yi(t,0)},bi=function(t){return yi(t,1)},pm=function(t){return[vr,bi].map(function(a){return a(t)})};function Ni(t){var a=t.maxDate,n=t.maxDetail,s=t.minDate,r=t.minDetail,l=t.value,i=t.view,d=gr(i,r,n),o=vr({value:l,minDate:s,maxDate:a,maxDetail:n})||new Date;return ya(d,o)}function gm(t){var a=t.activeStartDate,n=t.defaultActiveStartDate,s=t.defaultValue,r=t.defaultView,l=t.maxDate,i=t.maxDetail,d=t.minDate,o=t.minDetail,u=t.value,c=t.view,x=gr(c,o,i),m=a||n;return m?ya(x,m):Ni({maxDate:l,maxDetail:i,minDate:d,minDetail:o,value:u||s,view:c||r})}function nn(t){return t&&(!Array.isArray(t)||t.length===1)}function vs(t,a){return t instanceof Date&&a instanceof Date&&t.getTime()===a.getTime()}var wi=f.forwardRef(function(a,n){var s=a.activeStartDate,r=a.allowPartialRange,l=a.calendarType,i=a.className,d=a.defaultActiveStartDate,o=a.defaultValue,u=a.defaultView,c=a.formatDay,x=a.formatLongDate,m=a.formatMonth,h=a.formatMonthYear,j=a.formatShortWeekday,b=a.formatWeekday,y=a.formatYear,g=a.goToRangeStartOnSelect,p=g===void 0?!0:g,_=a.inputRef,T=a.locale,C=a.maxDate,E=C===void 0?xm:C,F=a.maxDetail,k=F===void 0?"month":F,S=a.minDate,I=S===void 0?pr:S,L=a.minDetail,W=L===void 0?"century":L,$=a.navigationAriaLabel,Y=a.navigationAriaLive,U=a.navigationLabel,N=a.next2AriaLabel,B=a.next2Label,le=a.nextAriaLabel,M=a.nextLabel,Q=a.onActiveStartDateChange,me=a.onChange,xe=a.onClickDay,he=a.onClickDecade,X=a.onClickMonth,Oe=a.onClickWeekNumber,Me=a.onClickYear,We=a.onDrillDown,Ae=a.onDrillUp,De=a.onViewChange,Ve=a.prev2AriaLabel,Ne=a.prev2Label,je=a.prevAriaLabel,q=a.prevLabel,G=a.returnValue,ve=G===void 0?"start":G,ye=a.selectRange,ct=a.showDoubleView,ot=a.showFixedNumberOfWeeks,ca=a.showNavigation,Ta=ca===void 0?!0:ca,oa=a.showNeighboringCentury,da=a.showNeighboringDecade,Ee=a.showNeighboringMonth,bt=Ee===void 0?!0:Ee,ua=a.showWeekNumbers,$e=a.tileClassName,Nt=a.tileContent,Vt=a.tileDisabled,ht=a.value,wt=a.view,ma=f.useState(d),$t=ma[0],qt=ma[1],Oa=f.useState(null),xa=Oa[0],dt=Oa[1],_t=f.useState(Array.isArray(o)?o.map(function(O){return O!==null?Qa(O):null}):o!=null?Qa(o):null),ha=_t[0],qa=_t[1],Kt=f.useState(u),Ka=Kt[0],fa=Kt[1],Ce=s||$t||gm({activeStartDate:s,defaultActiveStartDate:d,defaultValue:o,defaultView:u,maxDate:E,maxDetail:k,minDate:I,minDetail:W,value:ht,view:wt}),ke=function(){var O=function(){return ye&&nn(ha)?ha:ht!==void 0?ht:ha}();return O?Array.isArray(O)?O.map(function(R){return R!==null?Qa(R):null}):O!==null?Qa(O):null:null}(),Yt=ji(k),ie=gr(wt||Ka,W,k),Xe=vi(W,k),tt=ye?xa:null,K=Xe.indexOf(ie)<Xe.length-1,J=Xe.indexOf(ie)>0,Ie=f.useCallback(function(O){var R=function(){switch(ve){case"start":return vr;case"end":return bi;case"range":return pm;default:throw new Error("Invalid returnValue.")}}();return R({maxDate:E,maxDetail:k,minDate:I,value:O})},[E,k,I,ve]),Re=f.useCallback(function(O,R){qt(O);var z={action:R,activeStartDate:O,value:ke,view:ie};Q&&!vs(Ce,O)&&Q(z)},[Ce,Q,ke,ie]),be=f.useCallback(function(O,R){var z=function(){switch(ie){case"century":return he;case"decade":return Me;case"year":return X;case"month":return xe;default:throw new Error("Invalid view: ".concat(ie,"."))}}();z&&z(O,R)},[xe,he,X,Me,ie]),at=f.useCallback(function(O,R){if(K){be(O,R);var z=Xe[Xe.indexOf(ie)+1];if(!z)throw new Error("Attempted to drill down from the lowest view.");qt(O),fa(z);var we={action:"drillDown",activeStartDate:O,value:ke,view:z};Q&&!vs(Ce,O)&&Q(we),De&&ie!==z&&De(we),We&&We(we)}},[Ce,K,Q,be,We,De,ke,ie,Xe]),rt=f.useCallback(function(){if(J){var O=Xe[Xe.indexOf(ie)-1];if(!O)throw new Error("Attempted to drill up from the highest view.");var R=ya(O,Ce);qt(R),fa(O);var z={action:"drillUp",activeStartDate:R,value:ke,view:O};Q&&!vs(Ce,R)&&Q(z),De&&ie!==O&&De(z),Ae&&Ae(z)}},[Ce,J,Q,Ae,De,ke,ie,Xe]),st=f.useCallback(function(O,R){var z=ke;be(O,R);var we=ye&&!nn(z),_e;if(ye)if(we)_e=ya(Yt,O);else{if(!z)throw new Error("previousValue is required");if(Array.isArray(z))throw new Error("previousValue must not be an array");_e=_u(Yt,z,O)}else _e=Ie(O);var Je=!ye||we||p?Ni({maxDate:E,maxDetail:k,minDate:I,minDetail:W,value:_e,view:ie}):null;R.persist(),qt(Je),qa(_e);var St={action:"onChange",activeStartDate:Je,value:_e,view:ie};if(Q&&!vs(Ce,Je)&&Q(St),me)if(ye){var nt=nn(_e);if(!nt)me(_e||null,R);else if(r){if(Array.isArray(_e))throw new Error("value must not be an array");me([_e||null,null],R)}}else me(_e||null,R)},[Ce,r,Ie,p,E,k,I,W,Q,me,be,ye,ke,Yt,ie]);function Ya(O){dt(O)}function Bt(){dt(null)}f.useImperativeHandle(n,function(){return{activeStartDate:Ce,drillDown:at,drillUp:rt,onChange:st,setActiveStartDate:Re,value:ke,view:ie}},[Ce,at,rt,st,Re,ke,ie]);function pa(O){var R=O?li(ie,Ce):ya(ie,Ce),z=K?at:st,we={activeStartDate:R,hover:tt,locale:T,maxDate:E,minDate:I,onClick:z,onMouseOver:ye?Ya:void 0,tileClassName:$e,tileContent:Nt,tileDisabled:Vt,value:ke,valueType:Yt};switch(ie){case"century":return w.createElement(Yu,Fa({formatYear:y,showNeighboringCentury:oa},we));case"decade":return w.createElement(Zu,Fa({formatYear:y,showNeighboringDecade:da},we));case"year":return w.createElement(am,Fa({formatMonth:m,formatMonthYear:h},we));case"month":return w.createElement(um,Fa({calendarType:l,formatDay:c,formatLongDate:x,formatShortWeekday:j,formatWeekday:b,onClickWeekNumber:Oe,onMouseLeave:ye?Bt:void 0,showFixedNumberOfWeeks:typeof ot<"u"?ot:ct,showNeighboringMonth:bt,showWeekNumbers:ua},we));default:throw new Error("Invalid view: ".concat(ie,"."))}}function Pa(){return Ta?w.createElement(ku,{activeStartDate:Ce,drillUp:rt,formatMonthYear:h,formatYear:y,locale:T,maxDate:E,minDate:I,navigationAriaLabel:$,navigationAriaLive:Y,navigationLabel:U,next2AriaLabel:N,next2Label:B,nextAriaLabel:le,nextLabel:M,prev2AriaLabel:Ve,prev2Label:Ne,prevAriaLabel:je,prevLabel:q,setActiveStartDate:Re,showDoubleView:ct,view:ie,views:Xe}):null}var D=Array.isArray(ke)?ke:[ke];return w.createElement("div",{className:it(gs,ye&&D.length===1&&"".concat(gs,"--selectRange"),ct&&"".concat(gs,"--doubleView"),i),ref:_},Pa(),w.createElement("div",{className:"".concat(gs,"__viewContainer"),onBlur:ye?Bt:void 0,onMouseLeave:ye?Bt:void 0},pa(),ct?pa(!0):null))}),$r=v.instanceOf(Date),qr=v.oneOfType([v.string,v.instanceOf(Date)]),Kr=v.oneOfType([qr,Ku(qr)]);wi.propTypes={activeStartDate:$r,allowPartialRange:v.bool,calendarType:mi,className:Ds,defaultActiveStartDate:$r,defaultValue:Kr,defaultView:Ts,formatDay:v.func,formatLongDate:v.func,formatMonth:v.func,formatMonthYear:v.func,formatShortWeekday:v.func,formatWeekday:v.func,formatYear:v.func,goToRangeStartOnSelect:v.bool,inputRef:Vu,locale:v.string,maxDate:fr,maxDetail:v.oneOf(Wa),minDate:hr,minDetail:v.oneOf(Wa),navigationAriaLabel:v.string,navigationAriaLive:v.oneOf(["off","polite","assertive"]),navigationLabel:v.func,next2AriaLabel:v.string,next2Label:v.node,nextAriaLabel:v.string,nextLabel:v.node,onActiveStartDateChange:v.func,onChange:v.func,onClickDay:v.func,onClickDecade:v.func,onClickMonth:v.func,onClickWeekNumber:v.func,onClickYear:v.func,onDrillDown:v.func,onDrillUp:v.func,onViewChange:v.func,prev2AriaLabel:v.string,prev2Label:v.node,prevAriaLabel:v.string,prevLabel:v.node,returnValue:v.oneOf(["start","end","range"]),selectRange:v.bool,showDoubleView:v.bool,showFixedNumberOfWeeks:v.bool,showNavigation:v.bool,showNeighboringCentury:v.bool,showNeighboringDecade:v.bool,showNeighboringMonth:v.bool,showWeekNumbers:v.bool,tileClassName:v.oneOfType([v.func,Ds]),tileContent:v.oneOfType([v.func,v.node]),tileDisabled:v.func,value:Kr,view:Ts};const vm=wi;function rn(t){var a=t.angle,n=a===void 0?0:a,s=t.name,r=t.length,l=r===void 0?100:r,i=t.oppositeLength,d=i===void 0?10:i,o=t.width,u=o===void 0?1:o;return w.createElement("div",{className:"react-clock__hand react-clock__".concat(s,"-hand"),style:{transform:"rotate(".concat(n,"deg)")}},w.createElement("div",{className:"react-clock__hand__body react-clock__".concat(s,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-l/2,"%"),bottom:"".concat(50-d/2,"%")}}))}function _i(t){var a=t.angle,n=a===void 0?0:a,s=t.length,r=s===void 0?10:s,l=t.name,i=t.width,d=i===void 0?1:i,o=t.number;return w.createElement("div",{className:"react-clock__mark react-clock__".concat(l,"-mark"),style:{transform:"rotate(".concat(n,"deg)")}},w.createElement("div",{className:"react-clock__mark__body react-clock__".concat(l,"-mark__body"),style:{width:"".concat(d,"px"),top:0,bottom:"".concat(100-r/2,"%")}}),o?w.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(n,"deg)"),top:"".concat(r/2,"%")}},o):null)}var An=globalThis&&globalThis.__assign||function(){return An=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},An.apply(this,arguments)},jm=f.memo(function(a){return w.createElement(_i,An({},a))});const ym=jm;function bm(t,a){return a.toLocaleString(t||Ha()||void 0)}var En=globalThis&&globalThis.__assign||function(){return En=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},En.apply(this,arguments)},Nm=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},wm=f.memo(function(a){var n=a.formatHour,s=n===void 0?bm:n,r=a.locale,l=a.number,i=Nm(a,["formatHour","locale","number"]);return w.createElement(_i,En({number:l?s(r,l):null},i))});const _m=wm;function Si(t,a){return function(n,s,r){var l=n,i=s,d=l[i];if(typeof d<"u"){if(typeof d!="number")return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof d,"` supplied to `").concat(r,"`, expected `number`."));if(d<t||d>a)return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof d,"` supplied to `").concat(r,"`, length must be between ").concat(t," and ").concat(a,"."))}return null}}var ws=Si(0,100),ln=Si(-100,100),_s=function(a,n,s){var r=a,l=n,i=r[l];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, width must be greater or equal to 0."))}return null},Yr=ws,Br=_s,Ci=function(a){var n=a.className,s=a.formatHour,r=a.hourHandLength,l=r===void 0?50:r,i=a.hourHandOppositeLength,d=a.hourHandWidth,o=d===void 0?4:d,u=a.hourMarksLength,c=u===void 0?10:u,x=a.hourMarksWidth,m=x===void 0?3:x,h=a.locale,j=a.minuteHandLength,b=j===void 0?70:j,y=a.minuteHandOppositeLength,g=a.minuteHandWidth,p=g===void 0?2:g,_=a.minuteMarksLength,T=_===void 0?6:_,C=a.minuteMarksWidth,E=C===void 0?1:C,F=a.renderHourMarks,k=F===void 0?!0:F,S=a.renderMinuteHand,I=S===void 0?!0:S,L=a.renderMinuteMarks,W=L===void 0?!0:L,$=a.renderNumbers,Y=a.renderSecondHand,U=Y===void 0?!0:Y,N=a.secondHandLength,B=N===void 0?90:N,le=a.secondHandOppositeLength,M=a.secondHandWidth,Q=M===void 0?1:M,me=a.size,xe=me===void 0?150:me,he=a.useMillisecondPrecision,X=a.value;function Oe(){if(!W)return null;for(var Ne=[],je=1;je<=60;je+=1){var q=k&&!(je%5);q||Ne.push(w.createElement(ym,{key:"minute_".concat(je),angle:je*6,length:T,name:"minute",width:E}))}return Ne}function Me(){if(!k)return null;for(var Ne=[],je=1;je<=12;je+=1)Ne.push(w.createElement(_m,{key:"hour_".concat(je),angle:je*30,formatHour:s,length:c,locale:h,name:"hour",number:$?je:void 0,width:m}));return Ne}function We(){return w.createElement("div",{className:"react-clock__face"},Oe(),Me())}function Ae(){var Ne=X?Ye(X)*30+Ot(X)/2+ja(X)/120+(he?Js(X)/12e4:0):0;return w.createElement(rn,{angle:Ne,length:l,name:"hour",oppositeLength:i,width:o})}function De(){if(!I)return null;var Ne=X?Ye(X)*360+Ot(X)*6+ja(X)/10+(he?Js(X)/1e4:0):0;return w.createElement(rn,{angle:Ne,length:b,name:"minute",oppositeLength:y,width:p})}function Ve(){if(!U)return null;var Ne=X?Ot(X)*360+ja(X)*6+(he?Js(X)*.006:0):0;return w.createElement(rn,{angle:Ne,length:B,name:"second",oppositeLength:le,width:Q})}return w.createElement("time",{className:it("react-clock",n),dateTime:X instanceof Date?X.toISOString():X||void 0,style:{width:xe,height:xe}},We(),Ae(),De(),Ve())};Ci.propTypes={className:v.oneOfType([v.string,v.arrayOf(v.string)]),formatHour:v.func,hourHandLength:ws,hourHandOppositeLength:ln,hourHandWidth:_s,hourMarksLength:Yr,hourMarksWidth:Br,locale:v.string,minuteHandLength:ws,minuteHandOppositeLength:ln,minuteHandWidth:_s,minuteMarksLength:Yr,minuteMarksWidth:Br,renderHourMarks:v.bool,renderMinuteHand:v.bool,renderMinuteMarks:v.bool,renderNumbers:v.bool,renderSecondHand:v.bool,secondHandLength:ws,secondHandOppositeLength:ln,secondHandWidth:_s,size:v.oneOfType([v.number,v.string]),value:v.oneOfType([v.string,v.instanceOf(Date)])};const Sm=Ci;function Ue(t){return t.getBoundingClientRect()}function Gr(t,a){return{get collidedTop(){return Ue(t).top<Ue(a).top},get collidedBottom(){return Ue(t).bottom>Ue(a).bottom},get collidedLeft(){return Ue(t).left<Ue(a).left},get collidedRight(){return Ue(t).right>Ue(a).right},get overflowTop(){return Ue(a).top-Ue(t).top},get overflowBottom(){return Ue(t).bottom-Ue(a).bottom},get overflowLeft(){return Ue(a).left-Ue(t).left},get overflowRight(){return Ue(t).right-Ue(a).right}}}var Cm=!0;function Qr(t,a){if(!Cm){if(t)return;var n="Warning: "+a;typeof console<"u"&&console.warn(n);try{throw Error(n)}catch{}}}var km=globalThis&&globalThis.__extends||function(){var t=function(a,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,r){s.__proto__=r}||function(s,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(s[l]=r[l])},t(a,n)};return function(a,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(a,n);function s(){this.constructor=a}a.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Zt=globalThis&&globalThis.__assign||function(){return Zt=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Zt.apply(this,arguments)},Dm=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},ki=typeof document<"u",Zr=ki&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),Tm=ki&&"MutationObserver"in window;function js(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Xr(t){for(var a=t.parentElement;a;){var n=window.getComputedStyle(a).overflow;if(n.split(" ").every(function(s){return s==="auto"||s==="scroll"}))return a;a=a.parentElement}return document.documentElement}function Di(t){var a=t.axis,n=t.container,s=t.element,r=t.invertAxis,l=t.scrollContainer,i=t.secondary,d=t.spacing,o=window.getComputedStyle(s),u=n.parentElement;if(!u)return;var c=Gr(u,l),x=Gr(u,document.documentElement),m=a==="x",h=m?"left":"top",j=m?"right":"bottom",b=m?"width":"height",y="overflow".concat(js(h)),g="overflow".concat(js(j)),p="scroll".concat(js(h)),_=js(b),T="offset".concat(_),C="client".concat(_),E="min-".concat(b),F=l[T]-l[C],k=typeof d=="object"?d[h]:d,S=-Math.max(c[y],x[y]+document.documentElement[p])-k,I=typeof d=="object"?d[j]:d,L=-Math.max(c[g],x[g]-document.documentElement[p])-I-F;i&&(S+=u[C],L+=u[C]);var W=s[T];function $(){s.style[h]="auto",s.style[j]=i?"0":"100%"}function Y(){s.style[h]=i?"0":"100%",s.style[j]="auto"}function U(Q,me){var xe=W<=Q;return xe&&me(),xe}function N(){return U(S,$)}function B(){return U(L,Y)}function le(){var Q=S>L,me=o.getPropertyValue(E),xe=me?parseInt(me,10):null;function he(X){Qr(!xe||X>=xe,"<Fit />'s child will not fit anywhere with its current ".concat(E," of ").concat(xe,"px."));var Oe=Math.max(X,xe||0);Qr(!1,"<Fit />'s child needed to have its ".concat(b," decreased to ").concat(Oe,"px.")),s.style[b]="".concat(Oe,"px")}Q?(he(S),$()):(he(L),Y())}var M;r?M=N()||B():M=B()||N(),M||le()}function Om(t){Di(t)}function Pm(t){Di(Zt(Zt({},t),{axis:t.axis==="x"?"y":"x",secondary:!0}))}function Am(t){var a=t.invertAxis,n=t.invertSecondaryAxis,s=Dm(t,["invertAxis","invertSecondaryAxis"]);Om(Zt(Zt({},s),{invertAxis:a})),Pm(Zt(Zt({},s),{invertAxis:n}))}var Em=function(t){km(a,t);function a(){var n=t!==null&&t.apply(this,arguments)||this;return n.fit=function(){var s=n,r=s.scrollContainer,l=s.container,i=s.element;if(!(!r||!l||!i)){var d=i.clientWidth,o=i.clientHeight;if(!(n.elementWidth===d&&n.elementHeight===o)){n.elementWidth=d,n.elementHeight=o;var u=l.parentElement;if(u){var c=window.getComputedStyle(i),x=c.position;x!=="absolute"&&(i.style.position="absolute");var m=window.getComputedStyle(u),h=m.position;h!=="relative"&&h!=="absolute"&&(u.style.position="relative");var j=n.props,b=j.invertAxis,y=j.invertSecondaryAxis,g=j.mainAxis,p=g===void 0?"y":g,_=j.spacing,T=_===void 0?8:_;Am({axis:p,container:l,element:i,invertAxis:b,invertSecondaryAxis:y,scrollContainer:r,spacing:T})}}}},n}return a.prototype.componentDidMount=function(){var n=this;if(!Zr){var s=pn.findDOMNode(this);if(!s||!(s instanceof HTMLElement))return;this.container=s,this.element=s,this.scrollContainer=Xr(s)}this.fit();var r=function(){n.fit()};if(Tm&&this.element){var l=new MutationObserver(r);l.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},a.prototype.render=function(){var n=this,s=this.props.children,r=w.Children.only(s);return Zr?w.createElement("span",{ref:function(l){n.container=l;var i=l&&l.firstElementChild;!i||!(i instanceof HTMLElement)||(n.element=i,n.scrollContainer=Xr(i))},style:{display:"contents"}},r):r},a.propTypes={children:v.node.isRequired,invertAxis:v.bool,invertSecondaryAxis:v.bool,mainAxis:v.oneOf(["x","y"]),spacing:v.oneOfType([v.number,v.shape({bottom:v.number.isRequired,left:v.number.isRequired,right:v.number.isRequired,top:v.number.isRequired})])},a}(f.Component);const Jr=Em;function Im(t){var a=t.children;return w.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},a)}var Fm=["normal","small-caps"];function jr(t){if(!t)return"";var a=window.getComputedStyle(t);if(a.font)return a.font;var n=a.fontFamily!=="";if(!n)return"";var s=Fm.includes(a.fontVariant)?a.fontVariant:"normal";return"".concat(a.fontStyle," ").concat(s," ").concat(a.fontWeight," ").concat(a.fontSize," / ").concat(a.lineHeight," ").concat(a.fontFamily)}var el;function Lm(t,a){var n=el||(el=document.createElement("canvas")),s=n.getContext("2d");if(!s)return null;s.font=a;var r=s.measureText(t).width;return Math.ceil(r)}function na(t){if(typeof document>"u"||!t)return null;var a=jr(t),n=t.value||t.placeholder,s=Lm(n,a);return s===null?null:(t.style.width="".concat(s,"px"),s)}var yr=typeof document<"u",Mm=yr?f.useLayoutEffect:f.useEffect,Wm=yr&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Rm=yr&&/Firefox/.test(navigator.userAgent);function zm(t){var a=t.target;Wm?requestAnimationFrame(function(){return a.select()}):a.select()}function Um(t){if(document.readyState==="complete")return;function a(){na(t)}window.addEventListener("load",a)}function Hm(t){if(!document.fonts)return;var a=jr(t);if(!a)return;var n=document.fonts.check(a);if(n)return;function s(){na(t)}document.fonts.addEventListener("loadingdone",s)}function Vm(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function $m(t){if(t!==null)return function(n){if(!Rm){var s=n.key,r=n.target,l=r.value,i=s.length===1&&/\d/.test(s),d=Vm(r);(!i||!(d||l.length<t))&&n.preventDefault()}}}function br(t){var a=t.ariaLabel,n=t.autoFocus,s=t.className,r=t.disabled,l=t.inputRef,i=t.max,d=t.min,o=t.name,u=t.nameForClass,c=t.onChange,x=t.onKeyDown,m=t.onKeyUp,h=t.placeholder,j=h===void 0?"--":h,b=t.required,y=t.showLeadingZeros,g=t.step,p=t.value;Mm(function(){!l||!l.current||(na(l.current),Um(l.current),Hm(l.current))},[l,p]);var _=y&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),T=i?i.toString().length:null;return w.createElement(w.Fragment,null,_?w.createElement("span",{className:"".concat(s,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:n,className:it("".concat(s,"__input"),"".concat(s,"__").concat(u||o),_&&"".concat(s,"__input--hasLeadingZero")),"data-input":"true",disabled:r,inputMode:"numeric",max:i,min:d,name:o,onChange:c,onFocus:zm,onKeyDown:x,onKeyPress:$m(T),onKeyUp:function(C){na(C.target),m&&m(C)},placeholder:j,ref:l,required:b,step:g,type:"number",value:p!==null?p:""}))}function Ti(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Ks(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Ti))}function Ys(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Ti))}var In=globalThis&&globalThis.__assign||function(){return In=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},In.apply(this,arguments)},qm=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function Km(t){var a=t.maxDate,n=t.minDate,s=t.month,r=t.year,l=qm(t,["maxDate","minDate","month","year"]),i=function(){return s?ur(new Date(Number(r),Number(s)-1,1)):31}();function d(c){return r===te(c).toString()&&s===Tt(c).toString()}var o=Ks(i,a&&d(a)&&Ft(a)),u=Ys(1,n&&d(n)&&Ft(n));return w.createElement(br,In({max:o,min:u,name:"day"},l))}var Fn=globalThis&&globalThis.__assign||function(){return Fn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Fn.apply(this,arguments)},Ym=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function Bm(t){var a=t.maxDate,n=t.minDate,s=t.year,r=Ym(t,["maxDate","minDate","year"]);function l(o){return o&&s===te(o).toString()}var i=Ks(12,a&&l(a)&&Tt(a)),d=Ys(1,n&&l(n)&&Tt(n));return w.createElement(br,Fn({max:i,min:d,name:"month"},r))}var cn=new Map;function Gm(t){return function(n,s){var r=n||Ha();cn.has(r)||cn.set(r,new Map);var l=cn.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(s)}}function Qm(t){var a=new Date(t);return new Date(a.setHours(12))}function Oi(t){return function(a,n){return Gm(t)(a,Qm(n))}}var Zm={month:"long"},Xm={month:"short"},Jm=Oi(Zm),ex=Oi(Xm),tx=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))};function ax(t){var a=t.ariaLabel,n=t.autoFocus,s=t.className,r=t.disabled,l=t.inputRef,i=t.locale,d=t.maxDate,o=t.minDate,u=t.onChange,c=t.onKeyDown,x=t.placeholder,m=x===void 0?"--":x,h=t.required,j=t.short,b=t.value,y=t.year;function g(F){return F&&y===te(F).toString()}var p=Ks(12,d&&g(d)&&Tt(d)),_=Ys(1,o&&g(o)&&Tt(o)),T=tx([],Array(12),!0).map(function(F,k){return new Date(2019,k,1)}),C="month",E=j?ex:Jm;return w.createElement("select",{"aria-label":a,autoFocus:n,className:it("".concat(s,"__input"),"".concat(s,"__").concat(C)),"data-input":"true","data-select":"true",disabled:r,name:C,onChange:u,onKeyDown:c,ref:l,required:h,value:b!==null?b:""},!b&&w.createElement("option",{value:""},m),T.map(function(F){var k=Tt(F),S=k<_||k>p;return w.createElement("option",{key:k,disabled:S,value:k},E(i,F))}))}var Ln=globalThis&&globalThis.__assign||function(){return Ln=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ln.apply(this,arguments)},sx=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function nx(t){var a=t.maxDate,n=t.minDate,s=t.placeholder,r=s===void 0?"----":s,l=t.valueType,i=sx(t,["maxDate","minDate","placeholder","valueType"]),d=Ks(275760,a&&te(a)),o=Ys(1,n&&te(n)),u=function(){return l==="century"?10:1}();return w.createElement(br,Ln({max:d,min:o,name:"year",placeholder:r,step:u},i))}var Nr=typeof document<"u",rx=Nr?f.useLayoutEffect:f.useEffect,lx=Nr&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),ix=Nr&&/Firefox/.test(navigator.userAgent);function cx(t){var a=t.target;lx?requestAnimationFrame(function(){return a.select()}):a.select()}function ox(t){if(document.readyState==="complete")return;function a(){na(t)}window.addEventListener("load",a)}function dx(t){if(!document.fonts)return;var a=jr(t);if(!a)return;var n=document.fonts.check(a);if(n)return;function s(){na(t)}document.fonts.addEventListener("loadingdone",s)}function ux(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function mx(t){if(t!==null)return function(n){if(!ix){var s=n.key,r=n.target,l=r.value,i=s.length===1&&/\d/.test(s),d=ux(r);(!i||!(d||l.length<t))&&n.preventDefault()}}}function Bs(t){var a=t.ariaLabel,n=t.autoFocus,s=t.className,r=t.disabled,l=t.inputRef,i=t.max,d=t.min,o=t.name,u=t.nameForClass,c=t.onChange,x=t.onKeyDown,m=t.onKeyUp,h=t.placeholder,j=h===void 0?"--":h,b=t.required,y=t.showLeadingZeros,g=t.step,p=t.value;rx(function(){!l||!l.current||(na(l.current),ox(l.current),dx(l.current))},[l,p]);var _=y&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),T=i?i.toString().length:null;return w.createElement(w.Fragment,null,_?w.createElement("span",{className:"".concat(s,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:n,className:it("".concat(s,"__input"),"".concat(s,"__").concat(u||o),_&&"".concat(s,"__input--hasLeadingZero")),"data-input":"true",disabled:r,inputMode:"numeric",max:i,min:d,name:o,onChange:c,onFocus:cx,onKeyDown:x,onKeyPress:mx(T),onKeyUp:function(C){na(C.target),m&&m(C)},placeholder:j,ref:l,required:b,step:g,type:"number",value:p!==null?p:""}))}function Xa(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}var on=new Map;function xx(t){return function(n,s){var r=n||Ha();on.has(r)||on.set(r,new Map);var l=on.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(s)}}var hx=["9",""],tl=new RegExp("[".concat(hx.join(""),"]")),al=xx({hour:"numeric"});function fx(t){var a=al(t,new Date(2017,0,1,9)),n=al(t,new Date(2017,0,1,21)),s=a.split(tl),r=s[0],l=s[1],i=n.split(tl),d=i[0],o=i[1];if(o!==void 0){if(r!==d)return[r,d].map(function(u){return u.trim()});if(l!==o)return[l,o].map(function(u){return u.trim()})}return["AM","PM"]}function Pi(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Gs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Pi))}function Qs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Pi))}var Mn=globalThis&&globalThis.__assign||function(){return Mn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Mn.apply(this,arguments)},px=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function gx(t){var a=t.amPm,n=t.maxTime,s=t.minTime,r=t.value,l=px(t,["amPm","maxTime","minTime","value"]),i=Gs(12,n&&function(){var u=Xa(Ye(n)),c=u[0],x=u[1];return x!==a?null:c}()),d=Qs(1,s&&function(){var u=Xa(Ye(s)),c=u[0],x=u[1];return x!==a||c===12?null:c}()),o=r?Xa(r)[0].toString():"";return w.createElement(Bs,Mn({max:i,min:d,name:"hour12",nameForClass:"hour",value:o},l))}var Wn=globalThis&&globalThis.__assign||function(){return Wn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Wn.apply(this,arguments)},vx=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function jx(t){var a=t.maxTime,n=t.minTime,s=vx(t,["maxTime","minTime"]),r=Gs(23,a&&Ye(a)),l=Qs(0,n&&Ye(n));return w.createElement(Bs,Wn({max:r,min:l,name:"hour24",nameForClass:"hour"},s))}var Rn=globalThis&&globalThis.__assign||function(){return Rn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Rn.apply(this,arguments)},yx=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function bx(t){var a=t.hour,n=t.maxTime,s=t.minTime,r=t.showLeadingZeros,l=r===void 0?!0:r,i=yx(t,["hour","maxTime","minTime","showLeadingZeros"]);function d(c){return a===Ye(c).toString()}var o=Gs(59,n&&d(n)&&Ot(n)),u=Qs(0,s&&d(s)&&Ot(s));return w.createElement(Bs,Rn({max:o,min:u,name:"minute",showLeadingZeros:l},i))}var zn=globalThis&&globalThis.__assign||function(){return zn=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},zn.apply(this,arguments)},Nx=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n};function wx(t){var a=t.hour,n=t.maxTime,s=t.minTime,r=t.minute,l=t.showLeadingZeros,i=l===void 0?!0:l,d=Nx(t,["hour","maxTime","minTime","minute","showLeadingZeros"]);function o(x){return a===Ye(x).toString()&&r===Ot(x).toString()}var u=Gs(59,n&&o(n)&&ja(n)),c=Qs(0,s&&o(s)&&ja(s));return w.createElement(Bs,zn({max:u,min:c,name:"second",showLeadingZeros:i},d))}function _x(t){var a=t.ariaLabel,n=t.autoFocus,s=t.className,r=t.disabled,l=t.inputRef,i=t.locale,d=t.maxTime,o=t.minTime,u=t.onChange,c=t.onKeyDown,x=t.required,m=t.value,h=o?Xa(Ye(o))[1]==="pm":!1,j=d?Xa(Ye(d))[1]==="am":!1,b="amPm",y=fx(i),g=y[0],p=y[1];return w.createElement("select",{"aria-label":a,autoFocus:n,className:it("".concat(s,"__input"),"".concat(s,"__").concat(b)),"data-input":"true","data-select":"true",disabled:r,name:b,onChange:u,onKeyDown:c,ref:l,required:x,value:m!==null?m:""},!m&&w.createElement("option",{value:""},"--"),w.createElement("option",{disabled:h,value:"am"},g),w.createElement("option",{disabled:j,value:"pm"},p))}function Sx(t){var a=t.ariaLabel,n=t.disabled,s=t.maxDate,r=t.minDate,l=t.name,i=t.onChange,d=t.required,o=t.value,u=t.valueType,c=function(){switch(u){case"hour":return function(h){return"".concat(bn(h),"T").concat(Ye(h),":00")};case"minute":return function(h){return"".concat(bn(h),"T").concat(Zd(h))};case"second":return Xd;default:throw new Error("Invalid valueType")}}(),x=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function m(h){h.stopPropagation()}return w.createElement("input",{"aria-label":a,disabled:n,hidden:!0,max:s?c(s):void 0,min:r?c(r):void 0,name:l,onChange:i,onFocus:m,required:d,step:x,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:o?c(o):""})}var dn=new Map;function As(t){return function(n,s){var r=n||Ha();dn.has(r)||dn.set(r,new Map);var l=dn.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(s)}}var un=new Map;function Cx(t){return function(a,n){var s=a||Ha();un.has(s)||un.set(s,new Map);var r=un.get(s);return r.has(t)||r.set(t,new Intl.NumberFormat(s||void 0,t).format),r.get(t)(n)}}var kx={day:"numeric",month:"numeric",year:"numeric"},Dx=As(kx);function sl(t,a){var n=Number(t);return a==="am"&&n===12?n=0:a==="pm"&&n<12&&(n+=12),n}function Tx(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}function Ox(t,a,n){return a&&a>t?a:n&&n<t?n:t}var Px=["9",""],nl=new RegExp("[".concat(Px.join(""),"]")),rl=As({hour:"numeric"});function Ax(t){var a=rl(t,new Date(2017,0,1,9)),n=rl(t,new Date(2017,0,1,21)),s=a.split(nl),r=s[0],l=s[1],i=n.split(nl),d=i[0],o=i[1];if(o!==void 0){if(r!==d)return[r,d].map(function(u){return u.trim()});if(l!==o)return[l,o].map(function(u){return u.trim()})}return["AM","PM"]}var ut=globalThis&&globalThis.__assign||function(){return ut=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ut.apply(this,arguments)},ll=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},ys={},Ja=new Date;Ja.setFullYear(1,0,1);Ja.setHours(0,0,0,0);var mn=new Date(864e13),Ex=["hour","minute","second"];function Ai(t){return t instanceof Date?t:new Date(t)}function il(t,a,n,s){return a===te(t).toString()&&n===Tt(t).toString()&&s===Ft(t).toString()}function Ix(t,a){var n=Array.isArray(t)?t[a]:t;if(!n)return null;var s=Ai(n);if(isNaN(s.getTime()))throw new Error("Invalid date: ".concat(t));return s}function Fx(t,a){var n=t.value,s=t.minDate,r=t.maxDate,l=Ix(n,a);return l?Ox(l,s,r):null}var Lx=function(t){return Fx(t,0)};function Mx(t){return t.dataset.input==="true"}function cl(t,a){var n=t;do n=n[a];while(n&&!Mx(n));return n}function xn(t){t&&t.focus()}function Wx(t,a,n){var s=[],r=new RegExp(Object.keys(a).map(function(i){return"".concat(i,"+")}).join("|"),"g"),l=t.match(r);return t.split(r).reduce(function(i,d,o){var u=d&&w.createElement(Im,{key:"separator_".concat(o)},d),c=ll(ll([],i,!0),[u],!1),x=l&&l[o];if(x){var m=a[x]||a[Object.keys(a).find(function(h){return x.match(h)})];if(!m)return c;!n&&s.includes(m)?c.push(x):(c.push(m(x,o)),s.push(m))}return c},[])}var bs=Cx({useGrouping:!1});function Rx(t){var a=t.amPmAriaLabel,n=t.autoFocus,s=t.className,r=t.dayAriaLabel,l=t.dayPlaceholder,i=t.disabled,d=t.format,o=t.hourAriaLabel,u=t.hourPlaceholder,c=t.isWidgetOpen,x=t.locale,m=t.maxDate,h=t.maxDetail,j=h===void 0?"minute":h,b=t.minDate,y=t.minuteAriaLabel,g=t.minutePlaceholder,p=t.monthAriaLabel,_=t.monthPlaceholder,T=t.name,C=T===void 0?"datetime":T,E=t.nativeInputAriaLabel,F=t.onChange,k=t.onInvalidChange,S=t.required,I=t.secondAriaLabel,L=t.secondPlaceholder,W=t.showLeadingZeros,$=t.value,Y=t.yearAriaLabel,U=t.yearPlaceholder,N=f.useState(null),B=N[0],le=N[1],M=f.useState(null),Q=M[0],me=M[1],xe=f.useState(null),he=xe[0],X=xe[1],Oe=f.useState(null),Me=Oe[0],We=Oe[1],Ae=f.useState(null),De=Ae[0],Ve=Ae[1],Ne=f.useState(null),je=Ne[0],q=Ne[1],G=f.useState(null),ve=G[0],ye=G[1],ct=f.useState(null),ot=ct[0],ca=ct[1],Ta=f.useRef(null),oa=f.useRef(null),da=f.useRef(null),Ee=f.useRef(null),bt=f.useRef(null),ua=f.useRef(null),$e=f.useRef(null),Nt=f.useRef(null),Vt=f.useRef(null),ht=f.useState(c),wt=ht[0],ma=ht[1],$t=f.useRef();f.useEffect(function(){ma(c)},[c]),f.useEffect(function(){var D=Lx({value:$,minDate:b,maxDate:m});D?(le(Tx(Ye(D))[1]),me(te(D).toString()),X(Tt(D).toString()),We(Ft(D).toString()),Ve(Ye(D).toString()),q(Ot(D).toString()),ye(ja(D).toString()),ca(Ai(D))):(le(null),me(null),X(null),We(null),Ve(null),q(null),ye(null),ca(null))},[$,b,m,wt]);var qt=j,Oa=function(){var D=Ex.indexOf(j),O=ys[D]||function(){var R={hour:"numeric"};return D>=1&&(R.minute="numeric"),D>=2&&(R.second="numeric"),ys[D]=R,R}();return As(O)}(),xa=function(){var D=2017,O=11,R=11,z=new Date(D,O,R),we=Dx(x,z),_e=["year","month","day"],Je=["y","M","d"];function St(Ct,ga){var Gt=ys[Ct]||function(){var kt,lt=(kt={},kt[Ct]="numeric",kt);return ys[Ct]=lt,lt}();return As(Gt)(x,ga).match(/\d{1,}/)}var nt=we;return _e.forEach(function(Ct,ga){var Gt=St(Ct,z);if(Gt){var kt=Gt[0],lt=Je[ga];nt=nt.replace(kt,lt)}}),nt=nt.replace("17","y"),nt}(),dt=function(){var D=21,O=9,R=13,z=14,we=new Date(2017,0,1,D,R,z);return Oa(x,we).replace(bs(x,O),"h").replace(bs(x,D),"H").replace(bs(x,R),"mm").replace(bs(x,z),"ss").replace(new RegExp(Ax(x).join("|")),"a")}(),_t=d||"".concat(xa,"").concat(dt),ha=function(){var D=xa.match(/[^0-9a-z]/i);return D?D[0]:null}(),qa=function(){var D=dt.match(/[^0-9a-z]/i);return D?D[0]:null}(),Kt=function(){if(m&&il(m,Q,he,Me))return yn(m||mn)}(),Ka=function(){if(b&&il(b,Q,he,Me))return yn(b||Ja)}();function fa(D){if(D.target===D.currentTarget){var O=D.target.children[1];xn(O)}}function Ce(D){switch($t.current=D.key,D.key){case"ArrowLeft":case"ArrowRight":case ha:case qa:{D.preventDefault();var O=D.target,R=D.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",z=cl(O,R);xn(z);break}}}function ke(D){var O=D.key,R=D.target,z=$t.current===O;if(z){var we=!isNaN(Number(O));if(we){var _e=R.getAttribute("max");if(_e){var Je=R.value;if(Number(Je)*10>Number(_e)||Je.length>=_e.length){var St="nextElementSibling",nt=cl(R,St);xn(nt)}}}}}function Yt(){if(!F)return;function D(ze){return!!ze}var O=[Ta.current,bt.current,da.current,Ee.current,oa.current,ua.current,$e.current,Nt.current,Vt.current].filter(D),R=O.slice(1),z={};O.forEach(function(ze){z[ze.name]=ze.type==="number"?"valueAsNumber"in ze?ze.valueAsNumber:Number(ze.value):ze.value});var we=R.every(function(ze){return!ze.value});if(we){F(null,!1);return}var _e=O.every(function(ze){return ze.value}),Je=O.every(function(ze){return ze.validity.valid});if(_e&&Je){var St=Number(z.year||new Date().getFullYear()),nt=Number(z.month||1)-1,Ct=Number(z.day||1),ga=Number(z.hour24||z.hour12&&z.amPm&&sl(z.hour12,z.amPm)||0),Gt=Number(z.minute||0),kt=Number(z.second||0),lt=new Date;lt.setFullYear(St,nt,Ct),lt.setHours(ga,Gt,kt,0),F(lt,!1);return}k&&k()}function ie(D){var O=D.target,R=O.name,z=O.value;switch(R){case"amPm":le(z);break;case"year":me(z);break;case"month":X(z);break;case"day":We(z);break;case"hour12":Ve(z?sl(z,B||"am").toString():"");break;case"hour24":Ve(z);break;case"minute":q(z);break;case"second":ye(z);break}Yt()}function Xe(D){var O=D.target.value;if(F){var R=function(){if(!O)return null;var z=O.split("T"),we=z[0],_e=z[1],Je=we.split("-"),St=Je[0],nt=Je[1],Ct=Je[2],ga=Number(St),Gt=Number(nt)-1||0,kt=Number(Ct)||1,lt=_e.split(":"),ze=lt[0],Li=lt[1],Mi=lt[2],Wi=Number(ze)||0,Ri=Number(Li)||0,zi=Number(Mi)||0,Zs=new Date;return Zs.setFullYear(ga,Gt,kt),Zs.setHours(Wi,Ri,zi,0),Zs}();F(R,!1)}}var tt={className:s,disabled:i,maxDate:m||mn,minDate:b||Ja,onChange:ie,onKeyDown:Ce,onKeyUp:ke,required:!!(S||wt)},K={maxTime:Kt,minTime:Ka};function J(D,O){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var R=D&&D.length===2;return w.createElement(Km,ut({key:"day"},tt,{ariaLabel:r,autoFocus:O===0&&n,inputRef:bt,month:he,placeholder:l,showLeadingZeros:R||W,value:Me,year:Q}))}function Ie(D,O){if(D&&D.length>4)throw new Error("Unsupported token: ".concat(D));if(D.length>2)return w.createElement(ax,ut({key:"month"},tt,{ariaLabel:p,autoFocus:O===0&&n,inputRef:Ee,locale:x,placeholder:_,short:D.length===3,value:he,year:Q}));var R=D&&D.length===2;return w.createElement(Bm,ut({key:"month"},tt,{ariaLabel:p,autoFocus:O===0&&n,inputRef:da,placeholder:_,showLeadingZeros:R||W,value:he,year:Q}))}function Re(D,O){return w.createElement(nx,ut({key:"year"},tt,{ariaLabel:Y,autoFocus:O===0&&n,inputRef:oa,placeholder:U,value:Q,valueType:"day"}))}function be(D,O){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var R=D?D.length===2:!1;return w.createElement(gx,ut({key:"hour12"},tt,K,{amPm:B,ariaLabel:o,autoFocus:O===0&&n,inputRef:ua,placeholder:u,showLeadingZeros:R,value:De}))}function at(D,O){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var R=D?D.length===2:!1;return w.createElement(jx,ut({key:"hour24"},tt,K,{ariaLabel:o,autoFocus:O===0&&n,inputRef:$e,placeholder:u,showLeadingZeros:R,value:De}))}function rt(D,O){return/h/.test(D)?be(D,O):at(D,O)}function st(D,O){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var R=D?D.length===2:!1;return w.createElement(bx,ut({key:"minute"},tt,K,{ariaLabel:y,autoFocus:O===0&&n,hour:De,inputRef:Nt,placeholder:g,showLeadingZeros:R,value:je}))}function Ya(D,O){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var R=D?D.length===2:!0;return w.createElement(wx,ut({key:"second"},tt,K,{ariaLabel:I,autoFocus:O===0&&n,hour:De,inputRef:Vt,minute:je,placeholder:L,showLeadingZeros:R,value:ve}))}function Bt(D,O){return w.createElement(_x,ut({key:"ampm"},tt,K,{ariaLabel:a,autoFocus:O===0&&n,inputRef:Ta,locale:x,onChange:ie,value:B}))}function pa(){var D={d:J,M:Ie,y:Re,h:rt,H:rt,m:st,s:Ya,a:Bt},O=typeof d<"u";return Wx(_t,D,O)}function Pa(){return w.createElement(Sx,{key:"datetime",ariaLabel:E,disabled:i,maxDate:m||mn,minDate:b||Ja,name:C,onChange:Xe,required:S,value:ot,valueType:qt})}return w.createElement("div",{className:s,onClick:fa},Pa(),pa())}var zx=globalThis&&globalThis.__spreadArray||function(t,a,n){if(n||arguments.length===2)for(var s=0,r=a.length,l;s<r;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Ux=["hour","minute","second"],Hx=zx([],Ux,!0),Vx=function(a,n,s){var r=a,l=n,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, minDate cannot be larger than maxDate.")):null},$x=function(a,n,s){var r=a,l=n,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, maxDate cannot be smaller than minDate.")):null};v.oneOf(Hx);var qx=function(t){return v.arrayOf(t)},Xt=globalThis&&globalThis.__assign||function(){return Xt=Object.assign||function(t){for(var a,n=1,s=arguments.length;n<s;n++){a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Xt.apply(this,arguments)},hn=globalThis&&globalThis.__rest||function(t,a){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(t);r<s.length;r++)a.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(t,s[r])&&(n[s[r]]=t[s[r]]);return n},Kx=typeof document<"u",qe="react-datetime-picker",Yx=["mousedown","focusin","touchstart"],Ei=["hour","minute","second"],Ii={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Bx=w.createElement("svg",Xt({},Ii,{className:"".concat(qe,"__calendar-button__icon ").concat(qe,"__button__icon")}),w.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),w.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),w.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),Gx=w.createElement("svg",Xt({},Ii,{className:"".concat(qe,"__clear-button__icon ").concat(qe,"__button__icon")}),w.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),w.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),wr=function(a){var n=a.amPmAriaLabel,s=a.autoFocus,r=a.calendarAriaLabel,l=a.calendarIcon,i=l===void 0?Bx:l,d=a.className,o=a.clearAriaLabel,u=a.clearIcon,c=u===void 0?Gx:u,x=a.closeWidgets,m=x===void 0?!0:x,h=a["data-testid"],j=a.dayAriaLabel,b=a.dayPlaceholder,y=a.disableCalendar,g=a.disableClock,p=a.disabled,_=a.format,T=a.hourAriaLabel,C=a.hourPlaceholder,E=a.id,F=a.isCalendarOpen,k=F===void 0?null:F,S=a.isClockOpen,I=S===void 0?null:S,L=a.locale,W=a.maxDate,$=a.maxDetail,Y=$===void 0?"minute":$,U=a.minDate,N=a.minuteAriaLabel,B=a.minutePlaceholder,le=a.monthAriaLabel,M=a.monthPlaceholder,Q=a.name,me=Q===void 0?"datetime":Q,xe=a.nativeInputAriaLabel,he=a.onCalendarClose,X=a.onCalendarOpen,Oe=a.onChange,Me=a.onClockClose,We=a.onClockOpen,Ae=a.onFocus,De=a.onInvalidChange,Ve=a.openWidgetsOnFocus,Ne=Ve===void 0?!0:Ve,je=a.required,q=a.secondAriaLabel,G=a.secondPlaceholder,ve=a.shouldCloseWidgets,ye=a.shouldOpenWidgets,ct=a.showLeadingZeros,ot=a.value,ca=a.yearAriaLabel,Ta=a.yearPlaceholder,oa=hn(a,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),da=f.useState(k),Ee=da[0],bt=da[1],ua=f.useState(I),$e=ua[0],Nt=ua[1],Vt=f.useRef(null),ht=f.useRef(null),wt=f.useRef(null);f.useEffect(function(){bt(k)},[k]),f.useEffect(function(){Nt(I)},[I]);function ma(K){var J=K.reason;ye&&!ye({reason:J,widget:"calendar"})||(Nt($e&&!1),bt(!0),X&&X())}var $t=f.useCallback(function(K){var J=K.reason;ve&&!ve({reason:J,widget:"calendar"})||(bt(!1),he&&he())},[he,ve]);function qt(){Ee?$t({reason:"buttonClick"}):ma({reason:"buttonClick"})}function Oa(K){var J=K.reason;ye&&!ye({reason:J,widget:"clock"})||(bt(Ee&&!1),Nt(!0),We&&We())}var xa=f.useCallback(function(K){var J=K.reason;ve&&!ve({reason:J,widget:"clock"})||(Nt(!1),Me&&Me())},[Me,ve]),dt=f.useCallback(function(K){var J=K.reason;$t({reason:J}),xa({reason:J})},[$t,xa]);function _t(K,J){J===void 0&&(J=m),J&&dt({reason:"select"}),Oe&&Oe(K)}function ha(K,J){var Ie=(Array.isArray(K)?K:[K])[0],Re=(Array.isArray(ot)?ot:[ot])[0];if(Re&&Ie){var be=new Date(Re),at=new Date(Ie);at.setHours(be.getHours(),be.getMinutes(),be.getSeconds(),be.getMilliseconds()),_t(at,J)}else _t(Ie,J)}function qa(K){if(Ae&&Ae(K),!(p||!Ne||K.target.dataset.select==="true"))switch(K.target.name){case"day":case"month":case"year":{if(Ee)return;ma({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if($e)return;Oa({reason:"focus"});break}}}var Kt=f.useCallback(function(K){K.key==="Escape"&&dt({reason:"escape"})},[dt]);function Ka(){_t(null)}function fa(K){K.stopPropagation()}var Ce=f.useCallback(function(K){var J=Vt.current,Ie=ht.current,Re=wt.current,be="composedPath"in K?K.composedPath()[0]:K.target;be&&J&&!J.contains(be)&&(!Ie||!Ie.contains(be))&&(!Re||!Re.contains(be))&&dt({reason:"outsideAction"})},[ht,wt,dt,Vt]),ke=f.useCallback(function(K){K===void 0&&(K=Ee||$e),Yx.forEach(function(J){K?document.addEventListener(J,Ce):document.removeEventListener(J,Ce)}),K?document.addEventListener("keydown",Kt):document.removeEventListener("keydown",Kt)},[Ee,$e,Ce,Kt]);f.useEffect(function(){return ke(),function(){ke(!1)}},[ke]);function Yt(){var K=(Array.isArray(ot)?ot:[ot])[0],J={amPmAriaLabel:n,dayAriaLabel:j,hourAriaLabel:T,minuteAriaLabel:N,monthAriaLabel:le,nativeInputAriaLabel:xe,secondAriaLabel:q,yearAriaLabel:ca},Ie={dayPlaceholder:b,hourPlaceholder:C,minutePlaceholder:B,monthPlaceholder:M,secondPlaceholder:G,yearPlaceholder:Ta};return w.createElement("div",{className:"".concat(qe,"__wrapper")},w.createElement(Rx,Xt({},J,Ie,{autoFocus:s,className:"".concat(qe,"__inputGroup"),disabled:p,format:_,isWidgetOpen:Ee||$e,locale:L,maxDate:W,maxDetail:Y,minDate:U,name:me,onChange:_t,onInvalidChange:De,required:je,showLeadingZeros:ct,value:K})),c!==null&&w.createElement("button",{"aria-label":o,className:"".concat(qe,"__clear-button ").concat(qe,"__button"),disabled:p,onClick:Ka,onFocus:fa,type:"button"},typeof c=="function"?w.createElement(c):c),i!==null&&!y&&w.createElement("button",{"aria-label":r,className:"".concat(qe,"__calendar-button ").concat(qe,"__button"),disabled:p,onClick:qt,onFocus:fa,type:"button"},typeof i=="function"?w.createElement(i):i))}function ie(){if(Ee===null||y)return null;var K=a.calendarClassName;a.className,a.maxDetail,a.onChange;var J=a.portalContainer,Ie=a.value,Re=hn(a,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),be="".concat(qe,"__calendar"),at=it(be,"".concat(be,"--").concat(Ee?"open":"closed")),rt=w.createElement(vm,Xt({className:K,onChange:function(st){return ha(st)},value:Ie},Re));return J?pn.createPortal(w.createElement("div",{ref:ht,className:at},rt),J):w.createElement(Jr,null,w.createElement("div",{ref:function(st){st&&!Ee&&st.removeAttribute("style")},className:at},rt))}function Xe(){if($e===null||g)return null;var K=a.clockClassName;a.className;var J=a.maxDetail,Ie=J===void 0?"minute":J;a.onChange;var Re=a.portalContainer,be=a.value,at=hn(a,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),rt="".concat(qe,"__clock"),st=it(rt,"".concat(rt,"--").concat($e?"open":"closed")),Ya=(Array.isArray(be)?be:[be])[0],Bt=Ei.indexOf(Ie),pa=w.createElement(Sm,Xt({className:K,renderMinuteHand:Bt>0,renderSecondHand:Bt>1,value:Ya},at));return Re?pn.createPortal(w.createElement("div",{ref:wt,className:st},pa),Re):w.createElement(Jr,null,w.createElement("div",{ref:function(Pa){Pa&&!$e&&Pa.removeAttribute("style")},className:st},pa))}var tt=f.useMemo(function(){return ed(oa)},[oa]);return w.createElement("div",Xt({className:it(qe,"".concat(qe,"--").concat(Ee||$e?"open":"closed"),"".concat(qe,"--").concat(p?"disabled":"enabled"),d),"data-testid":h,id:E},tt,{onFocus:qa,ref:Vt}),Yt(),ie(),Xe())},ol=v.oneOfType([v.string,v.instanceOf(Date)]),Qx=v.oneOfType([ol,qx(ol)]);wr.propTypes={amPmAriaLabel:v.string,autoFocus:v.bool,calendarAriaLabel:v.string,calendarClassName:v.oneOfType([v.string,v.arrayOf(v.string)]),calendarIcon:v.oneOfType([v.node,v.func]),className:v.oneOfType([v.string,v.arrayOf(v.string)]),clearAriaLabel:v.string,clearIcon:v.oneOfType([v.node,v.func]),clockClassName:v.oneOfType([v.string,v.arrayOf(v.string)]),closeWidgets:v.bool,"data-testid":v.string,dayAriaLabel:v.string,dayPlaceholder:v.string,disableCalendar:v.bool,disableClock:v.bool,disabled:v.bool,format:v.string,hourAriaLabel:v.string,hourPlaceholder:v.string,id:v.string,isCalendarOpen:v.bool,isClockOpen:v.bool,locale:v.string,maxDate:$x,maxDetail:v.oneOf(Ei),minDate:Vx,minuteAriaLabel:v.string,minutePlaceholder:v.string,monthAriaLabel:v.string,monthPlaceholder:v.string,name:v.string,nativeInputAriaLabel:v.string,onCalendarClose:v.func,onCalendarOpen:v.func,onChange:v.func,onClockClose:v.func,onClockOpen:v.func,onFocus:v.func,openWidgetsOnFocus:v.bool,required:v.bool,secondAriaLabel:v.string,secondPlaceholder:v.string,showLeadingZeros:v.bool,value:Qx,yearAriaLabel:v.string,yearPlaceholder:v.string};Kx&&(wr.propTypes.portalContainer=v.instanceOf(HTMLElement));const is=wr,Zx=({onClose:t})=>{const{transfer:a,lastId:n,isChanged:s,isSubmitting:r,error:l,success:i,dateDisplay:d,handleSubmit:o,handleChange:u,handleChangeSelect:c,handleChangeDateTime:x}=Bc(),{warehouses:m}=ra(),{auth:h}=ge();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:j=>{j.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(Z,{name:"id",value:n,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Created by"}),e.jsx(Z,{name:"created_by",placeholder:"User ID",value:h.user.firstname+" "+h.user.lastname,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Source"}),e.jsxs(ce,{onValueChange:j=>c("source",Number(j)),required:!0,name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((j,b)=>e.jsxs(H,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},b))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Destination"}),e.jsxs(ce,{onValueChange:j=>c("destination",Number(j)),required:!0,name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((j,b)=>e.jsxs(H,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},j.code))})]})]})]}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12 justify-center",children:e.jsxs("div",{className:"flex flex-col col-span-10 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Schedule"}),e.jsx(is,{onChange:j=>x("transfer_schedule",j),format:"yyyy-M-d H:m",minDate:new Date,value:d,required:!0})]})}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12",children:e.jsxs("div",{className:"flex flex-col gap-1 col-span-12 w-full",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Notes:"}),e.jsx(os,{name:"notes",onChange:u,value:a.notes||"",placeholder:"Add notes here...."})]})}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:o,children:r?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Xx=({onClose:t})=>{var F,k,S,I,L,W,$,Y,U;const{transfer:a,lastId:n,isChanged:s,isSubmitting:r,error:l,success:i,dateDisplay:d,dateDisplayArrived:o,handleSubmit:u,handleChange:c,handleChangeSelect:x,handleChangeDateTime:m}=Ml(),{selectedTransfer:h,transferProducts:j}=xt(),{warehouses:b}=ra(),{users:y}=bl(),{auth:g}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:N=>x("approval_status",N),name:"approval_status",value:a.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(H,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(H,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(N=>N.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(tr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),_=e.jsxs(ce,{onValueChange:N=>x("source",Number(N)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(F=b[a.source-1])==null?void 0:F.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(k=b[a.source-1])==null?void 0:k.code," ",""," ",(S=b[a.source-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.source&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},B))})]}),T=e.jsxs(ce,{onValueChange:N=>x("destination",Number(N)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(I=b[a.destination-1])==null?void 0:I.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(L=b[a.destination-1])==null?void 0:L.code," ",""," ",(W=b[a.destination-1])==null?void 0:W.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.destination&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),C=e.jsx(ce,{onValueChange:N=>x("transfer_status",N),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(H,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(H,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),E=e.jsxs(ce,{onValueChange:N=>x("received_by",Number(N)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?y[Number(a.received_by)-1].firstname+" "+y[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((N,B)=>e.jsx(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.received_by&&"selected"}`,children:N.firstname+" "+N.lastname},B))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),_]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),T]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[(($=a.approval_status)==null?void 0:$.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"})]}),((Y=a.approval_status)==null?void 0:Y.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"})]}),g.rolePermissions.some(N=>N.permission_id===22)?((U=a.approval_status)==null?void 0:U.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:y.length>0?y[a.approved_by-1].firstname+" "+y[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:C})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(is,{onChange:N=>m("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:E})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(is,{onChange:N=>m("date_received",N),value:o,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(os,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:c})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:u,children:r?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Jx=({openModal:t})=>{const{transfers:a,transferProducts:n,isFetching:s,selectedTransfer:r,setSelectedTransfer:l,selectedProduct:i,setSelectedProduct:d}=xt();ge();const o=n.filter(x=>x.transfer_id===r.id),u=()=>{t({},"add")},c=[{id:"select",header:({table:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsAllPageRowsSelected(),onChange:m=>x.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsSelected(),onChange:m=>x.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{id:"product_name",sortingFn:"text",enableSorting:!0,header:({column:x})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>x.toggleSorting(x.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["PRODUCT NAME ",x.getIsSorted()==="asc"?e.jsx(se,{}):x.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:x})=>e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:x.original.product.name})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES COUNT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_count})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_unit})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY PER BUNDLE"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.quantity_per_bundle})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"text-center",children:"UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.unit})},{accessorKey:"total_quantity",header:()=>e.jsx("div",{className:"text-center",children:"TOTAL QUANTITY"}),cell:({row:x})=>e.jsxs("div",{className:"text-center",children:[x.original.total_quantity," ",x.original.unit]})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:x})=>(x.original,r.transfer_status!="arrived"&&r.approval_status!="rejected"&&e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:e.jsx(A,{fill:"yellow",textColor:"black",children:"Edit Product"})}))}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:o,columns:c,filterWhat:"product_name",dataType:"Transfer Products",openModal:r.transfer_status!="arrived"&&r.approval_status!="rejected"?u:void 0,isLoading:s})})},eh=({onClose:t})=>{const{product:a,allProducts:n,allInventoryProducts:s,filteredProductsSrc:r,bundlesLimit:l,quantityLimit:i,damagedCount:d,isChanged:o,isSubmitting:u,error:c,success:x,handleSubmit:m,handleChange:h,handleChangeSelect:j}=Gc();ge();const b=a.capital_price?a.capital_price:0,y=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(b);return x&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:g=>{g.preventDefault()},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Product ID"}),e.jsx(Z,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(Z,{name:"created_by",placeholder:"User ID",value:a.transfer_id,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Product to transfer:"}),e.jsxs(ce,{onValueChange:g=>j("product_id",Number(g.split("-")[0]),Number(g.split("-")[1])),required:!0,name:"product_id",children:[e.jsx(oe,{name:"product_id",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose product..."})}),e.jsx(ue,{className:"bg-white font-medium",children:r.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):r.map((g,p)=>e.jsx(H,{value:g.product.id?g.product.id.toString()+"-"+p.toString():"",className:"text-sm font-medium text-slate-700",children:g.product.name},p))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Capital Price:"}),e.jsx(Z,{name:"capital_price",type:"string",value:y,onChange:h,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES COUNT"}),e.jsx(Z,{name:"bundles_count",type:"number",value:a.bundles_count||"",placeholder:`Available stocks: ${l}`,max:l,onChange:h,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES UNIT"}),e.jsx(Z,{name:"bundles_unit",type:"string",value:a.bundles_unit||"",placeholder:"box, bundle, etc.",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"QUANTITY PER BUNDLE"}),e.jsx(Z,{name:"quantity_per_bundle",type:"number",value:a.quantity_per_bundle||"",placeholder:"Quantity per bundle",onChange:h,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"UNIT"}),e.jsx(Z,{name:"unit",type:"string",value:a.unit||"",placeholder:"box, pieces, etc.",disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"TOTAL QUANTITY"}),e.jsx(Z,{name:"total_quantity",type:"string",value:a.total_quantity&&a.unit?a.total_quantity.toString()+" "+a.unit.toString():"",placeholder:`Available stocks: ${i}`,onChange:h,disabled:!0,readOnly:!0})]}),a.total_quantity!=0&&d!=0&&a.total_quantity==i&&e.jsxs("div",{className:"grid content-center group",children:[e.jsx(tr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsxs("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-2 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:["Some damaged goods (",d," ",a.unit,") are included in the transfer."]})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:o?"green":null,disabled:!o,onClick:m,children:u?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[x&&e.jsx("div",{className:"font-bold text-green-700",children:x}),c&&e.jsx("div",{className:"font-bold text-red-700",children:c}),u?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},th=({onClose:t})=>{const{transfers:a,transferProducts:n,isFetching:s,selectedTransfer:r,setSelectedTransfer:l}=xt(),{isOpen:i,openModal:d,closeModal:o}=Le(),[u,c]=f.useState("");ge(),n.filter(m=>m.transfer_id===r.id);const x=(m,h)=>{d(),c(h)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(Jx,{openModal:x})}),e.jsx(He,{title:u==="edit"?"Edit Transfer Product":"Add Transfer Product",isOpen:i,onClose:o,children:e.jsx(e.Fragment,{children:u==="add"&&e.jsx(eh,{onClose:o})})})]})},rf=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Transfer",children:e.jsxs(Nl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Eo,{openModal:l})})}),e.jsx(He,{title:s==="details"?"Transfer Details":s==="edit"?"Edit Transfer":s==="add"?"Add Transfer":"Transfer Products",isOpen:t,onClose:n,closeOnOverlayClick:s==="details",children:e.jsxs(e.Fragment,{children:[s==="details"&&e.jsx(Io,{onClose:n}),s==="edit"&&e.jsx(Xx,{onClose:n}),s==="add"&&e.jsx(Zx,{onClose:n}),s==="products"&&e.jsx(th,{onClose:n})]})})]})})})};function ah({columns:t,data:a}){var s;const n=Uc({data:a,columns:t,getCoreRowModel:Hc(),defaultColumn:{size:200,minSize:50,maxSize:500}});return e.jsx("div",{className:"rounded-md border",children:e.jsxs($n,{children:[e.jsx(qn,{children:n.getHeaderGroups().map(r=>e.jsx(va,{children:r.headers.map(l=>e.jsx(Kn,{style:{width:l.index===0?250:500},children:l.isPlaceholder?null:Dr(l.column.columnDef.header,l.getContext())},l.id))},r.id))}),e.jsx(Yn,{children:((s=n.getRowModel().rows)==null?void 0:s.length)&&n.getRowModel().rows.map(r=>e.jsx(va,{children:r.getVisibleCells().map(l=>e.jsx(Fe,{children:Dr(l.column.columnDef.cell,l.getContext())},l.id))},r.id))})]})})}const sh=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e.jsx(so,{width:150,height:150,color:"#888888",strokeWidth:-1}),e.jsx("span",{className:"max-w-[300px] text-center text-[#888]",children:"Start entering products / product code / serial number / brand"})]})}),nh=({})=>{const{invoiceItemsQueue:t,quantityHandler:a,formatCurrency:n,handleInvoiceItemsChange:s,handleRemoveInvoiceItem:r}=et(),{data:l}=Bn(),{data:i}=Sa(),d=[{id:"orderItem",enableResizing:!1,header:()=>e.jsx("div",{className:"flex justify-center",children:"Item #"}),cell:({row:o})=>e.jsx("div",{className:"flex justify-center",children:o.index+1}),size:250},{accessorKey:"name",header:()=>e.jsx("div",{className:"justify-center",children:"Product Name"}),cell:({row:o})=>e.jsx("div",{className:"flex ",children:o.original.product_id.name})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"flex justify-center",children:"Quantity"}),cell:({row:o})=>{const u=o.index,c=l.find(x=>x.product.id===o.original.product_id.id);return e.jsx("div",{className:"flex justify-center ",children:e.jsxs("div",{className:"flex flex-row border drop-shadow-sm",children:[e.jsx(ae,{className:"rounded-sm bg-red-300 hover:bg-red-500 disabled:opacity-100",onClick:()=>{a(u,o.original.quantity-1,(c==null?void 0:c.remaining_stocks_count)??0)},disabled:o.original.quantity<=1,children:e.jsx("span",{children:"-"})}),e.jsx(V,{id:"quantity",className:"w-20 rounded-none text-center drop-shadow-none",type:"number",value:o.original.quantity||"",onChange:x=>{a(u,Number(x.target.value),c?c.remaining_stocks_count??0:0)},disabled:!(c!=null&&c.remaining_stocks_count)}),e.jsx(ae,{className:"rounded-sm bg-slate-500 hover:bg-slate-700 disabled:bg-slate-200",onClick:()=>{a(u,o.original.quantity+1,(c==null?void 0:c.remaining_stocks_count)??0)},disabled:o.original.quantity>=((c==null?void 0:c.remaining_stocks_count)??0),children:e.jsx("span",{children:"+"})})]})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center",children:"Product Price"}),cell:({row:o})=>{const u=i.find(c=>c.product.id===o.original.product_id.id);return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:n(o.original.product_price)}),u!=null&&u.sale_discount?e.jsxs("span",{className:"text-sm font-light",children:["(",n((u==null?void 0:u.sale_discount)??0),")"]}):null]})}},{accessorKey:"item_discount",header:()=>e.jsx("div",{className:"justify-center",children:"Item Discount"}),cell:({row:o})=>e.jsx("div",{children:e.jsx(V,{id:"item_discount",value:o.original.item_discount,type:"number",onChange:u=>{s(o.index,"item_discount",Number(u.target.value))}})},o.index)},{id:"total_price",accessorKey:"total_price",header:()=>e.jsx("div",{className:"justify-center",children:"Total"}),cell:({row:o})=>e.jsx("div",{className:"",children:e.jsx("span",{children:n(o.original.total_price)})}),size:250},{id:"actions",cell:({row:o})=>{const u=o.index;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsx(ae,{className:"bg-red-500 hover:bg-red-700",onClick:()=>{r(u)},children:e.jsx(no,{color:"#FFF"})})})}}];return e.jsx(e.Fragment,{children:t.length===0?e.jsx(sh,{}):e.jsx(ah,{data:t,columns:d})})},rh=()=>{const t=Be(),[a,n]=f.useState({}),s=(d,o)=>{n(u=>({...u,[d]:o}))},r=async d=>(console.log("Submitting: ",d),await i(d)),l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["customers"]}),n({})},onError:d=>{console.error("Error adding customer:",d.message)}},{mutateAsync:i}=fe({mutationKey:["addCustomer"],mutationFn:hc,...l});return{value:a,setValue:n,handleChange:s,handleSubmit:r}},lh=({onClose:t})=>{const{value:a,setValue:n,handleChange:s,handleSubmit:r}=rh(),{setSelectedCustomer:l}=Is();f.useEffect(()=>{n(c=>({...c}))},[]);const[i,d]=f.useState(!1),[o,u]=f.useState(null);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async c=>{d(!i),c.preventDefault();const x=await r(a);(x==null?void 0:x.status)===201?(d(!i),l(x.data.data),t(),console.log(x.data)):(d(!i),u("Failed to add inventory"))},children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-2 ",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"firstname",children:"First Name"}),e.jsx(V,{id:"firstname",name:"firstname",required:!0,type:"text",placeholder:"First Name",onChange:c=>s("firstname",c.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"lastname",children:"Last Name"}),e.jsx(V,{id:"lastname",name:"lastname",required:!0,type:"text",placeholder:"Last Name",onChange:c=>s("lastname",c.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(eo,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(V,{id:"address",name:"address",type:"text",placeholder:"Address",defaultValue:"",className:"pl-10",onChange:c=>s("address",c.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"contact_no",children:"Contact Number"}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(to,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(V,{required:!0,id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",defaultValue:"",max:11,maxLength:11,onChange:c=>s("contact_no",c.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4",children:[e.jsx(A,{onClick:()=>t(),type:"reset",className:'hover:text-white"  py-2 text-sm font-bold text-slate-700',children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:i||Object.keys(a).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Submitting...":"Add Customer"})]}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:o})})]})})})},ih=({})=>{const{data:t,isLoading:a,selectedCustomer:n,setSelectedCustomer:s,openSearchCustomer:r,setOpenSearchCustomer:l}=Is(),[i,d]=f.useState(""),{invoice:o,setInvoice:u}=et();f.useEffect(()=>{n&&d("")},[n,r]);const{openModal:c,isOpen:x,closeModal:m}=Le();return e.jsxs(e.Fragment,{children:[e.jsxs(fc,{open:r,onOpenChange:l,children:[e.jsx(aa,{value:i,onValueChange:d,placeholder:a?"Loading Customers":n.id?`${n.firstname} ${n.lastname}`:"Enter Customer Name"}),e.jsx(wl,{children:i?e.jsxs(e.Fragment,{children:[e.jsxs(Na,{className:"flex flex-col gap-2 py-4 pb-1 text-center text-sm",children:[e.jsx("span",{className:"font-bold uppercase",children:"Customer Not Found"}),e.jsxs(ae,{className:"flex flex-row gap-4",onClick:()=>{c(),l(!1)},children:[e.jsx(ro,{color:"#fff"}),e.jsx("span",{className:"text-white",children:"Add Customer"})]})]}),t.map((h,j)=>e.jsx(gt,{className:"",value:h.id+""+h.firstname+" "+h.lastname,onSelect:()=>{s(h),l(!1),d(""),u({...o,customer_id:h.id})},children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:h.firstname}),e.jsx("span",{children:h.lastname})]})},j))]}):null})]}),e.jsx(He,{isOpen:x,onClose:m,title:"Add Customer",children:e.jsx(lh,{onClose:m})})]})},ch=({})=>{const{selectedCustomer:t,setOpenSearchCustomer:a}=Is();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-1 rounded-md bg-white p-3",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(P,{className:"text-lg font-bold uppercase text-slate-900",children:"Customer Info"}),e.jsx(ae,{onClick:()=>a(!0),size:"icon",children:e.jsx(pc,{size:18})})]}),Object.keys(t).length===0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(P,{className:"text-slate-900",children:"Full Name: "}),e.jsx("span",{className:"font-medium uppercase text-slate-950",children:t.firstname+" "+t.lastname})]}),e.jsx("div",{children:e.jsxs(P,{className:"text-slate-900",children:["Address: ",t.address]})}),e.jsx("div",{children:e.jsxs(P,{className:"text-slate-900",children:["Contact Number: ",t.contact_no]})})]})})]})})},oh=()=>{const{formatCurrency:t,invoiceItemsQueue:a}=et(),n=a.reduce((s,r)=>s+r.total_price,0);return e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs(vt,{children:[e.jsx(jt,{asChild:!0,children:e.jsxs(ae,{variant:"outline",className:"justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(ao,{}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:a.length})})]})}),e.jsx(yt,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:a.map((s,r)=>{const l=s.total_price?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.total_price):"";return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("div",{className:"flex w-5 flex-row justify-between",children:[e.jsx("span",{className:"text-sm",children:s.quantity}),e.jsx("span",{className:"text-sm",children:"x"})]}),e.jsx("span",{className:"text-sm",children:s.product_id.name})]}),e.jsx("span",{className:"text-sm",children:l})]},r)})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Amount:"}),e.jsx("span",{className:"border-t border-t-slate-800 text-sm",children:n?t(n):"0.00"})]})]})})]})})},dh=()=>{const{invoice:t,invoiceItemsQueue:a}=et();function n(){return t.paid_amount===0?0:(t.paid_amount??0)-a.reduce((s,r)=>s+r.total_price,0)+(t.total_discount??0)}return e.jsx(e.Fragment,{children:e.jsxs(ae,{variant:"outline",className:"justify-between hover:cursor-default hover:bg-white",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Xc,{}),e.jsx("span",{children:"Change"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:Dt(Number(n()))})})]})})},uh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:n}=et(),s=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(ae,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{s.current.focus()},disabled:n.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Wl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Paid Amount"})]}),e.jsx(V,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:s,id:"paid_amount",name:"paid_amount",type:"text",placeholder:"0.00",disabled:n.length<=0,onBlur:r=>{let l=r.target.value?parseFloat(r.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),r.target.value=`${Dt(l)}`,a("paid_amount",l)},onChange:r=>{a("paid_amount",Number(r.target.value)),a("change_amount",Number(Number(Number(r.target.value)-n.reduce((l,i)=>l+i.total_price,0)).toFixed(2))),console.log("change:",t.change_amount)},onFocus:r=>{r.target.value=r.target.value.replace(/[^\d.]/g,"")}})]})})},mh=()=>{const{invoiceItemsQueue:t,invoice:a}=et(),n=t.reduce((s,r)=>s+r.total_price,0)-(a.total_discount??0);return e.jsx(e.Fragment,{children:e.jsxs(ae,{variant:"outline",className:"justify-between hover:cursor-default",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(gc,{}),e.jsx("span",{children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:n?Dt(n):"0.00"})})]})})},xh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:n}=et(),s=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(ae,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{s.current.focus()},disabled:n.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Wl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Discount Amount"})]}),e.jsx(V,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:s,id:"total_discount",name:"total_discount",type:"text",placeholder:"0.00",disabled:n.length<=0,onBlur:r=>{let l=r.target.value?parseFloat(r.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),r.target.value=`${Dt(l)}`,a("total_discount",l)},onChange:r=>{a("total_discount",Number(r.target.value)),a("change_amount",Number(r.target.value)-n.reduce((l,i)=>l+i.total_price,0)),a("status",Number(r.target.value)>0?"pending":"approved"),console.log("change:",t.change_amount)},onFocus:r=>{r.target.value=r.target.value.replace(/[^\d.]/g,"")}})]})})},hh=()=>{const{handleChange:t,invoice:a}=et();return f.useEffect(()=>{a.type==="exit"&&t("payment_method","exit")},[a.type]),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(P,{htmlFor:"payment_method",className:"text-lg uppercase text-white",children:"Payment Type"}),e.jsx(Hn,{id:"type",defaultValue:"payment",onValueChange:n=>{t("type",n)},children:e.jsxs(Vn,{className:"flex flex-row gap-1",children:[e.jsx(Ra,{value:"payment",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Payment"}),e.jsx(Ra,{value:"exit",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Exit"})]})}),a.type==="payment"&&e.jsx(e.Fragment,{children:e.jsxs(ce,{onValueChange:n=>{t("payment_method",n)},children:[e.jsx(oe,{className:"font-medium focus:ring-0 focus:ring-offset-0",children:e.jsx(de,{placeholder:"Select a payment method"})}),e.jsx(ue,{children:e.jsxs(vc,{children:[e.jsx(H,{className:"font-medium",value:"cash",children:"Cash"}),e.jsx(H,{className:"font-medium",value:"purchase_order",children:"Purchase Order"}),e.jsx(H,{className:"font-medium",value:"check",children:"Check"}),e.jsx(H,{className:"font-medium",value:"voucher",children:"Voucher"}),e.jsx(H,{className:"font-medium",value:"e-wallet",children:"E-Wallet"})]})})]})})]}),e.jsx(Es,{children:e.jsxs(Za,{children:[e.jsx(La,{asChild:!0,children:e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Jc,{color:"black",className:"absolute top-0 translate-x-4 translate-y-2",size:24}),e.jsx(V,{id:"reference_no",name:"reference_no",type:"text",placeholder:"Reference Number",onChange:n=>{t("reference_no",Number(n.target.value))},disabled:a.payment_method!=="check"&&a.payment_method!=="voucher"&&a.payment_method!=="e-wallet"&&a.payment_method!=="purchase_order",className:"pl-[3rem] text-base font-medium disabled:opacity-100"})]})}),e.jsx(Ma,{align:"center",className:"bg-pos-primary-background",side:"left",sideOffset:2,children:e.jsx("span",{className:"p-2 text-white",children:"Reference Number"})})]})})]})},fh=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(hh,{}),e.jsx(mh,{}),e.jsx(xh,{}),e.jsx(uh,{}),e.jsx(dh,{})]}),ph=({})=>{const{auth:t}=ge(),{setFilter:a,selectedWarehouse:n,setSelectedWarehouse:s}=_l(),{invoiceItemsQueue:r,invoice:l,setInvoice:i}=et(),{value:d,addInvoiceMutation:o}=Rl(),{selectedCustomer:u}=Is();async function c(){console.log("Invoice:",l),console.log("InvoiceItems:",r);let b=l;b.invoice_items=r.map(y=>({...y,product_id:y.product_id.id})),await o(b)}const{openModal:x,isOpen:m,closeModal:h}=Le(),j=Le();return f.useEffect(()=>{var b,y,g,p;t.role==="admin"?x():((b=t.role)==null?void 0:b.split("_")[1])==="CDO"?(console.log((y=t.role)==null?void 0:y.split("_")),a({approval_status:"approved",warehouse_id:1}),s("CDO"),i({...l,warehouse_id:1})):((g=t.role)==null?void 0:g.split("_")[1])==="ILI"&&(console.log((p=t.role)==null?void 0:p.split("_")),a({approval_status:"approved",warehouse_id:2}),s("Iligan"),i({...l,warehouse_id:2}))},[t.role]),e.jsxs("div",{className:"bg-pos-primary-background flex w-full max-w-[350px] flex-col gap-2 p-4",children:[t.role==="admin"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-1 px-3",children:[e.jsxs(Ba,{className:"text-sm font-medium uppercase text-slate-900",children:["Warehouse: ",n]}),e.jsx(ae,{onClick:x,size:"icon",className:"h-8",children:e.jsx(fs,{size:18})})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-2",children:[e.jsxs(Ba,{className:"flex flex-row items-center gap-2 text-sm font-medium uppercase text-slate-900",children:[e.jsx(fs,{size:18}),n+" BRANCH"]}),e.jsx(Ba,{className:"text-sm font-medium uppercase text-slate-900",children:t.user.firstname+" "+t.user.lastname})]})}),e.jsx(ih,{}),e.jsx(ch,{}),e.jsx(oh,{}),e.jsx(fh,{}),e.jsx(ae,{onClick:()=>{ea.info("Coming Soon!")},children:"Print Invoice"}),e.jsx(ae,{onClick:()=>{c()},disabled:Object.keys(u).length===0||r.length===0||l.paid_amount===0||l.payment_method==="",children:"Submit"}),e.jsx(He,{title:"",isOpen:j.isOpen,onClose:j.closeModal,closeOnOverlayClick:!0,children:e.jsx("div",{children:e.jsx("div",{children:"Test"})})}),t.role==="admin"?e.jsx(e.Fragment,{children:e.jsx(He,{isOpen:m,onClose:h,title:"Select Warehouse",closeOnOverlayClick:!1,children:e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsx(ae,{onClick:()=>{a({approval_status:"approved",warehouse_id:1}),h(),s("CDO"),i({...l,warehouse_id:1})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(fs,{}),e.jsx(Ba,{children:"CDO Warehouse"})]})}),e.jsx(ae,{onClick:()=>{a({approval_status:"approved",warehouse_id:2}),h(),s("Iligan"),i({...l,warehouse_id:2})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(fs,{}),e.jsx(Ba,{children:"Iligan Warehouse"})]})})]})})}):null]})},gh=({})=>{const[t,a]=f.useState(""),{isLoading:n,productListing:s}=_l(),{invoiceItemsQueue:r,setInvoiceItemsQueue:l}=et();return e.jsx("div",{className:"relative z-20 pb-10",children:e.jsx("div",{className:"absolute box-content flex w-full ",children:e.jsxs(ba,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(aa,{value:t,onValueChange:a,placeholder:n?"Loading Products":"Enter Serial Number / Brand / Product Name",disabled:s.length===0}),e.jsx(wl,{className:"",children:t?e.jsxs(e.Fragment,{children:[e.jsx(Na,{children:"Product Not Found"}),s.map((i,d)=>e.jsx(gt,{className:"",value:i.type==="retail"?`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Retail)`:`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Wholesale)`,onSelect:()=>{const o=r.findIndex(u=>u.product_price_id===i.id);if(o!==-1){const u=[...r];u[o].quantity++,l(u)}else l([...r,{unit:"",discount_approval_status:null,approved_by:null,item_discount:0,invoice_id:null,product_id:{id:i.product.id,name:i.product.name},product_price_id:i.id,product_price:i.cost,total_price:i.price,quantity:1,source_inventory:i.warehouse.id}]);a("")},children:e.jsxs("div",{className:"flex flex-1 flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.type==="retail"?e.jsx(Zc,{strokeWidth:1}):e.jsx(Sl,{strokeWidth:1}),e.jsx("span",{children:i.product.name}),e.jsx("span",{className:"text-xs text-gray-600 ",children:`(${i.type} ${i.warehouse.code}) ${i.stocks_quantity}`})]}),e.jsx("div",{children:e.jsxs("span",{children:[" ",i.price]})})]})},d))]}):null})]})})})},lf=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Il,{}),e.jsxs("div",{id:"main",className:"flex w-screen flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx(gh,{}),e.jsx(nh,{})]}),e.jsx(ph,{})]})]})}),vh=({openModal:t})=>{const{transactions:a,isFetching:n,progress:s}=jc(),r=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"Product ID"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.id})},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-center",children:"Price"}),cell:({row:l})=>{const i=parseFloat(l.getValue("amount")),d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"product_name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["PRODUCT NAME ",l.getIsSorted()==="asc"?e.jsx(se,{}):l.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.product_name})},{accessorKey:"dimensions",header:()=>e.jsx("div",{className:"text-center",children:"DIMENSIONS"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.dimensions})},{accessorKey:"serial",header:()=>e.jsx("div",{className:"text-center",children:"SERIAL"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.serial})},{accessorKey:"sku",header:()=>e.jsx("div",{className:"text-center",children:"SKU"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.sku})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"INVENTORY STATUS"}),cell:({row:l})=>{const i=l.getValue("status"),d=i==="LOW"?"bg-red-500":i==="MEDIUM"?"bg-amber-500":"bg-lime-600";return e.jsx("div",{className:`flex w-full flex-1 flex-col text-center ${d}`,children:l.getValue("status")})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-center",children:"ORDER TYPE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.quantity})}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:r,filterWhat:"serial",dataType:"Transaction",openModal:()=>t,isLoading:n})})},cf=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Transaction",children:e.jsx(yc,{children:e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(vh,{openModal:l})})})})})})},jh=({openModal:t})=>{const{transfers:a,transferProducts:n,isFetching:s,progress:r,setSelectedTransfer:l}=xt(),i=n.map(h=>({transfer_id:h.transfer_id})),o=a.filter(h=>{if(i.some(j=>j.transfer_id===h.id))return h}).filter(h=>{if(h.approval_status==="pending")return h}),{auth:u}=ge(),c=h=>{l(h),t(h,"details")},x=h=>{l(h),t(h,"edit")},m=[{id:"select",header:({table:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsAllPageRowsSelected(),onChange:j=>h.toggleAllPageRowsSelected(!!j.target.checked),"aria-label":"Select all"}),cell:({row:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsSelected(),onChange:j=>h.toggleSelected(!!j.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",h.getIsSorted()==="asc"?e.jsx(se,{}):h.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.code?h.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:h})=>{const j=h.original.source,b=h.original.destination;return e.jsxs("div",{className:"text-center",children:[j.code,"-",b.code]})}},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["TRANSFER STATUS ",h.getIsSorted()==="asc"?e.jsx(se,{}):h.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.transfer_status?h.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["SCHEDULE ",h.getIsSorted()==="asc"?e.jsx(se,{}):h.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:h})=>{const j=h.getValue("transfer_schedule");if(j.toString()!=="0000-00-00 00:00:00"){const b={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},y=new Date(j).toLocaleDateString([],b);return e.jsx("div",{className:"text-center",children:y})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:h})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:h.original.approval_status.toLowerCase()==="approved"?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):h.original.approval_status.toLowerCase()==="rejected"?e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:h})=>{var b;const j=h.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>c(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),((b=u.role)==null?void 0:b.toLowerCase())!="encoder"&&e.jsxs(Te,{onClick:()=>x(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:j.transfer_status!="arrived"&&j.approval_status!="rejected"?e.jsx(sa,{size:16,strokeWidth:2.25}):e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:o,columns:m,filterWhat:"approval_status",dataType:"",openModal:void 0,isLoading:s})})},yh=({onClose:t})=>{const{selectedTransfer:a}=xt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ke(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ke(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})},bh=({onClose:t})=>{var F,k,S,I,L,W,$,Y,U;const{transfer:a,lastId:n,isChanged:s,isSubmitting:r,error:l,success:i,dateDisplay:d,dateDisplayArrived:o,handleSubmit:u,handleChange:c,handleChangeSelect:x,handleChangeDateTime:m}=Ml(),{selectedTransfer:h,transferProducts:j}=xt(),{warehouses:b}=ra(),{users:y}=bl(),{auth:g}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:N=>x("approval_status",N),name:"approval_status",value:h.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:h.approval_status?h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(H,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(H,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(N=>N.transfer_id===h.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(tr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),_=e.jsxs(ce,{onValueChange:N=>x("source",Number(N)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(F=b[h.source.id-1])==null?void 0:F.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(k=b[h.source.id-1])==null?void 0:k.code," ",""," ",(S=b[h.source.id-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===h.source.id&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},B))})]}),T=e.jsxs(ce,{onValueChange:N=>x("destination",Number(N)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(I=b[h.destination.id-1])==null?void 0:I.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(L=b[h.destination.id-1])==null?void 0:L.code," ",""," ",(W=b[h.destination.id-1])==null?void 0:W.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===h.destination.id&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),C=e.jsx(ce,{onValueChange:N=>x("transfer_status",N),name:"transfer_status",value:h.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:h.transfer_status?h.transfer_status.charAt(0).toUpperCase()+h.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(H,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(H,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),E=e.jsxs(ce,{onValueChange:N=>x("received_by",Number(N)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:h.received_by?y[Number(h.received_by)-1].firstname+" "+y[Number(h.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((N,B)=>e.jsx(H,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${h.received_by&&N.id===h.received_by.id&&"selected"}`,children:N.firstname+" "+N.lastname},B))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-3xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),_]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),T]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[(($=a.approval_status)==null?void 0:$.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"})]}),((Y=a.approval_status)==null?void 0:Y.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"})]}),g.rolePermissions.some(N=>N.permission_id===22)?((U=h.approval_status)==null?void 0:U.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1),e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:y.length>0?y[a.approved_by-1].firstname+" "+y[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:C})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(is,{onChange:N=>m("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:E})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(is,{onChange:N=>m("date_received",N),value:o,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(os,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:c})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:u,children:r?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},of=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Pending Transfer",children:e.jsxs(Nl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(jh,{openModal:l})})}),e.jsx(He,{title:s==="details"?"Transfer Details":"Edit Transfer",isOpen:t,onClose:n,closeOnOverlayClick:s==="details",children:e.jsxs(e.Fragment,{children:[s==="details"&&e.jsx(yh,{onClose:n}),s==="edit"&&e.jsx(bh,{onClose:n})]})})]})})})},Nh=({openModal:t})=>{const{invoices:a,isFetching:n,users:s,userSales:r,setSelectedInvoice:l}=Cl(),i=o=>{l(o.invoices),t(o,"details")},d=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:u=>o.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:u=>o.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"issued_by",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FULL NAME ",o.getIsSorted()==="asc"?e.jsx(se,{}):o.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.invoices[0].issued_by.firstname+" "+o.original.invoices[0].issued_by.lastname})},{id:"total_sales",sortingFn:"basic",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["NUMBER OF SALES ",o.getIsSorted()==="asc"?e.jsx(se,{}):o.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.invoices.length})},{id:"amount_sales",sortingFn:"basic",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TOTAL AMOUNT OF SALES ",o.getIsSorted()==="asc"?e.jsx(se,{}):o.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:o})=>{const c=o.original.invoices.filter(m=>m.status==="approved").reduce((m,h)=>m+h.paid_amount,0),x=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:x})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:o})=>{const u=o.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>i(u),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:r,columns:d,filterWhat:"",hideFilter:!0,dataType:"",openModal:void 0,isLoading:n})})},wh=({onClose:t})=>{const{selectedInvoice:a,isFetching:n}=Cl(),s=a[0],r=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",l.getIsSorted()==="asc"?e.jsx(se,{}):l.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",l.getIsSorted()==="asc"?e.jsx(se,{}):l.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:l})=>{const i=l.getValue("created_at");if(i.toString()!=="0000-00-00 00:00:00"){const d={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},o=new Date(i).toLocaleDateString([],d);return e.jsx("div",{className:"text-center",children:o})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.customer.firstname+" "+l.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",l.getIsSorted()==="asc"?e.jsx(se,{}):l.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"STATUS"}),cell:({row:l})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:l.original.status.toLowerCase()==="approved"?e.jsx(At,{size:20,strokeWidth:2,className:"text-green-600"}):l.original.status.toLowerCase()==="rejected"?e.jsx(wa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:l})=>{const i=l.original.subtotal,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:l})=>{const i=l.original.total_discount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:l})=>{const i=l.original.total_tax,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:l})=>{const i=l.original.delivery_charge,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:l})=>{const i=l.original.total_amount_due,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:l})=>{const i=l.original.paid_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:l})=>{const i=l.original.change_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:l})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl max-h-96 flex-col gap-4",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Issuer: ",s.issued_by.firstname+" "+s.issued_by.lastname]}),e.jsx("div",{className:"overflow-x-hidden",children:e.jsx(Ze,{data:a,columns:r,filterWhat:"or_no",dataType:"",openModal:void 0,isLoading:n})})]})})},df=()=>{const{isOpen:t,openModal:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"User Sales",children:e.jsxs(bc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Nh,{openModal:l})})}),e.jsx(He,{isOpen:t,onClose:n,title:s==="details"?"Invoice Details":"",closeOnOverlayClick:s==="details",children:e.jsx(e.Fragment,{children:s==="details"&&e.jsx(wh,{onClose:n})})})]})})})},_h=()=>{const{roles:t,roleSelect:a,permissions:n,allPermissions:s,permissionChange:r,roleId:l,isChanged:i,isSubmitting:d,error:o,success:u,handleChange:c,handleChangeSelect:x,handleSubmit:m}=ho(),{auth:h}=ge(),j=s.filter(p=>Object.keys(p).some(_=>!p.title.includes("view".toLowerCase())&&p.title.includes("users".toLowerCase()))),b=s.filter(p=>Object.keys(p).some(_=>!p.title.includes("view".toLowerCase())&&!p.title.includes("transfer".toLowerCase())&&p.title.includes("product".toLowerCase())||p.title.includes("catalog".toLowerCase()))),y=s.filter(p=>Object.keys(p).some(_=>!p.title.includes("view".toLowerCase())&&p.title.includes("transfer".toLowerCase()))),g=s.filter(p=>Object.keys(p).some(_=>p.title.includes("view".toLowerCase())));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-full max-h-full w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:t?t.map(p=>p.title!=="super_admin"&&e.jsx(ae,{variant:"ghost",className:`w-full justify-start capitalize text-slate-700 ${(a==null?void 0:a.title)===p.title&&"bg-slate-300/40"}`,onClick:()=>x("roles",p.title),children:p.title.split("_").join(" ")},p.id+p.title)):e.jsx("div",{className:"flex h-16 w-full items-center justify-center text-slate-500",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})})}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),(a==null?void 0:a.title)===h.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[u&&e.jsx("p",{className:"text-green-600",children:u}),o&&e.jsx("p",{className:"text-red-600",children:o})]}),i&&e.jsx(ae,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!d,onClick:m,children:d?"Saving...":"Save changes"})]})]}),a?e.jsx(Pt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${!a||d?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:`${!((a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin")&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:p.title.split("_").join(" ")}),e.jsx(pt,{id:p.title,name:p.title,value:p.id,disabled:(a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(_=>_.permission_id===p.id),onCheckedChange:_=>c(_,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:b.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):b.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(pt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(_=>_.permission_id===p.id),onCheckedChange:_=>c(_,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(pt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(_=>_.permission_id===p.id),onCheckedChange:_=>c(_,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:g.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):g.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(pt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(_=>_.permission_id===p.id),onCheckedChange:_=>c(_,p.id)})]},p.id))})]})]})}):e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-slate-700/50",children:"Select a role to view and modify permissions"})})]})})},uf=()=>e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Role Permissions",children:e.jsx(pl,{children:e.jsx("div",{className:"flex h-full max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(_h,{})})})})})}),Sh=({handleViewItems:t,handleViewDetails:a,handleEditInventory:n})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:l=>r.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:l=>r.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"code",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Code"," ",r.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",r.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{accessorKey:"date_received",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Received"})},{accessorKey:"transfer_id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transer Id"}),cell:({row:r})=>e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:r.original.transfer_id?r.original.transfer_id:""})})},{accessorKey:"created_by",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created by"}),cell:({row:r})=>e.jsx("div",{className:"uppercase",children:e.jsxs("span",{className:"max-w-[25ch] truncate",children:[r.original.created_by.firstname," ",r.original.created_by.lastname]})})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"}),cell:({row:r})=>e.jsx("div",{children:e.jsx("p",{className:"max-w-[25ch] truncate",children:r.original.notes?r.original.notes:""})})},{id:"actions",cell:({row:r})=>{const l=r.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>{t(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Sl,{size:16,strokeWidth:2})}),e.jsx("span",{children:"View items"})]}),e.jsxs(Te,{onClick:()=>{a(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(It,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Te,{onClick:()=>{n(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],Ch=({openModal:t,filterWarehouse:a,setTotalInventories:n})=>{const[s,r]=f.useState([]),{data:l,isLoading:i,setSelectedInventory:d}=Gn(),o=Qn();f.useEffect(()=>{r(a?l.filter(h=>h.warehouse.id===a):l),n(l.length)},[l,a]);const u=()=>{t({},"add")},c=h=>{d(h),t(h,"edit")},x=h=>{d(h),o(`/inventory/items/${h.id}`)},m=h=>{d(h),t(h,"view_details")};return e.jsx(e.Fragment,{children:e.jsx(Ze,{columns:Sh({handleViewItems:x,handleViewDetails:m,handleEditInventory:c}),data:s,filterWhat:"code",dataType:"Inventory",openModal:u,isLoading:i})})},kh=({FormValue:t,handleChange:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(jt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ae,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(ar,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(yt,{className:"w-auto p-0",children:e.jsx(Zn,{mode:"single",initialFocus:!0,required:!0,onDayClick:n=>{const s=new Date(n),r=`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")}`;a("date_received",r)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(V,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:n=>a("notes",n.target.value)})]})]})}),Dh=({FormValue:t,handleChange:a})=>{const{transfers:n,isFetching:s}=Xn(),[r,l]=f.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(vt,{open:r,onOpenChange:l,children:[e.jsx(jt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(ae,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[t.transfer_id?(()=>{const i=n.find(d=>d.id===t.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:e.jsx("span",{children:i==null?void 0:i.code})})})():"Select a transfer item...",e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{children:[e.jsx(aa,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),s&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Na,{children:"No match found"}),e.jsx(Pt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Qt,{children:n.map(i=>e.jsxs(gt,{value:i.id.toString()+i.code,onSelect:()=>{a("transfer_id",i.id),l(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:i.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[i.approval_status,"  ",i.source.code,"->",i.destination.code,"  ",i.transfer_status]})]},i.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(jt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ae,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(ar,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(yt,{className:"w-auto p-0",children:e.jsx(Zn,{mode:"single",initialFocus:!0,required:!0,onDayClick:i=>{const d=new Date(i),o=`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}-${d.getDate().toString().padStart(2,"0")}`;a("date_received",o)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(V,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:i=>a("notes",i.target.value)})]})]})})},Fi=(t,a,n)=>{const s=n||new Date,r=("0"+(s.getMonth()+1)).slice(-2)+("0"+s.getDate()).slice(-2)+s.getFullYear(),l=t.slice(0,3),i=a.toString().padStart(4,"0");return`${l}-${r}-${i}`.toUpperCase()},Th=({onClose:t,totalInventories:a,warehouses:n})=>{const{auth:s}=ge(),{value:r,setValue:l,handleChange:i,handleSubmit:d}=Ll(),[o,u]=f.useState(!1),[c,x]=f.useState(null);f.useEffect(()=>{i("created_by",s.user.id),i("type","supplier")},[]);const[m,h]=f.useState();return f.useEffect(()=>{if(m){const j=Fi(m,a+1);i("code",j)}},[m]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:async j=>{if(j.preventDefault(),r.date_received===void 0)x("Please select a date for date received.");else{u(!o);const b=await d({action:"add",data:r});(b==null?void 0:b.status)===201?(u(!o),t()):(u(!o),x("Failed to add inventory"))}},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(V,{id:"code",name:"code",type:"text",value:r.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:j=>{var b;i("warehouse_id",Number(j)),h((b=n.find(y=>y.id===Number(j)))==null?void 0:b.code)},required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:n.map((j,b)=>e.jsxs(H,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},b))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(Hn,{id:"type",defaultValue:r.type?r.type:"supplier",className:"w-full space-y-4",onValueChange:j=>{const{date_received:b,transfer_id:y,...g}=r;l(g),i("type",j)},children:[e.jsxs(Vn,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ra,{value:"supplier",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Supplier"}),e.jsx(Ra,{value:"transfer",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Transfer"})]}),e.jsx(Ss,{value:"supplier",children:e.jsx(kh,{FormValue:r,handleChange:i})}),e.jsx(Ss,{value:"transfer",children:e.jsx(Dh,{FormValue:r,handleChange:i})})]})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:o||Object.keys(r).length<=2||!m,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Submitting...":"Add inventory"})]})}),c&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:c})})]})})},Oh=({onClose:t})=>{const{selectedInventory:a}=Gn(),{transfers:n,isFetching:s}=Xn(),r=n.find(l=>l.id===a.transfer_id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:a.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"ID"}),e.jsx("p",{className:"text-sm",children:a.id})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs("p",{className:"text-sm",children:[a.warehouse.name," (",a.warehouse.code,")"]})]}),a.type==="transfer"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm capitalize",children:s?"Loading...":r==null?void 0:r.code})]}),e.jsxs("div",{className:`flex flex-col justify-center gap-1 ${a.type==="supplier"?"col-span-7":"col-span-3"}`,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("p",{className:"text-sm capitalize",children:a.date_received?a.date_received:""})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx("p",{className:"text-sm capitalize",children:a.notes?a.notes:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsxs("p",{className:"text-sm capitalize",children:[a.created_by.firstname," ",a.created_by.lastname]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm capitalize",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm capitalize",children:a.updated_at?Ke(a.updated_at):""})]})]})]})})},Ph=({onClose:t,warehouses:a})=>{const{selectedInventory:n}=Gn(),{value:s,handleChange:r,handleSubmit:l}=Ll(),{transfers:i,isFetching:d}=Xn(),[o,u]=f.useState(!1),[c,x]=f.useState(!1),[m,h]=f.useState(null),j=g=>i.find(p=>g===p.id),[b,y]=f.useState();return f.useEffect(()=>{if(b){const g=Fi(b,n.id,new Date(n.created_at));r("code",g)}},[b]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async g=>{x(!c),g.preventDefault();const p=await l({action:"update",id:n.id,data:s});(p==null?void 0:p.status)===200?(x(!c),t()):(x(!c),h("Failed to update inventory item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(V,{id:"code",name:"code",type:"text",value:s.code||n.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:g=>{var p;r("warehouse_id",Number(g)),y((p=a.find(_=>_.id===Number(g)))==null?void 0:p.code)},defaultValue:n.warehouse.id.toString(),required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:a.map((g,p)=>e.jsxs(H,{value:g.id.toString(),className:"text-sm font-medium text-slate-700",children:[g.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+g.code+"  "+g.location})]},p))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ce,{defaultValue:n.type,onValueChange:g=>r("type",g),children:[e.jsx(oe,{name:"type",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"Choose type..."})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(H,{value:"supplier",className:"text-sm font-medium text-slate-700",children:"Supplier"}),e.jsx(H,{value:"transfer",className:"text-sm font-medium text-slate-700",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(jt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ae,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(ar,{size:18,strokeWidth:1.5}),s.date_received?s.date_received:n.date_received]})}),e.jsx(yt,{className:"w-auto p-0",children:e.jsx(Zn,{mode:"single",initialFocus:!0,required:!0,month:s.date_received?new Date(s.date_received):new Date(n.date_received),onDayClick:g=>{const p=new Date(g),_=`${p.getFullYear()}-${(p.getMonth()+1).toString().padStart(2,"0")}-${p.getDate().toString().padStart(2,"0")}`;r("date_received",_)},selected:s.date_received?new Date(s.date_received):new Date(n.date_received)})})]})]}),(n.type==="transfer"||s.type==="transfer")&&e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(vt,{open:o,onOpenChange:u,children:[e.jsx(jt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(ae,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[i?s.transfer_id?(()=>{const g=j(s.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:g==null?void 0:g.code})})():n.transfer_id?(()=>{const g=j(n.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:g?g.code:"Loading..."})})():"Select inventory item...":"Loading...",e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{children:[e.jsx(aa,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Na,{children:"No match found"}),e.jsx(Pt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Qt,{children:i.map(g=>e.jsxs(gt,{value:g.id.toString()+g.code,onSelect:()=>{r("transfer_id",g.id),u(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:g.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[g.approval_status,"  ",g.source.code,"->",g.destination.code,"  ",g.transfer_status]})]},g.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(V,{id:"notes",name:"notes",type:"text",defaultValue:s.notes?s.notes:n.notes?n.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:g=>r("notes",g.target.value)})]})]}),e.jsx("div",{className:"flex w-full flex-row pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:c||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Applying changes...":"Apply changes"})]})}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:m})})]})})})},mf=()=>{const{warehouses:t}=ra(),[a,n]=f.useState(0),[s,r]=f.useState(0),{openModal:l,isOpen:i,closeModal:d}=Le(),[o,u]=f.useState(""),c=(x,m)=>{u(m),l()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Inventory",children:e.jsxs(Nc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:x=>n(Number(x)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(H,{value:"0",children:"All"},"all"),t.map(x=>e.jsxs(H,{value:x.id.toString(),children:[x.name," (",x.code,")"]},x.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Ch,{filterWarehouse:a>0?a:void 0,openModal:c,setTotalInventories:r})})]}),e.jsx(He,{isOpen:i,onClose:d,title:o==="add"?"Add Inventory":o==="view_details"?"Details":o==="edit"?"Edit Inventory":"",closeOnOverlayClick:o==="view_details",children:e.jsxs(e.Fragment,{children:[o==="add"&&e.jsx(Th,{warehouses:t,totalInventories:s,onClose:d}),o==="view_details"&&e.jsx(Oh,{onClose:d}),o==="edit"&&e.jsx(Ph,{warehouses:t,onClose:d})]})})]})})})},Ah=({handleEditInventoryProduct:t,handleToggleStatus:a})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:r=>s.toggleAllPageRowsSelected(!!r.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:r=>s.toggleSelected(!!r.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"product",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"flex flex-row items-center whitespace-nowrap bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(se,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(ne,{size:18,strokeWidth:2}):e.jsx(re,{size:18,strokeWidth:2})]})})},{accessorKey:"supplier_id.name",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Supplier"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Cap. Price"}),cell:({row:s})=>{const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:s.original.capital_price?r:""})})}},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"stocks_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Stocks"})},{accessorKey:"damage_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Damaged"})},{accessorKey:"total_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Total"})},{accessorKey:"transferred_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transferred"})},{accessorKey:"sold_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sold"})},{accessorKey:"miscellaneous_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Misc"})},{accessorKey:"remaining_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Remaining"})},{accessorKey:"status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Status"}),cell:({row:s})=>e.jsx(Za,{children:e.jsxs("div",{className:"group relative flex w-fit items-center",children:[e.jsx(La,{children:s.original.status?e.jsx(es,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(Ma,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:s.original.status?"Approved":"Pending"})})]})})},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>{t(r)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsxs(Te,{onClick:()=>a(r.id,+!r.status),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:r.status?e.jsx(Et,{size:16,strokeWidth:2.25}):e.jsx(es,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:r.status?"Set pending":"Set approved"})]})]})]})})},enableGlobalFilter:!1}],Eh=({id:t,openModal:a})=>{const{data:n,isLoading:s}=wc(t),{setSelectedInventoryProduct:r}=Bn(),{handleSubmit:l}=Fs(),i=()=>{a({},"add")},d=u=>{r(u),a(u,"edit")},o=(u,c)=>{l({action:"update",id:u,data:{status:c}})};return e.jsx("div",{className:"w-full rounded-lg border bg-white",children:e.jsx(Es,{children:e.jsx(Ze,{columns:Ah({handleEditInventoryProduct:d,handleToggleStatus:o}),data:n||[],filterWhat:"product",dataType:"Items",openModal:i,isLoading:s})})})},Ih=({setInventoryProductsQueue:t,inventoryId:a,products:n,productsLoading:s,suppliers:r,suppliersLoading:l,currentId:i,handleNavigation:d,selectedProduct:o})=>{var C,E,F,k;const{auth:u}=ge(),{value:c,handleChange:x}=Fs(),[m,h]=f.useState(!1),[j,b]=f.useState(!1),[y,g]=f.useState(null),p=Qn();f.useEffect(()=>{var S,I;x("inventory_id",a),x("unit","pcs"),(S=u.role)!=null&&S.includes("admin")&&x("status",1),o&&(x("product_id",o.data.product_id),x("status",o.data.status),x("supplier_id",o.data.supplier_id),x("capital_price",o.data.capital_price),x("unit",o.data.unit),x("stocks_count",o.data.stocks_count),x("damage_count",o.data.damage_count),x("total_count",o.data.total_count)),!o&&!((I=u.role)!=null&&I.includes("admin"))&&x("capital_price",0)},[]);const[_,T]=f.useState();return f.useEffect(()=>{const S=Fl(c.stocks_count||0,c.damage_count||0);T(S),x("total_count",S)},[c.damage_count,c.stocks_count,_]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:S=>{S.preventDefault(),c.product_id===void 0?g("Please select a product first."):c.supplier_id===void 0?g("Please select a supplier first."):(t(o?I=>[...I.filter(L=>L.id!==o.id),{id:o.id,data:c}]:I=>[...I,{id:i+1,data:c}]),d())},children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"product_id",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(vt,{open:m,onOpenChange:h,children:[e.jsx(jt,{id:"product_id",className:"relative w-full",asChild:!0,autoFocus:!0,children:e.jsxs(ae,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[c.product_id?e.jsx(e.Fragment,{children:(()=>{const S=n.find(I=>I.id===c.product_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsxs("span",{className:"max-w-full truncate",children:[S==null?void 0:S.name," ",(S==null?void 0:S.brand)&&`(${S.brand})`]}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.serial_no})]})})()}):e.jsx("span",{children:"Select a product..."}),e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"min-w-[642px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{children:[e.jsx(aa,{placeholder:"Product name or serial number..."}),s&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Na,{children:"No match found"}),e.jsxs(Pt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Qt,{forceMount:!0,children:e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/products"),b(!1)},forceMount:!0,children:[e.jsx("span",{children:"Add new product..."}),e.jsx(_r,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-product")}),e.jsx(Sr,{}),e.jsx(Qt,{children:n.map((S,I)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",value:S.name+S.serial_no+S.brand,onSelect:()=>{x("product_id",S.id),h(!1)},children:[e.jsxs("span",{className:"max-w-[50%] truncate",children:[S.name," ",S.brand&&`(${S.brand})`]}),e.jsx("span",{className:"max-w-[49%] truncate text-xs font-semibold text-slate-700/50",children:S.serial_no+"  "+S.size+"  "+S.color})]},I))})]})]})})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(vt,{open:j,onOpenChange:b,children:[e.jsx(jt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(ae,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[c.supplier_id?e.jsx(e.Fragment,{children:(()=>{const S=r.find(I=>I.id===c.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:S==null?void 0:S.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.address})]})})()}):e.jsx("span",{children:"Select a supplier..."}),e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{children:[e.jsx(aa,{placeholder:"Supplier name or address..."}),l&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Na,{children:"No match found"}),e.jsxs(Pt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Qt,{forceMount:!0,children:e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/supplier"),b(!1)},children:[e.jsx("span",{children:"Add new supplier..."}),e.jsx(_r,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-supplier")}),e.jsx(Sr,{}),e.jsx(Qt,{children:r.map((S,I)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{x("supplier_id",S.id),b(!1)},children:[e.jsx("span",{children:S.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:S.address})]},I))})]})]})})]})]}),(u.role==="admin"||u.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:(C=c.status)==null?void 0:C.toString(),required:!0,onValueChange:S=>x("status",Number(S)),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(H,{value:"1",children:"Approved"}),e.jsx(H,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(V,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",disabled:!((E=u.role)!=null&&E.includes("admin")),value:c.capital_price||"",onBlur:S=>{c.capital_price!==void 0&&(S.target.value=Number(S.target.value).toFixed(2))},onChange:S=>{x("capital_price",Number(Number(S.target.value).toFixed(2)))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(V,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,value:c.unit||"",onChange:S=>x("unit",S.target.value)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(V,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:(F=c.stocks_count)==null?void 0:F.toFixed(0),required:!0,onChange:S=>{x("stocks_count",Number(Number(S.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(V,{id:"damage_count",name:"damage_count",type:"number",min:0,max:c.stocks_count??0,step:1,required:!0,value:(k=c.damage_count)==null?void 0:k.toFixed(0),onChange:S=>x("damage_count",Number(Number(S.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(V,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,readOnly:!0,value:_??"0",className:`${_&&_<0&&"text-red-600"}`})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsx("div",{className:"ml-auto flex flex-row gap-4",children:e.jsx(A,{type:"submit",fill:"green",disabled:c.product_id===void 0||c.supplier_id===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Save changes":"Add item to queue"})})}),y&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:y})})]})})})},Fh=["","Product name","Supplier","Status","Capital price","Unit","Stocks","Damaged","Total"],Lh=({data:t,products:a,suppliers:n,handleEditItem:s,handleRemoveItem:r,handleSubmit:l,onClose:i})=>{const[d,o]=f.useState(!1),[u,c]=f.useState(null),x=()=>{o(!0),l({action:"batch-add",data:t.map(m=>m==null?void 0:m.data)}).then(()=>{ea.success("Items added to inventory"),o(!1),i()}).catch(()=>{ea.error("Error adding items to inventory"),c("Error adding items to inventory"),o(!1)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex h-full flex-col",children:e.jsxs(Es,{children:[e.jsxs(Pt,{type:"always",className:"flex-1 rounded-md border border-gray-200 bg-white",style:{"--border":"216 12% 84%"},children:[t.length<=0&&e.jsx("div",{className:"absolute z-10 flex h-full w-full items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-gray-500/50",children:"No items in queue"})}),e.jsx(Cr,{orientation:"horizontal",className:"z-50 h-3"}),e.jsx(Cr,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),e.jsxs($n,{children:[e.jsx(qn,{children:e.jsx(va,{id:"tHeaderRow",className:"hover:bg-white",children:Fh.map(m=>e.jsx(Kn,{className:"whitespace-nowrap px-5 py-3 text-center text-xs font-bold uppercase",children:m},m+"_head"))},"tHeaderRow")}),e.jsx(Yn,{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(odd)]:bg-gray-50",children:t.length>0&&t.map(m=>{var h,j;return e.jsxs(va,{className:"text-sm font-medium text-gray-700",children:[e.jsx(Fe,{className:"p-3 pr-0",children:e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Lt,{children:[e.jsx(Mt,{className:"overflow-clip rounded-full bg-gray-200/70 p-1.5 hover:bg-gray-300",children:e.jsx(zt,{size:16,strokeWidth:2.25})}),e.jsxs(Wt,{className:"relative z-50 w-44 bg-white font-medium",children:[e.jsx(Rt,{children:"Actions"}),e.jsx(mt,{className:"bg-gray-200"}),e.jsxs(Te,{onClick:()=>{m!=null&&m.id&&s(m)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(sa,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Edit"})]},(m==null?void 0:m.id)+"edit"),e.jsxs(Te,{onClick:()=>{m!=null&&m.id&&r(m.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 focus:bg-red-50 focus:text-red-700",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Rc,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Remove"})]},(m==null?void 0:m.id)+"remove")]})]})})},(m==null?void 0:m.id)+"action"),e.jsx(Fe,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.product_id?(h=a.find(b=>b.id===m.data.product_id))==null?void 0:h.name:m==null?void 0:m.data.product_id},(m==null?void 0:m.id)+"product_id"),e.jsx(Fe,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.supplier_id?(j=n.find(b=>b.id===m.data.supplier_id))==null?void 0:j.name:m==null?void 0:m.data.supplier_id},(m==null?void 0:m.id)+"supplier_id"),e.jsx(Fe,{className:"px-5 py-3",children:e.jsxs(_c,{children:[e.jsx(La,{children:m!=null&&m.data.status?e.jsx(es,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Et,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(Ma,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:m.data.status?"Approved":"Pending"})})]})},(m==null?void 0:m.id)+"status"),e.jsx(Fe,{className:"px-5 py-3",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format((m==null?void 0:m.data.capital_price)||0)},(m==null?void 0:m.id)+"capital_price"),e.jsx(Fe,{className:"px-5 py-3",children:m==null?void 0:m.data.unit},(m==null?void 0:m.id)+"unit"),e.jsx(Fe,{className:"px-5 py-3",children:m==null?void 0:m.data.stocks_count},(m==null?void 0:m.id)+"stocks_count"),e.jsx(Fe,{className:"px-5 py-3",children:m==null?void 0:m.data.damage_count},(m==null?void 0:m.id)+"damage_count"),e.jsx(Fe,{className:"px-5 py-3",children:m==null?void 0:m.data.total_count},(m==null?void 0:m.id)+"total_count")]},(m==null?void 0:m.id)+"row")})})]})]}),e.jsxs("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:[u&&e.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:u})}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>i(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:t.length<=0||d,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:m=>{m.preventDefault(),x()},children:t.length<=1?"Add item to inventory":`Add ${t.length} items to inventory`})]})]})]})})})},Mh={hidden:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"-100%",transition:{duration:.3,ease:"easeInOut"}}},Wh={hidden:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}}},Rh=({onClose:t,inventoryId:a})=>{const{auth:n}=ge(),{data:s,isLoading:r}=ul(),{suppliers:l,isFetching:i}=kl(),{handleSubmit:d}=Fs(),[o,u]=f.useState([]),[c,x]=f.useState({}),[m,h]=f.useState("main"),j=()=>{x({}),h(m==="main"?"form":"main")},b=g=>{x(g),h("form")},y=g=>{u(p=>p.filter(_=>_.id!==g))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:m==="main"?"ml-auto":"",children:e.jsx(ae,{className:"flex flex-row items-center gap-2 bg-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",onClick:()=>{j()},children:e.jsxs(e.Fragment,{children:[m==="main"?e.jsx(Vc,{size:20,strokeWidth:2.5}):e.jsx(Dl,{size:20,strokeWidth:2.5}),m==="main"?"Add an item":"Back"]})})}),e.jsx("div",{className:`relative min-w-[850px] overflow-x-clip transition-all duration-300 
					${m==="form"?n.role==="admin"||n.role==="super_admin"?"min-h-[400px]":"min-h-[336px]":"min-h-[600px]"}`,children:e.jsx(Sc,{initial:!1,children:m==="main"?e.jsx(kr.div,{variants:Mh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute h-full w-full overflow-x-auto antialiased",children:e.jsx(Lh,{data:o,products:s,suppliers:l,handleEditItem:b,handleRemoveItem:y,handleSubmit:d,onClose:t})},"main"):e.jsx(kr.div,{variants:Wh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute max-h-[406px] w-full p-1",children:e.jsx(Ih,{setInventoryProductsQueue:u,inventoryId:a,products:s,productsLoading:r,suppliers:l,suppliersLoading:i,currentId:o.reduce((g,p)=>p.id>g?p.id:g,0),handleNavigation:j,selectedProduct:Object.keys(c).length?c:void 0})},"form")})})]})})},zh=({onClose:t})=>{var y;const{auth:a}=ge(),{selectedInventoryProduct:n}=Bn(),{value:s,handleChange:r,handleSubmit:l}=Fs(),{suppliers:i,isFetching:d}=kl(),[o,u]=f.useState(!1),[c,x]=f.useState(!1),[m,h]=f.useState(null),[j,b]=f.useState();return f.useEffect(()=>{const g=Fl(s.stocks_count??n.stocks_count,s.damage_count??n.damage_count);b(g),r("total_count",g)},[s.damage_count,s.stocks_count,j]),e.jsx(e.Fragment,{children:e.jsx("form",{action:"",onSubmit:async g=>{x(!c),g.preventDefault();const p=await l({action:"update",id:n.id,data:s});typeof p=="object"&&"status"in p&&p.status===200?(x(!c),t()):(x(!c),h("Failed to update item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${a.role==="admin"||a.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(P,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsx(V,{id:"product",name:"product",type:"text",readOnly:!0,value:n==null?void 0:n.product.name})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(vt,{open:o,onOpenChange:u,children:[e.jsx(jt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(ae,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[s.supplier_id?e.jsx(e.Fragment,{children:(()=>{const g=i.find(p=>p.id===s.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:g==null?void 0:g.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:g==null?void 0:g.address})]})})()}):e.jsx("span",{children:n.supplier_id.name}),e.jsx(za,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(yt,{className:"p-0 text-sm font-medium text-slate-700",children:e.jsxs(ba,{children:[e.jsx(aa,{placeholder:"Supplier name or address..."}),i===void 0&&d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Na,{children:"No match found"}),e.jsx(Pt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Qt,{children:i.map((g,p)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{r("supplier_id",g.id),u(!1)},children:[e.jsx("span",{children:g.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:g.address})]},p))})})]})})]})]}),(a.role==="admin"||a.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:s.status?s.status.toString():n.status.toString(),required:!0,onValueChange:g=>r("status",g),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(H,{value:"1",children:"Approved"}),e.jsx(H,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(V,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",readOnly:a.role!=="admin",defaultValue:n==null?void 0:n.capital_price.toFixed(2),onBlur:g=>{g.target.value=Number(g.target.value).toFixed(2)},onChange:g=>{const p=Number(g.target.value).toFixed(2);r("capital_price",Number(p))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(V,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,defaultValue:n==null?void 0:n.unit,onChange:g=>r("unit",g.target.value)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(V,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:((y=s.stocks_count)==null?void 0:y.toFixed(0))??(n==null?void 0:n.stocks_count)??0,onChange:g=>{r("stocks_count",Number(Number(g.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(V,{id:"damage_count",name:"damage_count",type:"number",min:0,max:s.stocks_count??n.stocks_count,step:1,required:!0,value:s.damage_count!==void 0?s.damage_count:(n==null?void 0:n.damage_count)||"",onBlur:g=>{g.target.value=Number(g.target.value).toFixed(0)},onChange:g=>r("damage_count",Number(Number(g.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(V,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,value:j||0,className:`${j&&j<0&&"text-red-600"}`,readOnly:!0})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:c,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Applying...":"Apply changes"})]})}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:m})})]})})})},xf=()=>{const{id:t}=Cc(),{data:a,isLoading:n}=kc(Number(t)),s=Qn(),r=()=>{s(-1)},{openModal:l,isOpen:i,closeModal:d}=Le(),[o,u]=f.useState(""),c=(x,m)=>{u(m),l()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Inventory items",children:e.jsxs(Dc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"text-primary-dark-gray flex flex-row items-center gap-6 text-sm font-medium",children:[e.jsxs(ae,{onClick:()=>r(),className:"flex flex-row items-center gap-3 whitespace-nowrap bg-gray-200 pr-6 font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",children:[e.jsx(Dl,{size:22,strokeWidth:2.25}),e.jsx("span",{children:"Go back"})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("h2",{className:"font-bold",children:"Inventory code:"}),e.jsx("span",{children:n?"Loading...":a==null?void 0:a.code})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg",children:e.jsx(Eh,{id:Number(t),openModal:c})})]}),e.jsx(He,{isOpen:i,onClose:d,title:o==="add"?"Add Items":o==="edit"?"Edit Item":"",children:e.jsxs(e.Fragment,{children:[o==="add"&&e.jsx(Rh,{inventoryId:Number(t),onClose:d}),o==="edit"&&e.jsx(zh,{onClose:d})]})})]})})})},Uh=()=>{const t=Be(),{selectedExpenses:a}=Jn(),[n,s]=f.useState({id:a.id,title:a.title,date_of_operation:a.date_of_operation,amount:a.amount,notes:a.notes,created_by:a.created_by.id,created_at:a.created_at,updated_at:a.updated_at}),[r,l]=f.useState(!1),[i,d]=f.useState(!1),[o,u]=f.useState(null),[c,x]=f.useState(null),m=()=>Object.keys(n).map(p=>({text:p})).length>=8?n.amount?n.title?[!0,""]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"],h=g=>{l(!0),x(null),u(null),s(p=>({...p,[g.target.name]:g.target.value}))},j=async()=>{const g=m();d(!0),g[0]?await y(n):(u(g[1]),d(!1))},b={onSuccess:async()=>{await t.invalidateQueries({queryKey:["expenses"]}),d(!1),l(!1),x("Expenses info has been edited")},onError:g=>{console.error(g),u(g.message),d(!1)}},{mutateAsync:y}=fe({mutationKey:["editExpenses"],mutationFn:Tc,...b});return{expensesEdit:n,isChanged:r,isSubmitting:i,error:o,success:c,handleSubmit:j,handleChange:h,editExpensesMutation:y}},Hh=()=>{const t=Be(),{expenses:a,dateToday:n}=Jn(),s=a.length+1,{auth:r}=ge(),[l,i]=f.useState({id:s,title:"",date_of_operation:n,amount:0,notes:"",created_by:r.id,created_at:"",updated_at:""}),[d,o]=f.useState(!1),[u,c]=f.useState(!1),[x,m]=f.useState(null),[h,j]=f.useState(null),b=()=>Object.keys(l).map(C=>({text:C})).length>=5?l.amount?l.title?[!0,""]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"],y=T=>{o(!0),j(null),m(null),i(C=>({...C,[T.target.name]:T.target.value}))},g=async()=>{const T=b();c(!0),T[0]?await _(l):(m(T[1]),c(!1))},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["expenses"]}),c(!1),o(!1),j("Expenses info has been added")},onError:T=>{console.error(T),m(T.message),c(!1)}},{mutateAsync:_}=fe({mutationKey:["addExpenses"],mutationFn:Oc,...p});return{dateToday:n,expensesAdd:l,isChanged:d,isSubmitting:u,error:x,success:h,handleSubmit:g,handleChange:y,addExpensesMutation:_}},Vh=({openModal:t})=>{const{expenses:a,isFetching:n,selectedExpenses:s,setSelectedExpenses:r,dateToday:l}=Jn(),i=()=>{t({},"add")},d=c=>{r(c[0]),t(c,"edit")},o=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:x=>c.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:x=>c.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date_of_operation",sortingFn:"datetime",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["DATE OF OPERATION ",c.getIsSorted()==="asc"?e.jsx(se,{}):c.getIsSorted()==="desc"?e.jsx(ne,{}):e.jsx(re,{})]})}),cell:({row:c})=>{const x=c.getValue("date_of_operation");if(x.toString()!=="0000-00-00"){const m={year:"numeric",month:"long",day:"numeric"},h=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"title",header:({column:c})=>e.jsx("div",{className:"text-center",children:" TITLE "}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.title})},{accessorKey:"amount",header:({column:c})=>e.jsx("div",{className:"text-center",children:" AMOUNT "}),cell:({row:c})=>{const x=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c.original.amount);return e.jsx("div",{className:"text-center",children:x})}},{accessorKey:"notes",header:({column:c})=>e.jsx("div",{className:"text-center",children:" NOTES "}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.notes})},{accessorKey:"created_by",header:({column:c})=>e.jsx("div",{className:"text-center",children:" CREATED BY "}),cell:({row:c})=>e.jsxs("div",{className:"text-center",children:[c.original.created_by.firstname," ",c.original.created_by.lastname]})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:c})=>{const x=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>d([x]),className:"flex flex-row items-center gap-2",children:[e.jsx(Ls,{})," Edit"]})})}}],u=a.some(c=>c.date_of_operation===l);return e.jsx(e.Fragment,{children:e.jsx(Ze,{data:a,columns:o,filterWhat:"notes",dataType:"Today's Expenses",openModal:u?void 0:i,isLoading:n})})},$h=({onClose:t})=>{const{expensesEdit:a,isChanged:n,isSubmitting:s,error:r,success:l,handleSubmit:i,handleChange:d}=Uh();return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async o=>{o.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Date of Operation"}),e.jsx(Z,{type:"text",name:"date_of_operation",placeholder:"2024-04-06",className:"inputbox rounded-md",value:a.date_of_operation,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"Title"}),e.jsx(Z,{type:"text",name:"title",placeholder:"Title",className:"inputbox rounded-md bg-slate-100",value:a.title,onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Amount"}),e.jsx(Z,{type:"number",name:"amount",placeholder:"500.00",className:"inputbox rounded-md bg-slate-100",value:a.amount,onChange:d,required:!0})]})]}),e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-12 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Notes"}),e.jsx(os,{name:"notes",placeholder:"Notes here....",className:"text-base rounded-md bg-slate-100",value:a.notes,onChange:d})]})}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(A,{type:"submit",fill:n?"green":null,disabled:!n,onClick:i,children:s?"Submitting":"Edit Expenses"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),r&&e.jsx("div",{className:"font-bold text-red-700",children:r}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})})},qh=({onClose:t})=>{const{expensesAdd:a,isChanged:n,isSubmitting:s,error:r,success:l,handleSubmit:i,handleChange:d,dateToday:o}=Hh();return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async u=>{u.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Date of Operation"}),e.jsx(Z,{type:"text",name:"date_of_operation",placeholder:"2024-04-06",className:"inputbox rounded-md",value:o,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"Title"}),e.jsx(Z,{type:"text",name:"title",placeholder:"Title",className:"inputbox rounded-md bg-slate-100",value:a.title||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Amount"}),e.jsx(Z,{type:"number",name:"amount",placeholder:"500.00",className:"inputbox rounded-md bg-slate-100",value:a.amount||"",onChange:d,required:!0})]})]}),e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-12 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Notes"}),e.jsx(os,{name:"notes",placeholder:"Notes here....",className:"text-base rounded-md bg-slate-100",value:a.notes||"",onChange:d})]})}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(A,{type:"submit",fill:n?"green":null,disabled:!n,onClick:i,children:s?"Submitting":"Add Expenses"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),r&&e.jsx("div",{className:"font-bold text-red-700",children:r}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Ut,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})})},hf=()=>{const{openModal:t,isOpen:a,closeModal:n}=Le(),[s,r]=f.useState(""),l=(i,d)=>{r(d),t()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Expenses",children:e.jsxs(Pc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Vh,{openModal:l})})}),e.jsx(He,{isOpen:a,onClose:n,title:s==="add"?"Add Expenses":"Edit Expenses",children:e.jsxs(e.Fragment,{children:[s==="edit"&&e.jsx($h,{onClose:n}),s==="add"&&e.jsx(qh,{onClose:n})]})})]})})})},Ns=({title:t,date:a,children:n,formatAmount:s,filter:r})=>e.jsx(e.Fragment,{children:e.jsxs(Tl,{className:"w-full min-w-[320px] max-w-[460px]",children:[e.jsxs(Ol,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(Pl,{className:"text-xl font-bold",children:t}),a&&e.jsx(e.Fragment,{children:e.jsx(Al,{className:"!mt-1 font-bold uppercase",children:$c()})})]}),e.jsxs(El,{className:"py-2 pt-0",children:[s&&e.jsx("span",{className:"text-lg font-medium",children:Dt(2e5)}),n&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-lg font-medium",children:n})})]}),e.jsx(Ac,{children:e.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Qc,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-sm font-bold text-green-500",children:"20%"})]}),r&&e.jsx(e.Fragment,{children:e.jsxs(ce,{children:[e.jsx(oe,{className:"max-w-[50%]",children:e.jsx(de,{placeholder:"filter by"})}),e.jsx(ue,{children:r.map((l,i)=>e.jsx(H,{value:l,children:l},i))})]})})]})})]})}),Kh=()=>e.jsx(e.Fragment,{children:e.jsxs(Tl,{className:"flex-1",children:[e.jsxs(Ol,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(Pl,{className:"font-bold",children:"Products"}),e.jsx(Al,{className:"!mt-1 font-bold uppercase"})]}),e.jsx(El,{className:"py-2 pt-0",children:e.jsx(Yh,{})})]})}),Yh=({})=>{const t=[31,69],a={series:[31,69],labels:["New Products","Returning Products"],dataLabels:{enabled:!0}};return e.jsx(e.Fragment,{children:e.jsx(Ec,{series:t,options:a,type:"donut",height:200,width:"100%"})})},ff=()=>{const t=["Monthly","Quarterly","Yearly"];return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Reports",children:e.jsxs("div",{className:"flex h-full w-full flex-col justify-between gap-5",children:[e.jsxs("div",{className:"flex w-full flex-row justify-between gap-5 ",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Ns,{title:"Sales Revenue",date:!0,formatAmount:!0,filter:t}),e.jsx(Ns,{title:"Expected Profit",formatAmount:!0,filter:t})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Ns,{title:"Total Collectibles",date:!0,formatAmount:!0,filter:t}),e.jsx(Ns,{title:"Total Capital",formatAmount:!0,filter:t})]})]}),e.jsx(Kh,{})]}),e.jsx(Kc,{})]})})})},Bh=()=>{const t=["","Product name","Price","Qty","Total"],{selectedInvoiceCode:a}=et(),{data:n}=Sa();return console.log(a),e.jsx(e.Fragment,{children:e.jsxs($n,{children:[e.jsxs(Ic,{children:["Select items the customer wants to return for invoice"," "]}),e.jsx(qn,{children:e.jsx(va,{id:"tHeaderRow",className:"hover:bg-white",children:t.map(s=>e.jsx(Kn,{className:"whitespace-nowrap px-5 py-3 text-left text-xs font-bold uppercase",children:s},s+"_head"))},"tHeaderRow")}),e.jsx(Yn,{children:a.invoice_items.length>0&&a.invoice_items.map((s,r)=>e.jsxs(va,{className:"text-sm font-medium text-gray-700",children:[e.jsx(Fe,{className:"p-3 pr-0",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",name:"return",id:"return"})}),e.jsx(Fe,{className:"text-sm font-medium text-gray-700",children:s==null?void 0:s.product.name},(s==null?void 0:s.product.name)+"Product Name"),e.jsx(Fe,{children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:Dt(n.find(l=>l.id===s.product_price_id).cost)}),n.find(l=>l.id===s.product_price_id).on_sale?e.jsxs("span",{className:"text-muted-foreground",children:["(",Dt(n.find(l=>l.id===s.product_price_id).sale_discount),")"]}):null]})}),e.jsx(Fe,{children:s==null?void 0:s.quantity}),e.jsx(Fe,{children:Dt(s==null?void 0:s.total_price)})]},(s==null?void 0:s.id)+"row"))}),e.jsx(Fc,{children:e.jsxs(va,{children:[e.jsx(Fe,{colSpan:4,className:"text-right",children:"Total:"}),e.jsx(Fe,{children:Dt(a.paid_amount)})]})})]})})},pf=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Il,{}),e.jsx("div",{id:"main",className:"flex w-screen flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex w-full flex-row justify-between",children:e.jsx("h1",{className:"text-primary-dark-gray text-2xl font-bold",children:"Return Item"})}),e.jsx(Bh,{})]})})]})});export{hf as ExpensesPage,mf as Inventory,xf as InventoryItemsPage,ef as Invoice,jf as Login,of as PendingTransfer,lf as PointOfSalePage,pf as PosReturnsPage,nf as ProductPrices,sf as Products,ff as Reports,uf as RolePermissions,af as Supplier,cf as Transaction,rf as Transfer,tf as UserInfo,df as UserSales,Jh as Warehouse};
