import{m as Ye,k as Xe,n as Tr,r as f,o as Li,p as Mi,q as Wi,u as gt,e as ge,t as ra,v as Ri,w as zi,x as qi,y as Jn,z as Ui,D as Hi,E as Ki,H as $i,I as Vi,J as Bi,K as Yi,L as Qi,M as el,O as Gi,Q as Zi,j as e,R as Xi,X as Or,B as D,U as Qe,W as Ji,V as rt,Y as ec,Z as tc,$ as ac,a0 as tl,a1 as C,a2 as ce,a3 as oe,a4 as de,a5 as ue,a6 as U,a7 as L,a8 as al,a9 as sc,aa as Jt,ab as rc,h as rr,ac as sl,ad as rl,ae as nl,af as ll,ag as St,ah as Ct,ai as kt,aj as Dt,ak as ct,al as ke,am as J,an as ne,ao as bt,ap as yt,aq as il,ar as cl,as as nc,at as lc,au as ic,av as Ar,aw as ze,C as Nt,b as wt,ax as ol,ay as as,az as ht,aA as ft,aB as pt,aC as ea,aD as zt,aE as mn,aF as Mt,aG as xt,aH as cc,aI as oc,aJ as Pr,aK as Fr,aL as Ia,aM as vs,aN as dc,aO as dl,aP as ul,aQ as cs,aR as _,aS as it,aT as g,aU as nr,aV as Er,aW as ml,T as xl,aX as hl,aY as fl,aZ as js,a_ as pl,a$ as gl,b0 as st,b1 as Ir,b2 as uc,b3 as Ss,b4 as mc,b5 as vl,b6 as ja,b7 as xc,b8 as hc,b9 as fc,ba as pc,bb as gc,bc as vc,bd as jc,be as jl,bf as Ha,bg as os,bh as yl,bi as yc,bj as bc,bk as Nc,bl as wc,bm as bl,bn as _c,bo as Lr,f as Mr,bp as Wr,bq as Rr,br as Sc,bs as Cc,bt as xn,bu as hn,bv as fn,bw as Nl,bx as wl,by as kc,bz as pn,bA as Dc,bB as Tc,bC as _l,bD as Oc,bE as Sl,bF as Cl,bG as kl,bH as Dl,bI as Tl,bJ as Ac,_ as Pc}from"./index-26ff3a3f.js";import{bK as df}from"./index-26ff3a3f.js";import{I as re,D as Ue,A as ee,a as te,b as ae,F as zr,u as Ee,c as Ve,d as Fc,S as Ec,B as ta,e as Ic,h as Lc,i as gn,f as ss,j as Mc}from"./FormatCurrency-885e88b0.js";import{u as fe,P as Wc}from"./useMutation-bc6c2ea0.js";import{M as Tt,P as aa,C as Ya,a as ya,N as Rc,u as Cs,b as zc}from"./Navbar-e49cd9f3.js";/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=Ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=Ye("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Ye("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=Ye("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=Ye("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ye("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=Ye("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ye("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Ye("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ye("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=Ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=Ye("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ye("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=Ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qc=Ye("UserRoundPlus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),Gc=()=>{const t=Xe(),{warehouses:a}=Tr(),[s,r]=f.useState({id:a.length+1||0,code:"",name:"",location:""}),n=u=>{const{name:d,value:x}=u.target;r(m=>({...m,[d]:x}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["warehouses"]}),r({id:a.length+1||0,code:"",name:"",location:""})},onError:u=>{console.error("Warehouse Data failed",u)}},{mutateAsync:i}=fe({mutationKey:["removeWarehouse"],mutationFn:Li,...l}),{mutateAsync:o}=fe({mutationKey:["addWarehouse"],mutationFn:Mi,...l}),{mutateAsync:c}=fe({mutationKey:["updateWarehouse"],mutationFn:Wi,...l});return{value:s,setValue:r,handleChange:n,removeWarehouseMutation:i,addWarehouseMutation:o,updateWarehouseMutation:c}},Zc=()=>{const t=Xe(),{transfers:a}=gt(),{auth:s}=ge(),{warehouses:r}=ra(),n=a[0]?a[a.length-1].id+1:1,[l,i]=f.useState(!1),[o,c]=f.useState(!1),[u,d]=f.useState(null),[x,m]=f.useState(null),[h,v]=f.useState(null),[y,b]=f.useState(),[j,p]=f.useState(),[N,O]=f.useState(),[A,M]=f.useState({});f.useEffect(()=>{M(B=>({...B,approval_status:"pending",created_by:s.user.id,transfer_schedule:""}))},[]);const E=()=>{const B=Object.keys(A).map(w=>({text:w})),H=B.length===6||B.length>6;if(H){const w=A.source!==A.destination;if(w){const Y=A.transfer_schedule!=="";return Y?[Y,""]:[Y,"Please fill up transfer schedule"]}else return[w,"You cannot have the same source and destination"]}else return[H,"Please fill up all fields"]},I=B=>{i(!0),m(null),d(null),M(H=>({...H,[B.target.name]:B.target.value}))},S=(B,H)=>{i(!0),m(null),d(null),v(H);const w=H.getMonth()+1<10?"0"+(H.getMonth()+1).toString():H.getMonth()+1,Y=H.getDate()<10?"0"+H.getDate().toString():H.getDate();O(H.getFullYear()+""+w+Y);const le=H.getFullYear()+"-"+(H.getMonth()+1)+"-"+H.getDate()+" "+H.getHours()+":"+H.getMinutes()+":"+H.getSeconds();M(W=>({...W,transfer_schedule:le}))},P=(B,H)=>{var w,Y;i(!0),m(null),d(null),M(le=>({...le,[B]:H})),B==="source"?b((w=r.find(le=>le.id===H))==null?void 0:w.code):p((Y=r.find(le=>le.id===H))==null?void 0:Y.code)},F=async()=>{if(y&&j&&N){const B="TRF-"+y+"-"+j+"-"+N+"-"+n;M(H=>({...H,code:B}))}};f.useEffect(()=>{async function B(){if(A.code){const H=E();if(c(!0),H[0])return K(A);d(H[1]),c(!1)}}B()},[A.code]);const R={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfers"]}),c(!1),i(!1),m("Transfer info has been added")},onError:B=>{console.error(B),d(B.message),c(!1)}},{mutateAsync:K}=fe({mutationKey:["addTransfer"],mutationFn:Ri,...R});return{transfer:A,lastId:n,isChanged:l,isSubmitting:o,error:u,success:x,dateDisplay:h,handleSubmit:F,handleChange:I,handleChangeSelect:P,handleChangeDateTime:S,addTransferMutation:K}},Pl=()=>{const t=Xe(),[a,s]=f.useState({}),r=(c,u)=>{s(d=>({...d,[c]:u}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]})},onError:c=>{console.error("Inventory Data failed",c)}},{mutateAsync:i}=fe({mutationKey:["addInventory"],mutationFn:zi,...l}),{mutateAsync:o}=fe({mutationKey:["patchInventory"],mutationFn:qi,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n}},Fl=()=>{const t=Xe(),{transfers:a,transferProducts:s,selectedTransfer:r}=gt(),n=s.filter($=>$.transfer_id===r.id),{auth:l}=ge(),{warehouses:i}=ra(),[o,c]=f.useState(!1),[u,d]=f.useState(!1);f.useState(!1);const[x,m]=f.useState(!1);f.useState(!1);const[h,v]=f.useState(!1),{data:y}=Jn(),[b,j]=f.useState(0),[p,N]=f.useState(!1),[O,A]=f.useState(!1),[M,E]=f.useState(null),[I,S]=f.useState(null),[P,F]=f.useState(new Date),[R,K]=f.useState(new Date),[B,H]=f.useState(""),[w,Y]=f.useState(),le=a[a.length-1].id+1,[W,G]=f.useState({});if(f.useEffect(()=>{r&&(G({id:r.id,code:r.code,created_by:r.created_by.id,source:r.source.id,destination:r.destination.id,transfer_schedule:r.transfer_schedule,approval_status:r.approval_status,approved_by:r.approved_by?r.approved_by.id:null,transfer_status:r.transfer_status,date_received:r.date_received,received_by:r.received_by?r.received_by.id:null,notes:r.notes}),F(new Date(r.transfer_schedule)),r.date_received?K(new Date(r.date_received)):K(new Date(r.transfer_schedule)))},[r]),W.code==""){const $=W.transfer_schedule.split(" ")[0].split("-").join(""),Q="TRF-"+r.source.code+"-"+r.destination.code+"-"+$+"-"+le;G(ve=>({...ve,code:Q}))}const me=()=>{const $=W.source!==W.destination;if($){const Q=W.transfer_status==="arrived"?!!(W.received_by&&W.date_received):!0;if(Q)return[Q,""];{const ve=`Fields you need to fill: ${W.received_by?"":"received by"} 
									${!W.date_received&&!W.received_by?" and ":""}
									${W.date_received?"":"date received"}`;return[Q,ve]}}else return[$,"You cannot have the same source and destination"]},xe=$=>{N(!0),S(null),E(null),G(Q=>({...Q,[$.target.name]:$.target.value}))},he=($,Q)=>{N(!0),S(null),E(null),H($),Y(Q),$==="transfer_schedule"?F(Q):K(Q)};f.useEffect(()=>{async function $(){if(B&&w){const Q=w.getFullYear()+"-"+(w.getMonth()+1)+"-"+w.getDate()+" "+w.getHours()+":"+w.getMinutes()+":"+w.getSeconds();G(ve=>({...ve,[B]:Q}))}}$()},[P,R]);const Z=($,Q)=>{N(!0),S(null),E(null),G(ve=>({...ve,[$]:Q}))};f.useEffect(()=>{W.approval_status==="approved"?G($=>({...$,approved_by:l.user.id})):W.approval_status==="rejected"&&v(!0)},[W.approval_status]),f.useEffect(()=>{W.transfer_status==="arrived"?c(!0):c(!1)},[W.transfer_status]),f.useEffect(()=>{if(u){async function $(){const ve={code:"INV-"+i.filter(ot=>ot.id===W.destination)[0].code+"-TRA-"+r.code.split("-")[3]+"-"+(Number(y.length)+1).toString(),warehouse_id:W.destination,created_by:W.created_by,date_received:W.date_received,type:"transfer",transfer_id:W.id,notes:W.notes},ye=await He(ve);j(ye.data.data.id)}$()}},[u]);async function Te(){await $i(n,b).then(async $=>{A(!1),N(!1),S("Transfer info has been edited")}).catch($=>{throw console.error("Error updating inventory products:",$),$})}f.useEffect(()=>{b!=0&&Te()},[b]);const Ie=async()=>{const $=me();if(A(!0),$[0])if(o)await Ae(W);else return await Ae(W);else E($[1]),A(!1)},Le={onSuccess:async()=>{if(await t.invalidateQueries({queryKey:["transfers"]}),o)d(!0);else{if(h)return await je(n);A(!1),N(!1),S("Transfer info has been edited")}},onError:$=>{console.error($),E($.message),A(!1)}},{mutateAsync:Ae}=fe({mutationKey:["editTransfer"],mutationFn:Ui,...Le}),De={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]}),m(!0)},onError:$=>{console.error($),E($.message),A(!1)}},{mutateAsync:He}=fe({mutationKey:["addInventory"],mutationFn:Hi,...De}),Ne={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),A(!1),N(!1),S("Transfer info has been edited")},onError:$=>{console.error($),E($.message),A(!1)}},{mutateAsync:je}=fe({mutationKey:["initInventoryProduct"],mutationFn:Ki,...Ne});return{transfer:W,selectedTransfer:r,lastId:le,isChanged:p,isSubmitting:O,error:M,success:I,dateDisplay:P,dateDisplayArrived:R,handleSubmit:Ie,handleChange:xe,handleChangeSelect:Z,handleChangeDateTime:he,editTransferMutation:Ae}},El=()=>{const t=Xe(),[a,s]=f.useState({}),r=(c,u)=>{s(d=>({...d,[c]:u}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["products"]})},onError:c=>{console.error("Product Data failed",c)}},{mutateAsync:i}=fe({mutationKey:["addProduct"],mutationFn:Vi,...l}),{mutateAsync:o}=fe({mutationKey:["patchProduct"],mutationFn:Bi,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n,addProductMutation:i}},Hr=()=>{const t=Xe(),[a,s]=f.useState({}),r=(c,u)=>{s(d=>({...d,[c]:u}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["productPrices"]}),s({})},onError:c=>{console.error("Product Prices Data failed",c)}},{mutateAsync:i}=fe({mutationKey:["addProductListing"],mutationFn:Yi,...l}),{mutateAsync:o}=fe({mutationKey:["patchProductListing"],mutationFn:Qi,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n,addProductPricesMutation:i,patchProductPricesMutation:o}},Xc=()=>{const t=Xe(),{transfers:a,transferProducts:s,selectedProduct:r,selectedTransfer:n}=gt();ge();const{data:l}=el(),{data:i}=Gi(),{data:o}=Jn(),c=o.filter(w=>w.warehouse.id===n.source.id),u=i.filter(w=>c.map(Y=>Y.id).includes(w.inventory_id)&&w.capital_price>0&&w.remaining_stocks_count&&w.remaining_stocks_count>0),[d,x]=f.useState(0),[m,h]=f.useState(0),[v,y]=f.useState(0),[b,j]=f.useState(!1),[p,N]=f.useState(!1),[O,A]=f.useState(null),[M,E]=f.useState(null),[I,S]=f.useState({});f.useEffect(()=>{S(w=>({...w,id:s.length+1,transfer_id:n.id}))},[]);const P=w=>{j(!0),E(null),A(null),S(Y=>({...Y,[w.target.name]:Number(w.target.value)}))},F=(w,Y,le)=>{j(!0),E(null),A(null);const W=u[le],G=W.id,me=W.capital_price,xe=W.bundles_unit,he=W.unit,Z=W.quantity_per_bundle;S(Te=>({...Te,[w]:Y,capital_price:me,bundles_unit:xe,unit:he,quantity_per_bundle:Z,source_inventory:G})),x(W.remaining_stocks_count?W.remaining_stocks_count/W.quantity_per_bundle:0),h(W.remaining_stocks_count?W.remaining_stocks_count:0),y(W.damage_count)};f.useEffect(()=>{I.bundles_count&&I.quantity_per_bundle?S(w=>({...w,total_quantity:I.bundles_count*I.quantity_per_bundle})):S(w=>({...w,total_quantity:0}))},[I]);const R=()=>{const Y=Object.keys(I).map(le=>({text:le})).length===10;return Y?I.bundles_count>d?[!1,"Bundles count input is greater than the current stock quantity."]:[!0,""]:[Y,"Please fill up all fields"]},K=async()=>{N(!0);const w=R();if(w[0])return await H(I);A(w[1]),N(!1)},B={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),N(!1),j(!1),E("Transfer product has been added")},onError:w=>{console.error(w),A(w.message),N(!1)}},{mutateAsync:H}=fe({mutationKey:["addTransferProduct"],mutationFn:Zi,...B});return{product:I,allProducts:l,allInventoryProducts:i,filteredProductsSrc:u,bundlesLimit:d,quantityLimit:m,damagedCount:v,isChanged:b,isSubmitting:p,error:O,success:M,handleSubmit:K,handleChange:P,handleChangeSelect:F,addProductMutation:H}},Na=t=>e.jsx(Xi,{className:"flex loading",type:"spin",color:"#16A116",height:t.height,width:t.width}),qe=({children:t,title:a,isOpen:s,onClose:r,closeOnOverlayClick:n})=>{const l=f.useRef(null),[i,o]=f.useState(!1),c=s?"animate-fade-in":"animate-fade-out";return f.useEffect(()=>{var u;if(s)o(!0);else{(u=l.current)==null||u.classList.add("fade-out");const d=setTimeout(()=>{o(!1),r()},300);return()=>clearTimeout(d)}},[s,r]),e.jsx(e.Fragment,{children:i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:l,className:`modal-content ${c} absolute left-1/2 top-1/2 z-50 flex -translate-x-1/2 -translate-y-1/2 transform flex-col gap-5 rounded-md bg-white stroke-1 p-5 pb-10 shadow-2xl`,children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("span",{className:"text-lg font-bold uppercase tracking-tight text-gray-800",children:a}),e.jsx("span",{className:"close-button relative right-0 top-0 flex-none cursor-pointer justify-end",onClick:r,children:e.jsx(Or,{strokeWidth:2,size:28})})]}),t]}),e.jsx("div",{className:`modal-overlay fixed left-0 top-0 z-30 h-full w-full bg-black bg-opacity-70 ${c}`,onClick:n?r:()=>{}})]})})},Jc=({isUpdate:t=!1,onClose:a,isDelete:s})=>{const{warehouseSelected:r}=Tr(),{value:n,setValue:l,handleChange:i,addWarehouseMutation:o,updateWarehouseMutation:c,removeWarehouseMutation:u}=Gc();f.useEffect(()=>{(t||s)&&l(r)},[t,s,r,l]);const d=async()=>{console.log("warehouseForm:",n);try{await new Promise(x=>setTimeout(x,1e3)),t&&(console.log("Update Warehouse:",n.id),await c(n),a()),s?(console.log("Remove Warehouse:",n.id),await u(n.id),a()):!t&&!s&&(console.log("Add Warehouse:",n.id),await o(n),a())}catch(x){console.error("Warehouse Data submission failed",x)}};return e.jsx(e.Fragment,{children:s?e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),d()},children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(D,{type:"submit",fill:"red",children:s?"Delete Warehouse":"Add Warehouse"})})})}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),d()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse ID"}),e.jsx(re,{name:"id",value:(n==null?void 0:n.id)||0,type:"number",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Code"}),e.jsx(re,{name:"code",placeholder:"Warehouse Code",value:(n==null?void 0:n.code)||"",onChange:i,maxLength:3})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Name"}),e.jsx(re,{name:"name",placeholder:"Warehouse Name",value:(n==null?void 0:n.name)||"",onChange:i,required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Location"}),e.jsx(re,{name:"location",placeholder:"Warehouse Location",type:"string",value:(n==null?void 0:n.location)||"",onChange:i,required:!0})]}),e.jsxs("div",{className:"flex flex-row justify-center gap-1",children:[e.jsx(D,{fill:"green",className:"",type:"submit",children:t?"Update Warehouse":"Add Warehouse"}),e.jsx(D,{fill:"red",className:"",onClick:a,type:"reset",children:"Cancel"}),e.jsx(D,{onClick:()=>console.log(n),type:"button",children:"console form"})]})]})})})})},eo=({openModal:t})=>{const{warehouses:a,setWarehouseSelected:s,isFetching:r,progress:n}=Tr(),l=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:c=>o.toggleAllPageRowsSelected(!!c.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:c=>o.toggleSelected(!!c.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE ID"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.id})},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{className:"items-center",children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["WAREHOUSE NAME ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.name})},{accessorKey:"code",header:()=>e.jsx("div",{className:"text-center",children:"code"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.code})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-center",children:"LOCATION"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.location})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:o})=>{const c=o.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>i(c),className:"flex flex-row items-center gap-2",children:[e.jsx(zr,{})," Edit"]})})}}],i=o=>{s(o),t(o,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,columns:l,filterWhat:"location",dataType:"",isLoading:r,openModal:void 0})})},$h=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Warehouse",children:e.jsxs(Ji,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(eo,{openModal:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="edit"?"Edit Warehouse":r==="remove"?"Remove Warehouse":"Add Warehouse",children:e.jsx(Jc,{onClose:s,isUpdate:r==="edit",isDelete:r==="remove"})})]})})})},Il=()=>{const t=Xe();ge(),rt();const[a,s]=f.useState({}),r=(u,d)=>{s(x=>({...x,[u]:d}))},n=u=>{s(d=>({...d,...u}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["invoices"]}),s({}),tl.success("Submitted successfully!")},onError:u=>{console.error("Invoices Data failed",u.message)}},{mutateAsync:i}=fe({mutationKey:["addInvoice"],mutationFn:ec,...l}),{mutateAsync:o}=fe({mutationKey:["updateInvoice"],mutationFn:tc,...l}),{mutateAsync:c}=fe({mutationKey:["removeInvoice"],mutationFn:ac,...l});return{value:a,setValue:s,selectChange:n,handleChange:r,addInvoiceMutation:i,updateInvoiceMutation:o,removeInvoiceMutation:c}},to=({formAction:t="add"})=>{const{invoices:a,invoiceSelected:s}=rt(),{auth:r}=ge(),n=async()=>{console.log("invoiceForm:",l);try{await new Promise(d=>setTimeout(d,1e3)),t==="update"&&console.log("Update Invoice:",l.id),t==="remove"?(console.log("Remove Invoice:",l.id),await u(l.id)):t==="add"&&console.log("Add Invoice:",l.id)}catch(d){console.error("Invoice Data submission failed",d.message)}},{value:l,setValue:i,handleChange:o,selectChange:c,removeInvoiceMutation:u}=Il();return f.useEffect(()=>{t==="update"&&(i(s),console.log("update",s.id)),t==="remove"&&(i(s),console.log("remove",s.id)),t==="add"&&i({})},[s,t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:d=>{d.preventDefault(),n()},children:[t==="remove"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(D,{type:"submit",fill:"red",children:"Delete Invoice"})})}),t==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex min-w-[700px] max-w-2xl  flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Invoice ID:"}),t==="update"?s.id:""]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Issued By:"}),t==="update"?s.issued_by.firstname.toUpperCase():r.user.firstname.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Created At:"}),e.jsx("span",{className:"text-base",children:Ve(s.created_at)})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"OR #:"}),e.jsx("span",{className:"text-base",children:s.or_no})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Reference #:"}),e.jsx("span",{className:"text-base",children:s.reference_no?s.reference_no:"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold uppercase ",children:"Type"}),e.jsxs(ce,{id:"type",name:"type",onValueChange:d=>c({type:d}),defaultValue:t==="update"?s.type:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(U,{value:"payment",children:"Payment"},"payment"),e.jsx(U,{value:"exit",children:"Exit"},"exit")]})]},"type")]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"payment_method",className:"text-sm font-bold uppercase ",children:"Payment Method"}),e.jsxs(ce,{id:"payment_method",name:"type",onValueChange:d=>c({payment_method:d}),defaultValue:t==="update"?s.payment_method:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment Method"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(U,{value:"cash",children:"Cash"}),e.jsx(U,{value:"credit",children:"Credit"}),e.jsx(U,{value:"debit",children:"Debit"}),e.jsx(U,{value:"wallet",children:"Wallet"})]})]},"type")]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"subtotal",className:"text-sm font-bold uppercase",children:"Subtotal"}),e.jsx(L,{name:"subtotal",id:"subtotal",value:t==="update"?s.subtotal:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_tax",className:"text-sm font-bold uppercase",children:"Total Tax"}),e.jsx(L,{name:"total_tax",id:"total_tax",value:t==="update"?s.total_tax:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_discount",className:"text-sm font-bold uppercase",children:"Total Discount"}),e.jsx(L,{name:"total_discount",id:"total_discount",value:t==="update"?s.total_discount:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_amount_due",className:"text-sm font-bold uppercase",children:"Total Amount Due"}),e.jsx(L,{name:"total_amount_due",id:"total_amount_due",value:t==="update"?s.total_amount_due:"",onChange:o,required:!0})]})]})]}),e.jsx(D,{onClick:()=>{console.log("InvoiceFORMDATA:",l)},children:"console form"})]})]})})},ao=({modalHandler:t})=>{const{invoices:a,setInvoiceSelected:s}=rt(),r=(l,i)=>{i==="update"?(s(l),t(l,"update")):i==="remove"?(s(l),t(l,"remove")):(t(l,"add"),console.log("add"))};console.log("invoices:",a);const n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"justify-center",children:"Invoice ID"})},{id:"or_no",accessorKey:"or_no",header:()=>e.jsx("div",{className:"justify-center",children:"OR #"})},{accessorKey:"reference_no",header:()=>e.jsx("div",{className:"justify-center",children:"Reference #"}),cell:({row:l})=>{const i=l.original;return e.jsx(e.Fragment,{children:i.reference_no===null?"N/A":i.reference_no})}},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"justify-center",children:"Sub Total Price"})},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"justify-center",children:"Amount Due"})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:l})=>{const i=l.original;return e.jsxs("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:[e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>r(i,"update"),className:"flex flex-row items-center gap-2",children:[e.jsx(zr,{})," Edit"]}),e.jsx(D,{fill:"red",onClick:()=>r(i,"remove"),children:"Remove"})]})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,filterWhat:"or_no",columns:n,dataType:"Invoice",openModal:()=>r})})},Vh=({})=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o),console.log("modalAction:",r)};return console.log(Fc()),e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Invoice",children:e.jsxs(al,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ao,{modalHandler:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="update"?"Edit Invoice":r==="remove"?"Remove Invoice":"Add Invoice",children:e.jsx(to,{onClose:s,formAction:r})})]})})})},so=(t,a)=>{const s=Xe(),[r,n]=f.useState({firstname:t.firstname,lastname:t.lastname,username:t.username,email:t.email,contact_no:t.contact_no,position:t.position,user_id:t.id,role_id:0});f.useEffect(()=>{a&&n(p=>{var N;return{...p,role_id:(N=a.find(O=>O.title===t.position))==null?void 0:N.id}})},[a]);const[l,i]=f.useState(!1),[o,c]=f.useState(!1),[u,d]=f.useState(null),[x,m]=f.useState(null),h=(p,N)=>{i(!0),m(null),d(null),n(O=>({...O,[p]:N}))},v=p=>{i(!0),m(null),n(N=>({...N,[p.target.name]:p.target.value})),p.target.name==="position"&&n(N=>{var O;return{...N,role_id:(O=a.find(A=>A.title===p.target.value))==null?void 0:O.id}})},y=async()=>{var p,N;if(c(!0),((p=r.contact_no)==null?void 0:p.length)>11||((N=r.contact_no)==null?void 0:N.length)<11)d("Contact number must be 11 digits"),c(!1);else return await j(r)},b={onSuccess:async()=>{await s.invalidateQueries({queryKey:["users"]}),c(!1),i(!1),m("User info has been updated")},onError:p=>{console.error(p),d(p.message),c(!1)}},{mutateAsync:j}=fe({mutationKey:["editUser"],mutationFn:sc,...b});return{user:r,isChanged:l,isSubmitting:o,error:u,success:x,handleSubmit:y,handleChangeSelect:h,handleChange:v,editUserMutation:j}},ro=()=>{const t=Xe(),{users:a}=Jt(),{roles:s}=Jt(),r=a[a.length-1].id+1,[n,l]=f.useState({});f.useEffect(()=>{l(N=>({...N,active_status:"active",id:r}))},[]);const[i,o]=f.useState(!1),[c,u]=f.useState(!1),[d,x]=f.useState(null),[m,h]=f.useState(null),v=()=>{var A,M;const O=Object.keys(n).map(E=>({text:E})).length===11;if(O){const E=n.password===n.password_confirmation;if(!E)return[E,"Passwords do not match"];const I=!(((A=n.contact_no)==null?void 0:A.length)>11||((M=n.contact_no)==null?void 0:M.length)<11);return I?[O&&E&&I,""]:[I,"Please input a valid contact number"]}else{const E=!!n.position;return E?[O,"Please correctly fill up all fields"]:[E,"Please choose a position"]}},y=N=>{o(!0),h(null),x(null),l(O=>({...O,[N.target.name]:N.target.value})),N.target.name==="position"&&l(O=>{var A;return{...O,role_id:(A=s.find(M=>M.title===N.target.value))==null?void 0:A.id}})},b=async()=>{const N=v();if(u(!0),N[0])return await p(n);x(N[1]),u(!1)},j={onSuccess:async()=>{await t.invalidateQueries({queryKey:["users"]}),u(!1),o(!1),h("User info has been added")},onError:N=>{console.error(N),x(N.message),u(!1)}},{mutateAsync:p}=fe({mutationKey:["addUser"],mutationFn:rc,...j});return{user:n,isChanged:i,isSubmitting:c,error:d,success:m,handleSubmit:b,handleChange:y,addUserMutation:p}},no=()=>{const t=Xe(),{roles:a,selectedUser:s}=Jt(),r=a.filter(P=>P.title===s.position),[n,l]=f.useState([]),[i,o]=f.useState([]),[c,u]=f.useState([]),{data:d}=rr({queryKey:["all-permissions"],queryFn:()=>nl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const P=d;P&&o(P)},[d]);const{isFetching:x,data:m}=rr({queryKey:["permissions"],queryFn:()=>ll(r[0].id),refetchOnWindowFocus:!1});f.useEffect(()=>{const P=m;P&&(l(P),u(P))},[m]);const[h,v]=f.useState(!1),[y,b]=f.useState(!1),[j,p]=f.useState(null),[N,O]=f.useState(null),A=(P,F)=>{v(!0),O(null),p(null),u(P?[...c,{id:null,role_id:r,permission_id:F}]:c.filter(R=>R.permission_id!==F))},M=async()=>{if(b(!0),c.length>n.length){const P=c.filter(F=>F.id===null);if(P.length>1)P.forEach(async F=>{await I(F)});else return await I(P)}else if(c.length<n.length){const P=n.filter(F=>c.find(R=>R.permission_id===F.permission_id)===void 0);if(P.length>1)P.forEach(async F=>{await S(F)});else return await S(P[0])}else b(!1),v(!1),O("No changes made")},E={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),b(!1),v(!1),O("Role permissions have been updated")},onError:P=>{console.error(P),p(P.message),b(!1)}},{mutateAsync:I}=fe({mutationKey:["addpermission"],mutationFn:sl,...E}),{mutateAsync:S}=fe({mutationKey:["deletepermission"],mutationFn:rl,...E});return{permissions:n,allPermissions:i,permissionChange:c,isChanged:h,isSubmitting:y,error:j,success:N,handleSubmit:M,handleChange:A}},lo=()=>{const t=Xe(),{roles:a}=Jt(),[s,r]=f.useState(),[n,l]=f.useState(0);f.useState();const[i,o]=f.useState([]),[c,u]=f.useState([]),[d,x]=f.useState([]),{data:m}=rr({queryKey:["all-permissions"],queryFn:()=>nl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const F=m;F&&u(F)},[m]);const[h,v]=f.useState(!1),[y,b]=f.useState(!1),[j,p]=f.useState(null),[N,O]=f.useState(null),A=(F,R)=>{O(null),p(null),r(a.find(K=>K.title===R)),l(a.find(K=>K.title===R).id)};f.useEffect(()=>{async function F(){const R=await ll(n);o(R),x(R)}F()},[n]);const M=(F,R)=>{v(!0),O(null),p(null),x(F?[...d,{id:null,role_id:n,permission_id:R}]:d.filter(K=>K.permission_id!==R))},E=async()=>{if(b(!0),d.length>i.length){const F=d.filter(R=>R.id===null);if(F.length>1)F.forEach(async R=>{await S(R)});else return await S(F[0])}else if(d.length<i.length){const F=i.filter(R=>d.find(K=>K.permission_id===R.permission_id)===void 0);if(F.length>1)F.forEach(async R=>{await P(R)});else return await P(F[0])}else b(!1),v(!1),O("No changes made")},I={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),b(!1),v(!1),O("Role permissions have been updated")},onError:F=>{console.error(F),p(F.message),b(!1)}},{mutateAsync:S}=fe({mutationKey:["addpermission"],mutationFn:sl,...I}),{mutateAsync:P}=fe({mutationKey:["deletepermission"],mutationFn:rl,...I});return{roles:a,roleSelect:s,permissions:i,allPermissions:c,permissionChange:d,roleId:n,isChanged:h,isSubmitting:y,error:j,success:N,handleSubmit:E,handleChange:M,handleChangeSelect:A}},io=({openModal:t})=>{const{users:a,isFetching:s,progress:r,progress2:n,setSelectedUser:l}=Jt(),i=d=>{l(d),t(d,"edit")},o=d=>{l(d),t(d,"editPerms")},c=()=>{t({},"add")},u=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:x=>d.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:x=>d.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"lastname",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["LAST NAME ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.lastname})},{accessorKey:"firstname",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FIRST NAME ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.firstname})},{accessorKey:"position",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["ROLE ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.position})},{accessorKey:"username",header:()=>e.jsx("div",{className:"text-center",children:"USERNAME"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.username})},{accessorKey:"email",header:()=>e.jsx("div",{className:"text-center",children:"EMAIL ADDRESS"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.email})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:d})=>{const x=d.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User"})]}),e.jsxs(ke,{onClick:()=>o(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User Permission"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,columns:u,filterWhat:"username",dataType:"User",openModal:c,isLoading:s})})},co=({onClose:t})=>{const{user:a,isChanged:s,isSubmitting:r,error:n,success:l,handleSubmit:i,handleChange:o}=ro(),{roles:c}=Jt(),u=c?c.map(d=>d.title):[];return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:d=>{d.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User ID"}),e.jsx(re,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User First Name"}),e.jsx(re,{name:"firstname",placeholder:"User First Name",value:a.firstname||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Last Name"}),e.jsx(re,{name:"lastname",placeholder:"User Last Name",value:a.lastname||"",onChange:o,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Email Address"}),e.jsx(re,{name:"email",placeholder:"User Email Address",type:"email",value:a.email||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Contact Number"}),e.jsx(re,{name:"contact_no",placeholder:"User Contact Number",type:"number",value:a.contact_no||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Position"}),e.jsx(Ec,{name:"position",className:"text-lg",placeholder:"---Select Position---",onChange:o,options:u,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Username"}),e.jsx(re,{name:"username",placeholder:"User Username",type:"string",value:a.username||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Password"}),e.jsx(re,{name:"password",placeholder:"User Password",type:"password",value:a.password||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Confirm Password"}),e.jsx(re,{name:"password_confirmation",placeholder:"Confirm Password",type:"password",value:a.password_confirmation||"",onChange:o,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:s?"green":null,disabled:!s,onClick:i,children:r?"Submitting":"Add User"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),n&&e.jsx("div",{className:"font-bold text-red-700",children:n}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},oo=({onClose:t})=>{const{selectedUser:a,roles:s}=Jt(),{auth:r}=ge(),{user:n,isChanged:l,isSubmitting:i,error:o,success:c,handleSubmit:u,handleChange:d,handleChangeSelect:x}=so(a,s);return c&&setTimeout(()=>{t()},1e3),e.jsxs(e.Fragment,{children:[a.id===r.user.id&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing your own account.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("form",{onSubmit:async m=>{m.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"id",children:"User ID"}),e.jsx(re,{type:"text",name:"id",placeholder:"User ID",className:"inputbox",value:n.user_id,disabled:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"First name"}),e.jsx(re,{type:"text",name:"firstname",placeholder:"First name",className:"inputbox rounded-md bg-slate-100",value:n.firstname,onChange:d})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Last name"}),e.jsx(re,{type:"text",name:"lastname",placeholder:"Last name",className:"inputbox rounded-md bg-slate-100",value:n.lastname,onChange:d})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(re,{type:"text",name:"username",placeholder:"Username",className:"inputbox rounded-md bg-slate-100",value:n.username,onChange:d})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx(re,{type:"email",name:"email",placeholder:"Email address",className:"inputbox rounded-md bg-slate-100",value:n.email,onChange:d})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Contact number"}),e.jsx(re,{type:"number",name:"contact_no",placeholder:"09XXXXXXXXX",className:"inputbox rounded-md bg-slate-100",value:n.contact_no,onChange:d})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"position",children:"Position"}),e.jsxs(ce,{onValueChange:m=>x("position",m),required:!0,children:[e.jsx(oe,{name:"position",className:"flex flex-row items-center gap-3 truncate text-md rounded-md bg-slate-100",children:e.jsx(de,{placeholder:n.position?n.position.charAt(0).toUpperCase()+n.position.slice(1):"Choose position..."})}),e.jsx(ue,{className:"bg-white font-medium text-md",children:s.length>0?s.map(m=>{if(m.title!=="super_admin")return e.jsx(U,{value:m.title,children:m.title.charAt(0).toUpperCase()+m.title.slice(1)},m.id)}):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:l?"green":null,disabled:!l,onClick:u,children:i?"Submitting":"Edit User"})}),e.jsxs("div",{className:"flex flex-col col-span-3 items-start",children:[c&&e.jsx("div",{className:"font-bold text-green-700",children:c}),o&&e.jsx("div",{className:"font-bold text-red-700",children:o}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})]})},uo=({onClose:t})=>{const{selectedUser:a}=Jt(),{permissions:s,allPermissions:r,permissionChange:n,isChanged:l,isSubmitting:i,error:o,success:c,handleChange:u,handleSubmit:d}=no(),{auth:x}=ge(),m=r.filter(b=>Object.keys(b).some(j=>!b.title.includes("view".toLowerCase())&&b.title.includes("users".toLowerCase()))),h=r.filter(b=>Object.keys(b).some(j=>!b.title.includes("view".toLowerCase())&&!b.title.includes("transfer".toLowerCase())&&b.title.includes("product".toLowerCase())||b.title.includes("catalog".toLowerCase()))),v=r.filter(b=>Object.keys(b).some(j=>!b.title.includes("view".toLowerCase())&&b.title.includes("transfer".toLowerCase()))),y=r.filter(b=>Object.keys(b).some(j=>b.title.includes("view".toLowerCase())));return c&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-72 w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:e.jsx(ne,{variant:"ghost",className:"w-full justify-start capitalize text-slate-700 bg-slate-300/40",children:a.position.split("_").join(" ")},a.id+a.position)}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),a.position===x.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[c&&e.jsx("p",{className:"text-green-600",children:c}),o&&e.jsx("p",{className:"text-red-600",children:o})]}),l&&e.jsx(ne,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!i,onClick:d,children:i?"Saving...":"Save changes"})]})]}),e.jsx(bt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${i?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:m.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):m.map(b=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:b.title,className:`${a.position!=="admin"&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:b.title.split("_").join(" ")}),e.jsx(yt,{id:b.title,name:b.title,value:b.id,disabled:a.position==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(j=>j.permission_id===b.id),onCheckedChange:j=>u(j,b.id)})]},b.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:h.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):h.map(b=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:b.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:b.title.split("_").join(" ")}),e.jsx(yt,{id:b.title,name:b.title,value:b.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(j=>j.permission_id===b.id),onCheckedChange:j=>u(j,b.id)})]},b.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:v.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):v.map(b=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:b.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:b.title.split("_").join(" ")}),e.jsx(yt,{id:b.title,name:b.title,value:b.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(j=>j.permission_id===b.id),onCheckedChange:j=>u(j,b.id)})]},b.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map(b=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:b.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:b.title.split("_").join(" ")}),e.jsx(yt,{id:b.title,name:b.title,value:b.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(j=>j.permission_id===b.id),onCheckedChange:j=>u(j,b.id)})]},b.id))})]})]})})]})})},Bh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"User Information",children:e.jsxs(il,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(io,{openModal:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="edit"?"Edit User":r==="add"?"Add User":"Edit User Role Permissions",children:e.jsxs(e.Fragment,{children:[r==="add"&&e.jsx(co,{onClose:s}),r==="edit"&&e.jsx(oo,{onClose:s}),r==="editPerms"&&e.jsx(uo,{onClose:s})]})})]})})})},mo=()=>{const t=Xe(),{selectedSupplier:a,setSelectedSupplier:s}=cl(),[r,n]=f.useState({});f.useEffect(()=>{a&&n(a)},[a]);const[l,i]=f.useState({}),[o,c]=f.useState(!1),[u,d]=f.useState(!1),[x,m]=f.useState(null),[h,v]=f.useState(null),y=M=>{var E,I,S,P;if(M){const F=Object.keys(r).map(K=>({text:K})),R=F.length===3||F.length>3;if(R){const K=!(((E=r.contact_no)==null?void 0:E.length)>11||((I=r.contact_no)==null?void 0:I.length)<11);return K?[K,""]:[K,"Contact number must be 11 digits"]}else return[R,"Please fill up all fields"]}else{const F=Object.keys(l).map(K=>({text:K})),R=F.length===3||F.length>3;if(R){const K=!(((S=l.contact_no)==null?void 0:S.length)>11||((P=l.contact_no)==null?void 0:P.length)<11);return K?[K,""]:[K,"Contact number must be 11 digits"]}else return[R,"Please fill up all fields"]}},b=(M,E)=>{c(!0),v(null),m(null),E?n(I=>({...I,[M.target.name]:M.target.value})):i(I=>({...I,[M.target.name]:M.target.value}))},j=async M=>{const E=y(M);if(d(!0),E[0])return M?await N(r):await A(l);m(E[1]),d(!1),console.log(l)},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),d(!1),c(!1),v("Supplier info has been edited")},onError:M=>{console.error(M),m(M.message),d(!1)}},{mutateAsync:N}=fe({mutationKey:["updateSupplier"],mutationFn:nc,...p}),O={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),d(!1),c(!1),v("Supplier info has been added")},onError:M=>{console.error(M),m(M.message),d(!1)}},{mutateAsync:A}=fe({mutationKey:["addSupplier"],mutationFn:lc,...O});return{supplier:r,selectedSupplier:a,newSupplier:l,isChanged:o,isSubmitting:u,error:x,success:h,handleSubmit:j,handleChange:b,editSupplierMutation:N}},xo=({onClose:t,isUpdate:a})=>{const{supplier:s,newSupplier:r,isSubmitting:n,error:l,success:i,isChanged:o,handleChange:c,handleSubmit:u}=mo();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:d=>{d.preventDefault()},children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Supplier Name"}),e.jsx(re,{type:"text",name:"name",placeholder:"Supplier Name",value:a?s.name||"":r.name||"",className:"inputbox rounded-md bg-slate-100",onChange:d=>c(d,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"contact_no",children:"Supplier Contact Number"}),e.jsx(re,{type:"text",name:"contact_no",placeholder:"Supplier Contact Number",className:"inputbox rounded-md bg-slate-100",value:a?s.contact_no||"":r.contact_no||"",onChange:d=>c(d,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"address",children:"Supplier Address"}),e.jsx(re,{type:"text",name:"address",placeholder:"Supplier Address",className:"inputbox rounded-md bg-slate-100",value:a?s.address||"":r.address||"",onChange:d=>c(d,a),required:!0})]})]}),e.jsx("div",{className:"flex flex-col mt-4 gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:o?"green":null,disabled:!o,onClick:()=>u(a),children:n?"Submitting":a?"Edit Supplier":"Add Supplier"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},ho=({openModal:t})=>{const{suppliers:a,isFetching:s,progress:r,setSelectedSupplier:n}=cl(),l=()=>{t({},"add")},i=c=>{n(c),t(c,"edit")},o=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:u=>c.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:u=>c.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{className:"text-center",children:e.jsxs(D,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row ml-auto mr-auto items-center",children:["NAME ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.name})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT NUMBER"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.contact_no})},{accessorKey:"address",header:()=>e.jsx("div",{className:"text-center",children:"ADDRESS"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.address})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"ACTION"}),cell:({row:c})=>{const u=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>i(u),className:"flex flex-row items-center gap-2",children:[e.jsx(zr,{})," Edit"]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,columns:o,filterWhat:"address",dataType:"Supplier",openModal:l,isLoading:s})})},Yh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Supplier",children:e.jsxs(ic,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ho,{openModal:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="edit"?"Edit Supplier":"Add Supplier",children:e.jsx(e.Fragment,{children:e.jsx(xo,{onClose:s,isUpdate:r==="edit"})})})]})})})},fo=({handleEditProduct:t})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:r=>s.toggleAllPageRowsSelected(!!r.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:r=>s.toggleSelected(!!r.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",s.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsx("div",{className:"flex flex-row justify-end text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>t(r),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{className:"font-medium",children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],po=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})}],go=({handleProdPriceDetails:t,handleEditProdPrice:a,handleToggleActiveStatus:s})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",n.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"WHS"})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"}),cell:({row:n})=>{const l=n.original.type;return e.jsxs("div",{className:"group relative flex w-fit items-center",children:[l==="retail"?e.jsx(Ol,{size:20,strokeWidth:2,className:"text-gray-700"}):e.jsx(Ar,{size:20,strokeWidth:1.75,className:"text-gray-700"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})}},{accessorKey:"stocks_quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"QTY"})},{accessorKey:"stocks_unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.capital_price?l:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.markup_price||0),i=ze(n.original.markup_price/n.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:l}),e.jsxs("span",{className:"text-gray-500",children:["(",i,"%)"]})]})}},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Discount"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.sale_discount||0);return e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:n.original.on_sale===1?l:e.jsxs("div",{className:"group relative flex w-fit items-center",children:[e.jsx(Or,{size:20,strokeWidth:2,className:"text-gray-700"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm normal-case text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:"Not on sale"})]})})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.price?l:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"mx-auto w-fit text-center uppercase",children:"Approval"}),cell:({row:n})=>{const l=n.original.approval_status;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="approved"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):l==="rejected"?e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"}),e.jsx("span",{className:"absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",n.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})}),cell:({row:n})=>{const l=n.original.active_status;return e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="active"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(lr,{size:20,strokeWidth:2,className:"text-gray-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm normal-case text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l==="active"?"Active":"Inactive"})]})},enableGlobalFilter:!1},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>t(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(ke,{onClick:()=>a(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(ct,{className:"bg-gray-200"}),e.jsx(ke,{onClick:()=>s(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:l.active_status?l.active_status==="active"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(lr,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set inactive"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ya,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set active"})]}):e.jsx("div",{})})]})]})})},enableGlobalFilter:!1}],vo=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"product.id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Id"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Product name"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Quantity"})},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:t})=>{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:t.original.price?a:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Approval"}),cell:({row:t})=>{const a=t.original.approval_status;return e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`${a?a==="approved"?"bg-green-600":a==="rejected"?"bg-red-600":"bg-amber-600":""}
          overflow-clip rounded-full px-2 py-1 text-xs font-bold uppercase text-white`,children:t.original.approval_status})})}}],jo=({openModal:t})=>{const{auth:a}=ge(),{data:s,isLoading:r,setSelectedProduct:n}=ol(),l=()=>{t({},"add")},i=o=>{n(o),t(o,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Ue,{columns:(a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="admin"?fo({handleEditProduct:i}):po,data:s,filterWhat:"name",dataType:"Product",openModal:l,isLoading:r})})},yo=({openModal:t,isModalOpen:a,filterWarehouse:s})=>{const{auth:r}=ge(),{data:n,isLoading:l,setSelectedProductPrice:i}=as(),o=()=>{t({},"add")},c=x=>{i(x),t(x,"details")},u=x=>{i(x),t(x,"edit")},d=x=>{i(x),t(x,"toggle_active_stat")};return e.jsx(e.Fragment,{children:e.jsx(Ue,{columns:r.role==="super_admin"||r.role==="admin"?go({handleProdPriceDetails:c,handleEditProdPrice:u,handleToggleActiveStatus:d}):vo,data:s?n.filter(x=>x.warehouse.id===s):n,filterWhat:"name",dataType:"Listing",openModal:o,isLoading:l})})},bo=({onClose:t})=>{const{selectedProductPrice:a}=as();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Product ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Listing ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Type"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.type})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.unit})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_quantity})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup percent"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[ze(a.markup_price/a.capital_price*100,{precision:3}).value,"%"]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.markup_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:a.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[a.on_sale===1?e.jsx(Nt,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(Or,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[a.active_status==="active"?e.jsx(Ya,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(lr,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:a.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.updated_at)})]})]})]})})},No=({onClose:t})=>{const{patchProductPricesMutation:a}=Hr(),{selectedProductPrice:s}=as(),[r,n]=f.useState(!1),[l,i]=f.useState(null),o=async()=>(n(!r),a({id:s.id,data:{active_status:s.active_status==="active"?"inactive":"active"}}));return e.jsxs("div",{className:"flex min-w-max flex-col gap-3",children:[e.jsxs("h2",{className:"text-sm text-gray-800",children:["Are you sure you'd like to set this listing to"," ",e.jsx("strong",{children:s.active_status==="active"?"inactive":"active"}),"?"]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:s.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:s.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:s.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:s.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:s.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:s.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:s.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:s.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:s.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:s.stocks_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.price)})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-between pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{fill:"green",onClick:async()=>{(await o()).status===200?t():i("Failed to update active status")},disabled:r,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:r?"Applying...":`Set to ${s.active_status==="active"?"inactive":"active"}`})]})}),l&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:l})})]})},wo=({warehouses:t,selectedWarehouse:a,setSelectedWarehouse:s,inventories:r,selectedInventory:n,setSelectedInventory:l,inventoryProducts:i,selectedInventoryProduct:o,setSelectedInventoryProduct:c,setOpenedTab:u,onClose:d})=>{const[x,m]=f.useState(!1),[h,v]=f.useState(!1);return e.jsxs("div",{className:"grid w-full grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{required:!0,value:a==null?void 0:a.id.toString(),onValueChange:y=>{s(t==null?void 0:t.find(b=>b.id===Number(y))),l(void 0),c(void 0)},children:[e.jsx(oe,{id:"warehouse",name:"warehouse",className:"flex flex-row items-center gap-3 truncate bg-white text-sm font-bold text-slate-600",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:t?t.map(y=>e.jsxs(U,{value:y.id.toString(),className:"text-sm font-medium text-slate-700",children:[y.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+y.code})]},y.code)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),e.jsxs("div",{className:"col-span-8 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"inventory",className:"text-sm font-bold text-gray-600",children:"Inventory"}),e.jsxs(ht,{open:x,onOpenChange:m,children:[e.jsx(ft,{id:"inventory",name:"inventory",className:"relative w-full",disabled:!a,asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[n?e.jsx("div",{className:"font-bold text-slate-600",children:n.code}):e.jsx("span",{children:"Select an inventory..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[442px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{defaultValue:(n==null?void 0:n.code)||"",children:[e.jsx(zt,{placeholder:"Inventory code..."}),!r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(bt,{className:"max-h-[200px] overflow-y-scroll",children:[(r==null?void 0:r.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No inventories.",e.jsx(mn,{to:"/inventory",className:"underline",children:"Add inventory"})]}),e.jsx(Mt,{children:r&&r.map(y=>e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",value:y.code,onSelect:()=>{l(y),c(void 0),m(!1)},children:[e.jsx("span",{children:y.code}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:y.type+"  "+y.date_received})]},y.id))})]})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"inventory-product",className:"text-sm font-bold text-gray-600",children:"Inventory product"}),e.jsxs(ht,{open:h,onOpenChange:v,children:[e.jsx(ft,{id:"inventory-product",name:"inventory-product",className:"relative w-full",disabled:!n,asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[o?e.jsx("div",{className:"font-bold text-slate-600",children:o.product.name}):e.jsx("span",{children:"Select an inventory product..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[672px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{defaultValue:o?o.id+o.product.name:"",children:[e.jsx(zt,{placeholder:"Product name..."}),!i&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(bt,{className:"max-h-[200px] overflow-y-scroll",children:[(i==null?void 0:i.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No inventory products.",e.jsx(mn,{to:`/inventory/items/${n==null?void 0:n.id}`,className:"underline",children:"Add inventory product"})]}),e.jsx(Mt,{children:i&&i.map(y=>{if(y.remaining_stocks_count??0>0)return e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",value:y.id+y.product.name,onSelect:()=>{c(y),v(!1)},children:[e.jsx("span",{children:y.product.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:y.supplier_id.name+"  "+y.total_count+" remaining  "+Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(y.capital_price)})]},y.id)})})]})]})})]})]}),o&&e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-6 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Supplier"}),e.jsx("p",{className:"font-medium",children:o.supplier_id.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:o.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:o.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Capital price"}),e.jsx("p",{className:"font-medium",children:Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(o.capital_price)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Unit"}),e.jsx("p",{className:"font-medium",children:o.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Bundles unit"}),e.jsx("p",{className:"font-medium",children:o.bundles_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Remaining stocks"}),e.jsx("p",{className:"font-medium",children:o.remaining_stocks_count})]})]}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",onClick:()=>d(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{fill:"green",disabled:!o,onClick:()=>u("listings"),className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Proceed"})]})})]})},_o=({selectedWarehouse:t,selectedInventory:a,selectedInventoryProduct:s,setOpenedTab:r,onClose:n})=>{var b;const{auth:l}=ge(),{value:i,setValue:o,handleChange:c,handleSubmit:u}=Hr(),[d,x]=f.useState(!1),[m,h]=f.useState(null);f.useEffect(()=>{o(j=>({...j,product_id:s==null?void 0:s.product.id,warehouse_id:t.id,active_status:"active",approval_status:"pending",created_by:l.user.id,on_sale:0,sale_discount:0,tax_amount:0}))},[]);const[v,y]=f.useState(0);return f.useEffect(()=>{const j=i.capital_price||0,p=ze(j).multiply((v||0)/100);c("markup_price",p.value)},[i.capital_price,v]),f.useEffect(()=>{const j=i.capital_price||0,p=i.markup_price||0;c("cost",ze(j).add(p).value)},[i.capital_price,i.markup_price]),f.useEffect(()=>{const j=i.cost||0,p=i.sale_discount||0;c("price",ze(j).subtract(p).value)},[i.cost,i.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async j=>{x(!d),j.preventDefault();const p=await u({action:"add",data:i});(p==null?void 0:p.status)===201?(x(!d),n()):(x(!d),h("Failed to add product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:s.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsx("p",{className:"text-sm",children:s.supplier_id.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:t.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Inventory"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:s.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:s.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Remaining stocks"}),e.jsx("p",{className:"text-sm",children:s.remaining_stocks_count})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(s.capital_price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ce,{required:!0,value:i.type||"",onValueChange:j=>{c("type",j),j==="retail"?(c("unit",s.unit),c("stocks_unit",s.unit),c("stocks_quantity",1)):(c("unit",s.bundles_unit),c("stocks_unit",s.unit),c("stocks_quantity",s.quantity_per_bundle))},children:[e.jsx(oe,{name:"type",className:"flex flex-row items-center gap-3 bg-white text-sm",children:e.jsx(de,{placeholder:"Choose type..."})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{className:"rounded-md",value:"retail",children:"Retail"},"retail"),e.jsx(U,{className:"rounded-md",value:"wholesale",children:"Wholesale"},"wholesale")]})]})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",readOnly:!0,value:i.unit||""})]}),e.jsxs("div",{className:"relative col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_quantity",className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx(L,{id:"stocks_quantity",name:"stocks_quantity",type:"number",readOnly:!0,value:i.stocks_quantity||""})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_unit",className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx(L,{id:"stocks_unit",name:"stocks_unit",type:"text",readOnly:!0,value:i.stocks_unit||""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:i.capital_price||"",onChange:j=>{c("capital_price",ze(j.target.value).value)},onBlur:j=>{j.target.value=Number(i.capital_price).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(L,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:v.toString()||"",onChange:j=>{y(ze(j.target.value,{precision:3}).value)},onBlur:j=>{j.target.value=v.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(L,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,step:.01,readOnly:!0,placeholder:"0.00",className:"pl-7",value:i.markup_price?i.markup_price.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(L,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:i.cost?i.cost.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(L,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,max:i.cost||0,step:.01,disabled:i.on_sale===void 0?!0:i.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:i.sale_discount||"",onChange:j=>{c("sale_discount",ze(j.target.value).value)},onBlur:j=>{j.target.value=Number(i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(L,{name:"on_sale",id:"on_sale",type:"checkbox",className:"h-4 w-fit",checked:i.on_sale===1||!1,onChange:j=>{c("on_sale",j.target.checked?1:0),c("sale_discount",0)}}),e.jsx(C,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(L,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((b=i.price)==null?void 0:b.toFixed(2))||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start gap-3",children:[e.jsx(yt,{id:"active_status",name:"active_status",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:i.active_status==="active"||!1,onCheckedChange:j=>{c("active_status",j?"active":"inactive")}}),e.jsx(C,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{defaultValue:"pending",value:i.approval_status||"",onValueChange:j=>{c("approval_status",j),j==="approved"&&c("approved_by",l.user.id)},required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"pending"})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(U,{className:"rounded-md",value:"approved",children:"Approved"},"approved")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"created_by",className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx(L,{name:"created_by",className:"text-sm disabled:pointer-events-none",readOnly:!0,disabled:!0,value:l.user?l.user.firstname+" "+l.user.lastname:""})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between whitespace-nowrap pt-4",children:[e.jsx(D,{fill:"default",onClick:()=>r("product"),className:"flex-0 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Go back"}),e.jsx(D,{type:"submit",fill:"green",disabled:d||i.type===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Submitting...":"Add listing"})]}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:m})})]})})})},So=({onClose:t})=>{const{warehouses:a}=ra(),[s,r]=f.useState(),[n,l]=f.useState([]),[i,o]=f.useState();f.useEffect(()=>{l([]),s&&cc(s.id).then(v=>{l(v)})},[s]);const[c,u]=f.useState([]),[d,x]=f.useState();f.useEffect(()=>{u([]),i&&oc(i.id).then(v=>{u(v)})},[i]);const[m,h]=f.useState("product");return e.jsx(e.Fragment,{children:e.jsxs(Pr,{defaultValue:"product",className:"min-w-[42rem] max-w-2xl space-y-4",value:m,onValueChange:v=>h(v),children:[e.jsxs(Fr,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ia,{value:"product",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Product"}),e.jsx(Ia,{disabled:!d,value:"listings",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Listing"})]}),e.jsx(vs,{value:"product",children:e.jsx(wo,{warehouses:a,selectedWarehouse:s,setSelectedWarehouse:r,inventories:n,selectedInventory:i,setSelectedInventory:o,inventoryProducts:c,selectedInventoryProduct:d,setSelectedInventoryProduct:x,setOpenedTab:h,onClose:t})}),e.jsx(vs,{value:"listings",children:d&&e.jsx(_o,{selectedWarehouse:s||{},selectedInventory:i||{},selectedInventoryProduct:d,setOpenedTab:h,onClose:t})})]})})},Co=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:r}=El(),[n,l]=f.useState(!1),[i,o]=f.useState(null),[c,u]=f.useState(),d=(x,m,h,v)=>{h.test(x.target.value)?(x.target.value=x.target.value,s(m,x.target.value),u(void 0)):u({type:m,error:v})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async x=>{l(!n),x.preventDefault();const m=await r({action:"add",data:a});(m==null?void 0:m.status)===201?(l(!n),t()):(l(!n),o("Failed to submit product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(L,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no||"",onChange:x=>{d(x,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(c&&c.type==="serial_no"),className:"text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(L,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name||"",onChange:x=>{d(x,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(L,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand||"",onChange:x=>{d(x,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(L,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size||"",onChange:x=>{d(x,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(L,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color||"",onChange:x=>{d(x,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(c&&c.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",onBlur:x=>s("notes",x.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:n||Object.keys(a).length===0||c!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:n?"Submitting...":"Add product"})]}),i&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:i})})]})})})},ko=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:r}=El(),{selectedProduct:n}=ol(),[l,i]=f.useState(!1),[o,c]=f.useState(null),[u,d]=f.useState(),x=(m,h,v,y)=>{v.test(m.target.value)?(m.target.value=m.target.value,s(h,m.target.value),d(void 0)):d({type:h,error:y})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async m=>{i(!l),m.preventDefault();const h=await r({action:"update",id:n.id,data:a});(h==null?void 0:h.status)===200?(i(!l),t()):(i(!l),c("Failed to update product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(L,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no!==void 0?a.serial_no:n.serial_no||"",onChange:m=>{x(m,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(u&&u.type==="serial_no"),className:"text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(L,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name!==void 0?a.name:n.name||"",onChange:m=>{x(m,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(u&&u.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(L,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand!==void 0?a.brand:n.brand||"",onChange:m=>{x(m,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(L,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size!==void 0?a.size:n.size||"",onChange:m=>{x(m,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(L,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color!==void 0?a.color:n.color||"",onChange:m=>{x(m,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",defaultValue:a.notes!==void 0?a.notes:n.notes||"",onBlur:m=>s("notes",m.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:l||Object.keys(a).length===0||u!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Applying...":"Apply changes"})]}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:o})})]})})})},Qh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Products",children:e.jsxs(dc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(jo,{openModal:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="add"?"Add Product":"Edit Product",children:e.jsxs(e.Fragment,{children:[r==="add"&&e.jsx(Co,{onClose:s}),r==="edit"&&e.jsx(ko,{onClose:s})]})})]})})})},Do=({onClose:t})=>{var v,y,b,j;const{auth:a}=ge(),{value:s,setValue:r,handleChange:n,handleSubmit:l}=Hr(),{selectedProductPrice:i}=as(),[o,c]=f.useState(!1),[u,d]=f.useState(null),x=()=>{const{approved_by:p,created_by:N,created_at:O,warehouse:A,updated_at:M,product:E,id:I,...S}=i;r(S),h(ze((i.markup_price/i.capital_price||1)*100,{precision:3}).value)},[m,h]=f.useState(ze((i.markup_price/i.capital_price||1)*100,{precision:3}).value);return f.useEffect(()=>{const p=s.capital_price!==void 0?s.capital_price:i.capital_price||0,N=ze(p).multiply(m/100);n("markup_price",N.value)},[s.capital_price,m]),f.useEffect(()=>{const p=s.capital_price!==void 0?s.capital_price:i.capital_price,N=s.markup_price!==void 0?s.markup_price:i.markup_price;n("cost",ze(p).add(N).value)},[s.capital_price,s.markup_price]),f.useEffect(()=>{const p=s.cost!==void 0?s.cost:i.cost,N=s.sale_discount!==void 0?s.sale_discount:i.sale_discount;n("price",ze(p).subtract(N).value)},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async p=>{c(!o),p.preventDefault();const N=await l({action:"update",id:i.id,data:s});(N==null?void 0:N.status)===200?(c(!o),t()):(c(!o),d("Failed to update product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:i.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:i.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:i.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:i.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:i.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:i.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:i.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:i.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:s.capital_price||i.capital_price.toFixed(2),onChange:p=>{n("capital_price",ze(p.target.value).value)},onBlur:p=>{s.capital_price!==void 0?p.target.value=Number(s.capital_price).toFixed(2):i.capital_price.toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(L,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:m.toString(),onChange:p=>{h(ze(p.target.value,{precision:3}).value)},onBlur:p=>{p.target.value=m.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(L,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,readOnly:!0,placeholder:"0",className:"pl-7",value:((v=s.markup_price)==null?void 0:v.toFixed(2))||i.markup_price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(L,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:((y=s.cost)==null?void 0:y.toFixed(2))||i.cost.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(L,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:i.cost,disabled:s.on_sale===void 0?i.on_sale===0:s.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:s.sale_discount||((b=i.sale_discount)==null?void 0:b.toFixed(2))||"0.00",onChange:p=>{n("sale_discount",ze(p.target.value).value)},onBlur:p=>{p.target.value=Number(s.sale_discount!==void 0?s.sale_discount:i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(L,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?i.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:p=>{const N=document.getElementById("sale_discount");n("on_sale",p.target.checked?1:0),!p.target.checked&&(n("sale_discount",0),N&&(N.value="0.00"))}}),e.jsx(C,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(L,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((j=s.price)==null?void 0:j.toFixed(2))||i.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(yt,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":i.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:p=>{n("active_status",p?"active":"inactive")}}),e.jsx(C,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:i.created_by.firstname+" "+i.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:Ve(i.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{onValueChange:p=>{n("approval_status",p),p==="approved"?n("approved_by",a.user.id):n("approved_by","")},value:s.approval_status||i.approval_status||"",required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:s.approval_status||i.approval_status||"Select status..."})}),e.jsxs(ue,{className:"bg-white",children:[e.jsx(U,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(U,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(U,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:i.approved_by?i.approved_by.firstname+" "+i.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:Ve(i.updated_at)})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between pt-4",children:[e.jsx("div",{className:"flex flex-row",children:e.jsx(D,{type:"reset",fill:"default",disabled:o||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:x,children:"Reset"})}),e.jsxs("div",{className:"flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:o,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Applying changes...":"Apply changes"})]})]}),u&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:u})})]})})})},Gh=()=>{const{warehouses:t}=ra(),[a,s]=f.useState(0),{isOpen:r,openModal:n,closeModal:l}=Ee(),[i,o]=f.useState(""),c=(u,d)=>{o(d),n()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Product Listings",children:e.jsxs(dl,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:u=>s(Number(u)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(U,{value:"0",children:"All"},"all"),t.map(u=>e.jsxs(U,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(yo,{openModal:c,isModalOpen:r,filterWarehouse:a>0?a:void 0})})]}),e.jsx(qe,{title:i==="add"?"Add Listing":i==="details"?"Listing Details":i==="edit"?"Edit Listing":i==="toggle_active_stat"?"Toggle Active Status":"",isOpen:r,onClose:l,closeOnOverlayClick:i==="details"||i==="toggle_active_stat",children:e.jsxs(e.Fragment,{children:[i==="add"&&e.jsx(So,{onClose:l}),i==="details"&&e.jsx(bo,{onClose:l}),i==="edit"&&e.jsx(Do,{onClose:l}),i==="toggle_active_stat"&&e.jsx(No,{onClose:l})]})})]})})})},To=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,setSelectedTransfer:n}=gt();ge();const l=d=>{n(d),t(d,"details")},i=d=>{n(d),t(d,"edit")},o=d=>{n(d),t(d,"products")},c=()=>{t({},"add")},u=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:x=>d.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:x=>d.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.code?d.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:d})=>{const x=d.original.source,m=d.original.destination;return e.jsxs("div",{className:"text-center",children:[x.code,"-",m.code]})}},{id:"transfer_products",header:()=>e.jsx("div",{className:"text-center",children:"PRODUCTS ADDED?"}),cell:({row:d})=>e.jsx("div",{className:"flex justify-center",children:s.filter(x=>x.transfer_id===d.original.id).length>0?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"})})},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.transfer_status?d.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>{const x=d.getValue("transfer_schedule");if(x.toString()!=="0000-00-00 00:00:00"){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>{const x=d.getValue("date_received");if(x){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:d})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:d.original.approval_status.toLowerCase()==="approved"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):d.original.approval_status.toLowerCase()==="rejected"?e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:d})=>{const x=d.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>l(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Details"})]}),e.jsxs(ke,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit Transfer"})]}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>o(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:x.transfer_status!="arrived"&&x.approval_status!="rejected"?e.jsx(aa,{size:16,strokeWidth:2.25}):e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Products"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,columns:u,filterWhat:"approval_status",dataType:"Transfer",openModal:c,isLoading:r})})},Oo=({onClose:t})=>{const{selectedTransfer:a}=gt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ve(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ve(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})};var Oe=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},Ao=["onCopy","onCut","onPaste"],Po=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Fo=["onFocus","onBlur"],Eo=["onInput","onInvalid","onReset","onSubmit"],Io=["onLoad","onError"],Lo=["onKeyDown","onKeyPress","onKeyUp"],Mo=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Wo=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Ro=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],zo=["onSelect"],qo=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Uo=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Ho=["onScroll"],Ko=["onWheel"],$o=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Vo=["onTransitionEnd"],Bo=["onToggle"],Yo=["onChange"],Qo=Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe([],Ao,!0),Po,!0),Fo,!0),Eo,!0),Io,!0),Lo,!0),Mo,!0),Wo,!0),Ro,!0),zo,!0),qo,!0),Uo,!0),Ho,!0),Ko,!0),$o,!0),Vo,!0),Yo,!0),Bo,!0);function Go(t,a){var s={};return Qo.forEach(function(r){var n=t[r];n&&(a?s[r]=function(l){return n(l,a(r))}:s[r]=n)}),s}var Zo="Expected a function",Ll="__lodash_hash_undefined__",Xo="[object Function]",Jo="[object GeneratorFunction]",ed=/[\\^$.*+?()[\]{}|]/g,td=/^\[object .+?Constructor\]$/,ad=typeof cs=="object"&&cs&&cs.Object===Object&&cs,sd=typeof self=="object"&&self&&self.Object===Object&&self,Ml=ad||sd||Function("return this")();function rd(t,a){return t==null?void 0:t[a]}function nd(t){var a=!1;if(t!=null&&typeof t.toString!="function")try{a=!!(t+"")}catch{}return a}var ld=Array.prototype,id=Function.prototype,Wl=Object.prototype,Us=Ml["__core-js_shared__"],vn=function(){var t=/[^.]+$/.exec(Us&&Us.keys&&Us.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Rl=id.toString,Kr=Wl.hasOwnProperty,cd=Wl.toString,od=RegExp("^"+Rl.call(Kr).replace(ed,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dd=ld.splice,ud=zl(Ml,"Map"),Qa=zl(Object,"create");function ba(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function md(){this.__data__=Qa?Qa(null):{}}function xd(t){return this.has(t)&&delete this.__data__[t]}function hd(t){var a=this.__data__;if(Qa){var s=a[t];return s===Ll?void 0:s}return Kr.call(a,t)?a[t]:void 0}function fd(t){var a=this.__data__;return Qa?a[t]!==void 0:Kr.call(a,t)}function pd(t,a){var s=this.__data__;return s[t]=Qa&&a===void 0?Ll:a,this}ba.prototype.clear=md;ba.prototype.delete=xd;ba.prototype.get=hd;ba.prototype.has=fd;ba.prototype.set=pd;function La(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function gd(){this.__data__=[]}function vd(t){var a=this.__data__,s=ks(a,t);if(s<0)return!1;var r=a.length-1;return s==r?a.pop():dd.call(a,s,1),!0}function jd(t){var a=this.__data__,s=ks(a,t);return s<0?void 0:a[s][1]}function yd(t){return ks(this.__data__,t)>-1}function bd(t,a){var s=this.__data__,r=ks(s,t);return r<0?s.push([t,a]):s[r][1]=a,this}La.prototype.clear=gd;La.prototype.delete=vd;La.prototype.get=jd;La.prototype.has=yd;La.prototype.set=bd;function wa(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function Nd(){this.__data__={hash:new ba,map:new(ud||La),string:new ba}}function wd(t){return Ds(this,t).delete(t)}function _d(t){return Ds(this,t).get(t)}function Sd(t){return Ds(this,t).has(t)}function Cd(t,a){return Ds(this,t).set(t,a),this}wa.prototype.clear=Nd;wa.prototype.delete=wd;wa.prototype.get=_d;wa.prototype.has=Sd;wa.prototype.set=Cd;function ks(t,a){for(var s=t.length;s--;)if(Ad(t[s][0],a))return s;return-1}function kd(t){if(!ql(t)||Td(t))return!1;var a=Pd(t)||nd(t)?od:td;return a.test(Od(t))}function Ds(t,a){var s=t.__data__;return Dd(a)?s[typeof a=="string"?"string":"hash"]:s.map}function zl(t,a){var s=rd(t,a);return kd(s)?s:void 0}function Dd(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}function Td(t){return!!vn&&vn in t}function Od(t){if(t!=null){try{return Rl.call(t)}catch{}try{return t+""}catch{}}return""}function $r(t,a){if(typeof t!="function"||a&&typeof a!="function")throw new TypeError(Zo);var s=function(){var r=arguments,n=a?a.apply(this,r):r[0],l=s.cache;if(l.has(n))return l.get(n);var i=t.apply(this,r);return s.cache=l.set(n,i),i};return s.cache=new($r.Cache||wa),s}$r.Cache=wa;function Ad(t,a){return t===a||t!==t&&a!==a}function Pd(t){var a=ql(t)?cd.call(t):"";return a==Xo||a==Jo}function ql(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}var Fd=$r;const Ul=ul(Fd);function Hl(t){return JSON.stringify(t)}function Ed(t){return typeof t=="string"}function Id(t,a,s){return s.indexOf(t)===a}function Ld(t){return t.toLowerCase()===t}function jn(t){return t.indexOf(",")===-1?t:t.split(",")}function ir(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var a=t.split(".")[0],s=a===void 0?"":a;return ir(s)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],s=r===void 0?"":r;return ir(s)}if(t.indexOf("-")===-1||!Ld(t))return t;var n=t.split("-"),l=n[0],i=n[1],o=i===void 0?"":i;return"".concat(l,"-").concat(o.toUpperCase())}function Md(t){var a=t===void 0?{}:t,s=a.useFallbackLocale,r=s===void 0?!0:s,n=a.fallbackLocale,l=n===void 0?"en-US":n,i=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],c=[],u=0,d=o;u<d.length;u++){var x=d[u];c=c.concat(jn(x))}var m=navigator.language,h=m&&jn(m);i=i.concat(c,h)}return r&&i.push(l),i.filter(Ed).map(ir).filter(Id)}var Wd=Ul(Md,Hl);function Rd(t){return Wd(t)[0]||null}var Kl=Ul(Rd,Hl);const Ma=Kl;function Ut(t,a,s){return function(n,l){l===void 0&&(l=s);var i=t(n)+l;return a(i)}}function rs(t){return function(s){return new Date(t(s).getTime()-1)}}function ns(t,a){return function(r){return[t(r),a(r)]}}function se(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var a=parseInt(t,10);if(typeof t=="string"&&!isNaN(a))return a;throw new Error("Failed to get year from date: ".concat(t,"."))}function na(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Wt(t){if(t instanceof Date)return t.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(t,"."))}function qt(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Be(t){if(t instanceof Date)return t.getHours();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[0];if(s){var r=parseInt(s,10);if(!isNaN(r))return r}}}throw new Error("Failed to get hours from date: ".concat(t,"."))}function Rt(t){if(t instanceof Date)return t.getMinutes();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[1]||"0",r=parseInt(s,10);if(!isNaN(r))return r}}throw new Error("Failed to get minutes from date: ".concat(t,"."))}function ga(t){if(t instanceof Date)return t.getSeconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",r=parseInt(s,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Hs(t){if(t instanceof Date)return t.getMilliseconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",r=s.split(".")[1]||"0",n=parseInt(r,10);if(!isNaN(n))return n}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Wa(t){var a=se(t),s=a+(-a+1)%100,r=new Date;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}var zd=Ut(se,Wa,-100),$l=Ut(se,Wa,100),Vr=rs($l),qd=Ut(se,Vr,-100),Vl=ns(Wa,Vr);function la(t){var a=se(t),s=a+(-a+1)%10,r=new Date;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}var Bl=Ut(se,la,-10),Br=Ut(se,la,10),Ts=rs(Br),Yl=Ut(se,Ts,-10),Ql=ns(la,Ts);function Ra(t){var a=se(t),s=new Date;return s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}var Gl=Ut(se,Ra,-1),Yr=Ut(se,Ra,1),Os=rs(Yr),Zl=Ut(se,Os,-1),Ud=ns(Ra,Os);function Qr(t,a){return function(r,n){n===void 0&&(n=a);var l=se(r),i=na(r)+n,o=new Date;return o.setFullYear(l,i,1),o.setHours(0,0,0,0),t(o)}}function _a(t){var a=se(t),s=na(t),r=new Date;return r.setFullYear(a,s,1),r.setHours(0,0,0,0),r}var Xl=Qr(_a,-1),Gr=Qr(_a,1),ls=rs(Gr),Jl=Qr(ls,-1),Hd=ns(_a,ls);function Kd(t,a){return function(r,n){n===void 0&&(n=a);var l=se(r),i=na(r),o=qt(r)+n,c=new Date;return c.setFullYear(l,i,o),c.setHours(0,0,0,0),t(c)}}function is(t){var a=se(t),s=na(t),r=qt(t),n=new Date;return n.setFullYear(a,s,r),n.setHours(0,0,0,0),n}var $d=Kd(is,1),Zr=rs($d),Vd=ns(is,Zr);function Xr(t){return qt(ls(t))}function Xt(t,a){a===void 0&&(a=2);var s="".concat(t);return s.length>=a?t:"0000".concat(s).slice(-a)}function Bd(t){var a=Xt(Be(t)),s=Xt(Rt(t));return"".concat(a,":").concat(s)}function cr(t){var a=Xt(Be(t)),s=Xt(Rt(t)),r=Xt(ga(t));return"".concat(a,":").concat(s,":").concat(r)}function or(t){var a=Xt(se(t),4),s=Xt(Wt(t)),r=Xt(qt(t));return"".concat(a,"-").concat(s,"-").concat(r)}function Yd(t){return"".concat(or(t),"T").concat(cr(t))}var Ka,pe={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Aa={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},Qd=(Ka={},Ka[pe.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Ka[pe.HEBREW]=["he","he-IL"],Ka[pe.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Ka),Jr=[0,1,2,3,4,5,6],Ks=new Map;function Gd(t){return function(s,r){var n=s||Ma();Ks.has(n)||Ks.set(n,new Map);var l=Ks.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}function Zd(t){var a=new Date(t);return new Date(a.setHours(12))}function Sa(t){return function(a,s){return Gd(t)(a,Zd(s))}}var Xd={day:"numeric"},Jd={day:"numeric",month:"long",year:"numeric"},eu={month:"long"},tu={month:"long",year:"numeric"},au={weekday:"short"},su={weekday:"long"},ru={year:"numeric"},nu=Sa(Xd),lu=Sa(Jd),iu=Sa(eu),ei=Sa(tu),cu=Sa(au),ou=Sa(su),As=Sa(ru),du=Jr[0],uu=Jr[5],yn=Jr[6];function Ga(t,a){a===void 0&&(a=pe.ISO_8601);var s=t.getDay();switch(a){case pe.ISO_8601:return(s+6)%7;case pe.ISLAMIC:return(s+1)%7;case pe.HEBREW:case pe.GREGORY:return s;default:throw new Error("Unsupported calendar type.")}}function mu(t){var a=Wa(t);return se(a)}function xu(t){var a=la(t);return se(a)}function dr(t,a){a===void 0&&(a=pe.ISO_8601);var s=se(t),r=na(t),n=t.getDate()-Ga(t,a);return new Date(s,r,n)}function hu(t,a){a===void 0&&(a=pe.ISO_8601);var s=a===pe.GREGORY?pe.GREGORY:pe.ISO_8601,r=dr(t,a),n=se(t)+1,l,i;do l=new Date(n,0,s===pe.ISO_8601?4:1),i=dr(l,a),n-=1;while(t<i);return Math.round((r.getTime()-i.getTime())/(864e5*7))+1}function va(t,a){switch(t){case"century":return Wa(a);case"decade":return la(a);case"year":return Ra(a);case"month":return _a(a);case"day":return is(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function fu(t,a){switch(t){case"century":return zd(a);case"decade":return Bl(a);case"year":return Gl(a);case"month":return Xl(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function ti(t,a){switch(t){case"century":return $l(a);case"decade":return Br(a);case"year":return Yr(a);case"month":return Gr(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function pu(t,a){switch(t){case"decade":return Bl(a,-100);case"year":return Gl(a,-10);case"month":return Xl(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function gu(t,a){switch(t){case"decade":return Br(a,100);case"year":return Yr(a,10);case"month":return Gr(a,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ai(t,a){switch(t){case"century":return Vr(a);case"decade":return Ts(a);case"year":return Os(a);case"month":return ls(a);case"day":return Zr(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function vu(t,a){switch(t){case"century":return qd(a);case"decade":return Yl(a);case"year":return Zl(a);case"month":return Jl(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function ju(t,a){switch(t){case"decade":return Yl(a,-100);case"year":return Zl(a,-10);case"month":return Jl(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function bn(t,a){switch(t){case"century":return Vl(a);case"decade":return Ql(a);case"year":return Ud(a);case"month":return Hd(a);case"day":return Vd(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function yu(t,a,s){var r=[a,s].sort(function(n,l){return n.getTime()-l.getTime()});return[va(t,r[0]),ai(t,r[1])]}function si(t,a,s){return a===void 0&&(a=As),s.map(function(r){return a(t,r)}).join("  ")}function bu(t,a,s){return si(t,a,Vl(s))}function ri(t,a,s){return si(t,a,Ql(s))}function Nu(t){return t.getDay()===new Date().getDay()}function ni(t,a){a===void 0&&(a=pe.ISO_8601);var s=t.getDay();switch(a){case pe.ISLAMIC:case pe.HEBREW:return s===uu||s===yn;case pe.ISO_8601:case pe.GREGORY:return s===yn||s===du;default:throw new Error("Unsupported calendar type.")}}var jt="react-calendar__navigation";function wu(t){var a=t.activeStartDate,s=t.drillUp,r=t.formatMonthYear,n=r===void 0?ei:r,l=t.formatYear,i=l===void 0?As:l,o=t.locale,c=t.maxDate,u=t.minDate,d=t.navigationAriaLabel,x=d===void 0?"":d,m=t.navigationAriaLive,h=t.navigationLabel,v=t.next2AriaLabel,y=v===void 0?"":v,b=t.next2Label,j=b===void 0?"":b,p=t.nextAriaLabel,N=p===void 0?"":p,O=t.nextLabel,A=O===void 0?"":O,M=t.prev2AriaLabel,E=M===void 0?"":M,I=t.prev2Label,S=I===void 0?"":I,P=t.prevAriaLabel,F=P===void 0?"":P,R=t.prevLabel,K=R===void 0?"":R,B=t.setActiveStartDate,H=t.showDoubleView,w=t.view,Y=t.views,le=Y.indexOf(w)>0,W=w!=="century",G=fu(w,a),me=W?pu(w,a):void 0,xe=ti(w,a),he=W?gu(w,a):void 0,Z=function(){if(G.getFullYear()<0)return!0;var Q=vu(w,a);return u&&u>=Q}(),Te=W&&function(){if(me.getFullYear()<0)return!0;var Q=ju(w,a);return u&&u>=Q}(),Ie=c&&c<xe,Le=W&&c&&c<he;function Ae(){B(G,"prev")}function De(){B(me,"prev2")}function He(){B(xe,"next")}function Ne(){B(he,"next2")}function je(Q){var ve=function(){switch(w){case"century":return bu(o,i,Q);case"decade":return ri(o,i,Q);case"year":return i(o,Q);case"month":return n(o,Q);default:throw new Error("Invalid view: ".concat(w,"."))}}();return h?h({date:Q,label:ve,locale:o||Kl()||void 0,view:w}):ve}function $(){var Q="".concat(jt,"__label");return _.createElement("button",{"aria-label":x,"aria-live":m,className:Q,disabled:!le,onClick:s,style:{flexGrow:1},type:"button"},_.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--from")},je(a)),H?_.createElement(_.Fragment,null,_.createElement("span",{className:"".concat(Q,"__divider")},"  "),_.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--to")},je(xe))):null)}return _.createElement("div",{className:jt},S!==null&&W?_.createElement("button",{"aria-label":E,className:"".concat(jt,"__arrow ").concat(jt,"__prev2-button"),disabled:Te,onClick:De,type:"button"},S):null,K!==null&&_.createElement("button",{"aria-label":F,className:"".concat(jt,"__arrow ").concat(jt,"__prev-button"),disabled:Z,onClick:Ae,type:"button"},K),$(),A!==null&&_.createElement("button",{"aria-label":N,className:"".concat(jt,"__arrow ").concat(jt,"__next-button"),disabled:Ie,onClick:He,type:"button"},A),j!==null&&W?_.createElement("button",{"aria-label":y,className:"".concat(jt,"__arrow ").concat(jt,"__next2-button"),disabled:Le,onClick:Ne,type:"button"},j):null)}var Pa=globalThis&&globalThis.__assign||function(){return Pa=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Pa.apply(this,arguments)},_u=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Nn(t){return"".concat(t,"%")}function en(t){var a=t.children,s=t.className,r=t.count,n=t.direction,l=t.offset,i=t.style,o=t.wrap,c=_u(t,["children","className","count","direction","offset","style","wrap"]);return _.createElement("div",Pa({className:s,style:Pa({display:"flex",flexDirection:n,flexWrap:o?"wrap":"nowrap"},i)},c),_.Children.map(a,function(u,d){var x=l&&d===0?Nn(100*l/r):null;return _.cloneElement(u,Pa(Pa({},u.props),{style:{flexBasis:Nn(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:x,marginInlineStart:x,marginInlineEnd:0}}))}))}var Su=function(){},Cu=Su;const ku=ul(Cu);var Ta;function Du(t,a,s){return a&&a>t?a:s&&s<t?s:t}function Za(t,a){return a[0]<=t&&a[1]>=t}function Tu(t,a){return t[0]<=a[0]&&t[1]>=a[1]}function li(t,a){return Za(t[0],a)||Za(t[1],a)}function wn(t,a,s){var r=li(a,t),n=[];if(r){n.push(s);var l=Za(t[0],a),i=Za(t[1],a);l&&n.push("".concat(s,"Start")),i&&n.push("".concat(s,"End")),l&&i&&n.push("".concat(s,"BothEnds"))}return n}function Ou(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Au(t){if(!t)throw new Error("args is required");var a=t.value,s=t.date,r=t.hover,n="react-calendar__tile",l=[n];if(!s)return l;var i=new Date,o=function(){if(Array.isArray(s))return s;var h=t.dateType;if(!h)throw new Error("dateType is required when date is not an array of two dates");return bn(h,s)}();if(Za(i,o)&&l.push("".concat(n,"--now")),!a||!Ou(a))return l;var c=function(){if(Array.isArray(a))return a;var h=t.valueType;if(!h)throw new Error("valueType is required when value is not an array of two dates");return bn(h,a)}();Tu(c,o)?l.push("".concat(n,"--active")):li(c,o)&&l.push("".concat(n,"--hasActive"));var u=wn(c,o,"".concat(n,"--range"));l.push.apply(l,u);var d=Array.isArray(a)?a:[a];if(r&&d.length===1){var x=r>c[0]?[c[0],r]:[r,c[0]],m=wn(x,o,"".concat(n,"--hover"));l.push.apply(l,m)}return l}var Pu=(Ta={},Ta[Aa.ARABIC]=pe.ISLAMIC,Ta[Aa.HEBREW]=pe.HEBREW,Ta[Aa.ISO_8601]=pe.ISO_8601,Ta[Aa.US]=pe.GREGORY,Ta);function Fu(t){return t!==void 0&&t in Aa}var _n=!1;function Ps(t){if(Fu(t)){var a=Pu[t];return ku(_n,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(a,'" instead.')),_n=!0,a}return t}function Fs(t){for(var a=t.className,s=t.count,r=s===void 0?3:s,n=t.dateTransform,l=t.dateType,i=t.end,o=t.hover,c=t.offset,u=t.renderTile,d=t.start,x=t.step,m=x===void 0?1:x,h=t.value,v=t.valueType,y=[],b=d;b<=i;b+=m){var j=n(b);y.push(u({classes:Au({date:j,dateType:l,hover:o,value:h,valueType:v}),date:j}))}return _.createElement(en,{className:a,count:r,offset:c,wrap:!0},y)}function Es(t){var a=t.activeStartDate,s=t.children,r=t.classes,n=t.date,l=t.formatAbbr,i=t.locale,o=t.maxDate,c=t.maxDateTransform,u=t.minDate,d=t.minDateTransform,x=t.onClick,m=t.onMouseOver,h=t.style,v=t.tileClassName,y=t.tileContent,b=t.tileDisabled,j=t.view,p=f.useMemo(function(){var O={activeStartDate:a,date:n,view:j};return typeof v=="function"?v(O):v},[a,n,v,j]),N=f.useMemo(function(){var O={activeStartDate:a,date:n,view:j};return typeof y=="function"?y(O):y},[a,n,y,j]);return _.createElement("button",{className:it(r,p),disabled:u&&d(u)>n||o&&c(o)<n||b&&b({activeStartDate:a,date:n,view:j}),onClick:x?function(O){return x(n,O)}:void 0,onFocus:m?function(){return m(n)}:void 0,onMouseOver:m?function(){return m(n)}:void 0,style:h,type:"button"},l?_.createElement("abbr",{"aria-label":l(i,n)},s):s,N)}var ur=globalThis&&globalThis.__assign||function(){return ur=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ur.apply(this,arguments)},Eu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},$s="react-calendar__century-view__decades__decade";function Iu(t){var a=t.classes,s=a===void 0?[]:a,r=t.currentCentury,n=t.formatYear,l=n===void 0?As:n,i=Eu(t,["classes","currentCentury","formatYear"]),o=i.date,c=i.locale,u=[];return s&&u.push.apply(u,s),$s&&u.push($s),Wa(o).getFullYear()!==r&&u.push("".concat($s,"--neighboringCentury")),_.createElement(Es,ur({},i,{classes:u,maxDateTransform:Ts,minDateTransform:la,view:"century"}),ri(c,l,o))}var mr=globalThis&&globalThis.__assign||function(){return mr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},mr.apply(this,arguments)},Sn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Lu(t){var a=t.activeStartDate,s=t.hover,r=t.showNeighboringCentury,n=t.value,l=t.valueType,i=Sn(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=mu(a),c=o+(r?119:99);return _.createElement(Fs,{className:"react-calendar__century-view__decades",dateTransform:la,dateType:"decade",end:c,hover:s,renderTile:function(u){var d=u.date,x=Sn(u,["date"]);return _.createElement(Iu,mr({key:d.getTime()},i,x,{activeStartDate:a,currentCentury:o,date:d}))},start:o,step:10,value:n,valueType:l})}var Cn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},Mu=Object.values(pe),Wu=Object.values(Aa),xr=["century","decade","year","month"],ii=g.oneOf(Cn(Cn([],Mu,!0),Wu,!0)),ys=g.oneOfType([g.string,g.arrayOf(g.string)]),tn=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.maxDate;return o&&i>o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},an=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.minDate;return o&&i<o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},Ru=g.oneOfType([g.func,g.exact({current:g.any})]),zu=g.arrayOf(g.oneOfType([g.instanceOf(Date),g.oneOf([null])]).isRequired),qu=g.oneOfType([g.instanceOf(Date),g.oneOf([null]),zu]);g.arrayOf(g.oneOf(xr));var bs=function(a,s,r){var n=a,l=s,i=n[l];return i!==void 0&&(typeof i!="string"||xr.indexOf(i)===-1)?new Error("Invalid prop `".concat(s,"` of value `").concat(i,"` supplied to `").concat(r,"`, expected one of [").concat(xr.map(function(o){return'"'.concat(o,'"')}).join(", "),"].")):null};bs.isRequired=function(a,s,r,n,l){var i=a,o=s,c=i[o];return c?bs(a,s,r):new Error("The prop `".concat(s,"` is marked as required in `").concat(r,"`, but its value is `").concat(c,"`."))};var Uu=function(t){return g.arrayOf(t)},Is={activeStartDate:g.instanceOf(Date).isRequired,hover:g.instanceOf(Date),locale:g.string,maxDate:an,minDate:tn,onClick:g.func,onMouseOver:g.func,tileClassName:g.oneOfType([g.func,ys]),tileContent:g.oneOfType([g.func,g.node]),value:qu,valueType:g.oneOf(["century","decade","year","month","day"]).isRequired};g.instanceOf(Date).isRequired,g.arrayOf(g.string.isRequired).isRequired,g.instanceOf(Date).isRequired,g.string,g.func,g.func,g.objectOf(g.oneOfType([g.string,g.number])),g.oneOfType([g.func,ys]),g.oneOfType([g.func,g.node]),g.func;var Xa=globalThis&&globalThis.__assign||function(){return Xa=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Xa.apply(this,arguments)},ci=function(a){function s(){return _.createElement(Lu,Xa({},a))}return _.createElement("div",{className:"react-calendar__century-view"},s())};ci.propTypes=Xa(Xa({},Is),{showNeighboringCentury:g.bool});const Hu=ci;var hr=globalThis&&globalThis.__assign||function(){return hr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},hr.apply(this,arguments)},Ku=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Vs="react-calendar__decade-view__years__year";function $u(t){var a=t.classes,s=a===void 0?[]:a,r=t.currentDecade,n=t.formatYear,l=n===void 0?As:n,i=Ku(t,["classes","currentDecade","formatYear"]),o=i.date,c=i.locale,u=[];return s&&u.push.apply(u,s),Vs&&u.push(Vs),la(o).getFullYear()!==r&&u.push("".concat(Vs,"--neighboringDecade")),_.createElement(Es,hr({},i,{classes:u,maxDateTransform:Os,minDateTransform:Ra,view:"decade"}),l(c,o))}var fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},fr.apply(this,arguments)},kn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Vu(t){var a=t.activeStartDate,s=t.hover,r=t.showNeighboringDecade,n=t.value,l=t.valueType,i=kn(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=xu(a),c=o+(r?11:9);return _.createElement(Fs,{className:"react-calendar__decade-view__years",dateTransform:Ra,dateType:"year",end:c,hover:s,renderTile:function(u){var d=u.date,x=kn(u,["date"]);return _.createElement($u,fr({key:d.getTime()},i,x,{activeStartDate:a,currentDecade:o,date:d}))},start:o,value:n,valueType:l})}var Ja=globalThis&&globalThis.__assign||function(){return Ja=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ja.apply(this,arguments)},oi=function(a){function s(){return _.createElement(Vu,Ja({},a))}return _.createElement("div",{className:"react-calendar__decade-view"},s())};oi.propTypes=Ja(Ja({},Is),{showNeighboringDecade:g.bool});const Bu=oi;var pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},pr.apply(this,arguments)},Yu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Dn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},Qu="react-calendar__year-view__months__month";function Gu(t){var a=t.classes,s=a===void 0?[]:a,r=t.formatMonth,n=r===void 0?iu:r,l=t.formatMonthYear,i=l===void 0?ei:l,o=Yu(t,["classes","formatMonth","formatMonthYear"]),c=o.date,u=o.locale;return _.createElement(Es,pr({},o,{classes:Dn(Dn([],s,!0),[Qu],!1),formatAbbr:i,maxDateTransform:ls,minDateTransform:_a,view:"year"}),n(u,c))}var gr=globalThis&&globalThis.__assign||function(){return gr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},gr.apply(this,arguments)},Tn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Zu(t){var a=t.activeStartDate,s=t.hover,r=t.value,n=t.valueType,l=Tn(t,["activeStartDate","hover","value","valueType"]),i=0,o=11,c=se(a);return _.createElement(Fs,{className:"react-calendar__year-view__months",dateTransform:function(u){var d=new Date;return d.setFullYear(c,u,1),_a(d)},dateType:"month",end:o,hover:s,renderTile:function(u){var d=u.date,x=Tn(u,["date"]);return _.createElement(Gu,gr({key:d.getTime()},l,x,{activeStartDate:a,date:d}))},start:i,value:r,valueType:n})}var Ns=globalThis&&globalThis.__assign||function(){return Ns=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ns.apply(this,arguments)},di=function(a){function s(){return _.createElement(Zu,Ns({},a))}return _.createElement("div",{className:"react-calendar__year-view"},s())};di.propTypes=Ns({},Is);const Xu=di;var vr=globalThis&&globalThis.__assign||function(){return vr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},vr.apply(this,arguments)},Ju=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},ds="react-calendar__month-view__days__day";function em(t){var a=t.calendarType,s=t.classes,r=s===void 0?[]:s,n=t.currentMonthIndex,l=t.formatDay,i=l===void 0?nu:l,o=t.formatLongDate,c=o===void 0?lu:o,u=Ju(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),d=Ps(a),x=u.date,m=u.locale,h=[];return r&&h.push.apply(h,r),ds&&h.push(ds),ni(x,d)&&h.push("".concat(ds,"--weekend")),x.getMonth()!==n&&h.push("".concat(ds,"--neighboringMonth")),_.createElement(Es,vr({},u,{classes:h,formatAbbr:c,maxDateTransform:Zr,minDateTransform:is,view:"month"}),i(m,x))}var jr=globalThis&&globalThis.__assign||function(){return jr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},jr.apply(this,arguments)},On=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function tm(t){var a=t.activeStartDate,s=t.calendarType,r=t.hover,n=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,i=t.value,o=t.valueType,c=On(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=Ps(s),d=se(a),x=na(a),m=n||l,h=Ga(a,u),v=m?0:h,y=(m?-h:0)+1,b=function(){if(n)return y+6*7-1;var j=Xr(a);if(l){var p=new Date;p.setFullYear(d,x,j),p.setHours(0,0,0,0);var N=7-Ga(p,u)-1;return j+N}return j}();return _.createElement(Fs,{className:"react-calendar__month-view__days",count:7,dateTransform:function(j){var p=new Date;return p.setFullYear(d,x,j),is(p)},dateType:"day",hover:r,end:b,renderTile:function(j){var p=j.date,N=On(j,["date"]);return _.createElement(em,jr({key:p.getTime()},c,N,{activeStartDate:a,calendarType:s,currentMonthIndex:x,date:p}))},offset:v,start:y,value:i,valueType:o})}var ui="react-calendar__month-view__weekdays",Bs="".concat(ui,"__weekday");function am(t){for(var a=t.calendarType,s=t.formatShortWeekday,r=s===void 0?cu:s,n=t.formatWeekday,l=n===void 0?ou:n,i=t.locale,o=t.onMouseLeave,c=Ps(a),u=new Date,d=_a(u),x=se(d),m=na(d),h=[],v=1;v<=7;v+=1){var y=new Date(x,m,v-Ga(d,c)),b=l(i,y);h.push(_.createElement("div",{key:v,className:it(Bs,Nu(y)&&"".concat(Bs,"--current"),ni(y,c)&&"".concat(Bs,"--weekend"))},_.createElement("abbr",{"aria-label":b,title:b},r(i,y).replace(".",""))))}return _.createElement(en,{className:ui,count:7,onFocus:o,onMouseOver:o},h)}var ws=globalThis&&globalThis.__assign||function(){return ws=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ws.apply(this,arguments)},An=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Pn="react-calendar__tile";function sm(t){var a=t.onClickWeekNumber,s=t.weekNumber,r=_.createElement("span",null,s);if(a){var n=t.date,l=t.onClickWeekNumber,i=t.weekNumber,o=An(t,["date","onClickWeekNumber","weekNumber"]);return _.createElement("button",ws({},o,{className:Pn,onClick:function(c){return l(i,n,c)},type:"button"}),r)}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=An(t,["date","onClickWeekNumber","weekNumber"]);return _.createElement("div",ws({},o,{className:Pn}),r)}}function rm(t){var a=t.activeStartDate,s=t.calendarType,r=t.onClickWeekNumber,n=t.onMouseLeave,l=t.showFixedNumberOfWeeks,i=Ps(s),o=function(){if(l)return 6;var d=Xr(a),x=Ga(a,i),m=d-(7-x);return 1+Math.ceil(m/7)}(),c=function(){for(var d=se(a),x=na(a),m=qt(a),h=[],v=0;v<o;v+=1)h.push(dr(new Date(d,x,m+v*7),i));return h}(),u=c.map(function(d){return hu(d,i)});return _.createElement(en,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:n,onMouseOver:n,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(d,x){var m=c[x];if(!m)throw new Error("date is not defined");return _.createElement(sm,{key:d,date:m,onClickWeekNumber:r,weekNumber:d})}))}var es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},es.apply(this,arguments)},nm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function lm(t){if(t)for(var a=0,s=Object.entries(Qd);a<s.length;a++){var r=s[a],n=r[0],l=r[1];if(l.includes(t))return n}return pe.ISO_8601}var mi=function(a){var s=a.activeStartDate,r=a.locale,n=a.onMouseLeave,l=a.showFixedNumberOfWeeks,i=a.calendarType,o=i===void 0?lm(r):i,c=a.formatShortWeekday,u=a.formatWeekday,d=a.onClickWeekNumber,x=a.showWeekNumbers,m=nm(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return _.createElement(am,{calendarType:o,formatShortWeekday:c,formatWeekday:u,locale:r,onMouseLeave:n})}function v(){return x?_.createElement(rm,{activeStartDate:s,calendarType:o,onClickWeekNumber:d,onMouseLeave:n,showFixedNumberOfWeeks:l}):null}function y(){return _.createElement(tm,es({calendarType:o},m))}var b="react-calendar__month-view";return _.createElement("div",{className:it(b,x?"".concat(b,"--weekNumbers"):"")},_.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},v(),_.createElement("div",{style:{flexGrow:1,width:"100%"}},h(),y())))};mi.propTypes=es(es({},Is),{calendarType:ii,formatDay:g.func,formatLongDate:g.func,formatShortWeekday:g.func,formatWeekday:g.func,onClickWeekNumber:g.func,onMouseLeave:g.func,showFixedNumberOfWeeks:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool});const im=mi;var Fa=globalThis&&globalThis.__assign||function(){return Fa=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Fa.apply(this,arguments)},us="react-calendar",Ea=["century","decade","year","month"],cm=["decade","year","month","day"],sn=new Date;sn.setFullYear(1,0,1);sn.setHours(0,0,0,0);var om=new Date(864e13);function $a(t){return t instanceof Date?t:new Date(t)}function xi(t,a){return Ea.slice(Ea.indexOf(t),Ea.indexOf(a)+1)}function dm(t,a,s){var r=xi(a,s);return r.indexOf(t)!==-1}function rn(t,a,s){return t&&dm(t,a,s)?t:s}function hi(t){var a=Ea.indexOf(t);return cm[a]}function um(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var r=$a(s);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function fi(t,a){var s=t.value,r=t.minDate,n=t.maxDate,l=t.maxDetail,i=um(s,a);if(!i)return null;var o=hi(l),c=function(){switch(a){case 0:return va(o,i);case 1:return ai(o,i);default:throw new Error("Invalid index value: ".concat(a))}}();return Du(c,r,n)}var nn=function(t){return fi(t,0)},pi=function(t){return fi(t,1)},mm=function(t){return[nn,pi].map(function(a){return a(t)})};function gi(t){var a=t.maxDate,s=t.maxDetail,r=t.minDate,n=t.minDetail,l=t.value,i=t.view,o=rn(i,n,s),c=nn({value:l,minDate:r,maxDate:a,maxDetail:s})||new Date;return va(o,c)}function xm(t){var a=t.activeStartDate,s=t.defaultActiveStartDate,r=t.defaultValue,n=t.defaultView,l=t.maxDate,i=t.maxDetail,o=t.minDate,c=t.minDetail,u=t.value,d=t.view,x=rn(d,c,i),m=a||s;return m?va(x,m):gi({maxDate:l,maxDetail:i,minDate:o,minDetail:c,value:u||r,view:d||n})}function Ys(t){return t&&(!Array.isArray(t)||t.length===1)}function ms(t,a){return t instanceof Date&&a instanceof Date&&t.getTime()===a.getTime()}var vi=f.forwardRef(function(a,s){var r=a.activeStartDate,n=a.allowPartialRange,l=a.calendarType,i=a.className,o=a.defaultActiveStartDate,c=a.defaultValue,u=a.defaultView,d=a.formatDay,x=a.formatLongDate,m=a.formatMonth,h=a.formatMonthYear,v=a.formatShortWeekday,y=a.formatWeekday,b=a.formatYear,j=a.goToRangeStartOnSelect,p=j===void 0?!0:j,N=a.inputRef,O=a.locale,A=a.maxDate,M=A===void 0?om:A,E=a.maxDetail,I=E===void 0?"month":E,S=a.minDate,P=S===void 0?sn:S,F=a.minDetail,R=F===void 0?"century":F,K=a.navigationAriaLabel,B=a.navigationAriaLive,H=a.navigationLabel,w=a.next2AriaLabel,Y=a.next2Label,le=a.nextAriaLabel,W=a.nextLabel,G=a.onActiveStartDateChange,me=a.onChange,xe=a.onClickDay,he=a.onClickDecade,Z=a.onClickMonth,Te=a.onClickWeekNumber,Ie=a.onClickYear,Le=a.onDrillDown,Ae=a.onDrillUp,De=a.onViewChange,He=a.prev2AriaLabel,Ne=a.prev2Label,je=a.prevAriaLabel,$=a.prevLabel,Q=a.returnValue,ve=Q===void 0?"start":Q,ye=a.selectRange,ot=a.showDoubleView,dt=a.showFixedNumberOfWeeks,ia=a.showNavigation,Ca=ia===void 0?!0:ia,ca=a.showNeighboringCentury,oa=a.showNeighboringDecade,Pe=a.showNeighboringMonth,Ot=Pe===void 0?!0:Pe,da=a.showWeekNumbers,Ke=a.tileClassName,At=a.tileContent,Ht=a.tileDisabled,vt=a.value,Pt=a.view,ua=f.useState(o),Kt=ua[0],$t=ua[1],ka=f.useState(null),ma=ka[0],ut=ka[1],Ft=f.useState(Array.isArray(c)?c.map(function(T){return T!==null?$a(T):null}):c!=null?$a(c):null),xa=Ft[0],za=Ft[1],Vt=f.useState(u),qa=Vt[0],ha=Vt[1],Se=r||Kt||xm({activeStartDate:r,defaultActiveStartDate:o,defaultValue:c,defaultView:u,maxDate:M,maxDetail:I,minDate:P,minDetail:R,value:vt,view:Pt}),Ce=function(){var T=function(){return ye&&Ys(xa)?xa:vt!==void 0?vt:xa}();return T?Array.isArray(T)?T.map(function(z){return z!==null?$a(z):null}):T!==null?$a(T):null:null}(),Bt=hi(I),ie=rn(Pt||qa,R,I),Ge=xi(R,I),Je=ye?ma:null,V=Ge.indexOf(ie)<Ge.length-1,X=Ge.indexOf(ie)>0,Fe=f.useCallback(function(T){var z=function(){switch(ve){case"start":return nn;case"end":return pi;case"range":return mm;default:throw new Error("Invalid returnValue.")}}();return z({maxDate:M,maxDetail:I,minDate:P,value:T})},[M,I,P,ve]),Me=f.useCallback(function(T,z){$t(T);var q={action:z,activeStartDate:T,value:Ce,view:ie};G&&!ms(Se,T)&&G(q)},[Se,G,Ce,ie]),be=f.useCallback(function(T,z){var q=function(){switch(ie){case"century":return he;case"decade":return Ie;case"year":return Z;case"month":return xe;default:throw new Error("Invalid view: ".concat(ie,"."))}}();q&&q(T,z)},[xe,he,Z,Ie,ie]),et=f.useCallback(function(T,z){if(V){be(T,z);var q=Ge[Ge.indexOf(ie)+1];if(!q)throw new Error("Attempted to drill down from the lowest view.");$t(T),ha(q);var we={action:"drillDown",activeStartDate:T,value:Ce,view:q};G&&!ms(Se,T)&&G(we),De&&ie!==q&&De(we),Le&&Le(we)}},[Se,V,G,be,Le,De,Ce,ie,Ge]),nt=f.useCallback(function(){if(X){var T=Ge[Ge.indexOf(ie)-1];if(!T)throw new Error("Attempted to drill up from the highest view.");var z=va(T,Se);$t(z),ha(T);var q={action:"drillUp",activeStartDate:z,value:Ce,view:T};G&&!ms(Se,z)&&G(q),De&&ie!==T&&De(q),Ae&&Ae(q)}},[Se,X,G,Ae,De,Ce,ie,Ge]),tt=f.useCallback(function(T,z){var q=Ce;be(T,z);var we=ye&&!Ys(q),_e;if(ye)if(we)_e=va(Bt,T);else{if(!q)throw new Error("previousValue is required");if(Array.isArray(q))throw new Error("previousValue must not be an array");_e=yu(Bt,q,T)}else _e=Fe(T);var Ze=!ye||we||p?gi({maxDate:M,maxDetail:I,minDate:P,minDetail:R,value:_e,view:ie}):null;z.persist(),$t(Ze),za(_e);var Et={action:"onChange",activeStartDate:Ze,value:_e,view:ie};if(G&&!ms(Se,Ze)&&G(Et),me)if(ye){var at=Ys(_e);if(!at)me(_e||null,z);else if(n){if(Array.isArray(_e))throw new Error("value must not be an array");me([_e||null,null],z)}}else me(_e||null,z)},[Se,n,Fe,p,M,I,P,R,G,me,be,ye,Ce,Bt,ie]);function Ua(T){ut(T)}function Yt(){ut(null)}f.useImperativeHandle(s,function(){return{activeStartDate:Se,drillDown:et,drillUp:nt,onChange:tt,setActiveStartDate:Me,value:Ce,view:ie}},[Se,et,nt,tt,Me,Ce,ie]);function fa(T){var z=T?ti(ie,Se):va(ie,Se),q=V?et:tt,we={activeStartDate:z,hover:Je,locale:O,maxDate:M,minDate:P,onClick:q,onMouseOver:ye?Ua:void 0,tileClassName:Ke,tileContent:At,tileDisabled:Ht,value:Ce,valueType:Bt};switch(ie){case"century":return _.createElement(Hu,Fa({formatYear:b,showNeighboringCentury:ca},we));case"decade":return _.createElement(Bu,Fa({formatYear:b,showNeighboringDecade:oa},we));case"year":return _.createElement(Xu,Fa({formatMonth:m,formatMonthYear:h},we));case"month":return _.createElement(im,Fa({calendarType:l,formatDay:d,formatLongDate:x,formatShortWeekday:v,formatWeekday:y,onClickWeekNumber:Te,onMouseLeave:ye?Yt:void 0,showFixedNumberOfWeeks:typeof dt<"u"?dt:ot,showNeighboringMonth:Ot,showWeekNumbers:da},we));default:throw new Error("Invalid view: ".concat(ie,"."))}}function Da(){return Ca?_.createElement(wu,{activeStartDate:Se,drillUp:nt,formatMonthYear:h,formatYear:b,locale:O,maxDate:M,minDate:P,navigationAriaLabel:K,navigationAriaLive:B,navigationLabel:H,next2AriaLabel:w,next2Label:Y,nextAriaLabel:le,nextLabel:W,prev2AriaLabel:He,prev2Label:Ne,prevAriaLabel:je,prevLabel:$,setActiveStartDate:Me,showDoubleView:ot,view:ie,views:Ge}):null}var k=Array.isArray(Ce)?Ce:[Ce];return _.createElement("div",{className:it(us,ye&&k.length===1&&"".concat(us,"--selectRange"),ot&&"".concat(us,"--doubleView"),i),ref:N},Da(),_.createElement("div",{className:"".concat(us,"__viewContainer"),onBlur:ye?Yt:void 0,onMouseLeave:ye?Yt:void 0},fa(),ot?fa(!0):null))}),Fn=g.instanceOf(Date),En=g.oneOfType([g.string,g.instanceOf(Date)]),In=g.oneOfType([En,Uu(En)]);vi.propTypes={activeStartDate:Fn,allowPartialRange:g.bool,calendarType:ii,className:ys,defaultActiveStartDate:Fn,defaultValue:In,defaultView:bs,formatDay:g.func,formatLongDate:g.func,formatMonth:g.func,formatMonthYear:g.func,formatShortWeekday:g.func,formatWeekday:g.func,formatYear:g.func,goToRangeStartOnSelect:g.bool,inputRef:Ru,locale:g.string,maxDate:an,maxDetail:g.oneOf(Ea),minDate:tn,minDetail:g.oneOf(Ea),navigationAriaLabel:g.string,navigationAriaLive:g.oneOf(["off","polite","assertive"]),navigationLabel:g.func,next2AriaLabel:g.string,next2Label:g.node,nextAriaLabel:g.string,nextLabel:g.node,onActiveStartDateChange:g.func,onChange:g.func,onClickDay:g.func,onClickDecade:g.func,onClickMonth:g.func,onClickWeekNumber:g.func,onClickYear:g.func,onDrillDown:g.func,onDrillUp:g.func,onViewChange:g.func,prev2AriaLabel:g.string,prev2Label:g.node,prevAriaLabel:g.string,prevLabel:g.node,returnValue:g.oneOf(["start","end","range"]),selectRange:g.bool,showDoubleView:g.bool,showFixedNumberOfWeeks:g.bool,showNavigation:g.bool,showNeighboringCentury:g.bool,showNeighboringDecade:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool,tileClassName:g.oneOfType([g.func,ys]),tileContent:g.oneOfType([g.func,g.node]),tileDisabled:g.func,value:In,view:bs};const hm=vi;function Qs(t){var a=t.angle,s=a===void 0?0:a,r=t.name,n=t.length,l=n===void 0?100:n,i=t.oppositeLength,o=i===void 0?10:i,c=t.width,u=c===void 0?1:c;return _.createElement("div",{className:"react-clock__hand react-clock__".concat(r,"-hand"),style:{transform:"rotate(".concat(s,"deg)")}},_.createElement("div",{className:"react-clock__hand__body react-clock__".concat(r,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-l/2,"%"),bottom:"".concat(50-o/2,"%")}}))}function ji(t){var a=t.angle,s=a===void 0?0:a,r=t.length,n=r===void 0?10:r,l=t.name,i=t.width,o=i===void 0?1:i,c=t.number;return _.createElement("div",{className:"react-clock__mark react-clock__".concat(l,"-mark"),style:{transform:"rotate(".concat(s,"deg)")}},_.createElement("div",{className:"react-clock__mark__body react-clock__".concat(l,"-mark__body"),style:{width:"".concat(o,"px"),top:0,bottom:"".concat(100-n/2,"%")}}),c?_.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(s,"deg)"),top:"".concat(n/2,"%")}},c):null)}var yr=globalThis&&globalThis.__assign||function(){return yr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},yr.apply(this,arguments)},fm=f.memo(function(a){return _.createElement(ji,yr({},a))});const pm=fm;function gm(t,a){return a.toLocaleString(t||Ma()||void 0)}var br=globalThis&&globalThis.__assign||function(){return br=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},br.apply(this,arguments)},vm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},jm=f.memo(function(a){var s=a.formatHour,r=s===void 0?gm:s,n=a.locale,l=a.number,i=vm(a,["formatHour","locale","number"]);return _.createElement(ji,br({number:l?r(n,l):null},i))});const ym=jm;function yi(t,a){return function(s,r,n){var l=s,i=r,o=l[i];if(typeof o<"u"){if(typeof o!="number")return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected `number`."));if(o<t||o>a)return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, length must be between ").concat(t," and ").concat(a,"."))}return null}}var ps=yi(0,100),Gs=yi(-100,100),gs=function(a,s,r){var n=a,l=s,i=n[l];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, width must be greater or equal to 0."))}return null},Ln=ps,Mn=gs,bi=function(a){var s=a.className,r=a.formatHour,n=a.hourHandLength,l=n===void 0?50:n,i=a.hourHandOppositeLength,o=a.hourHandWidth,c=o===void 0?4:o,u=a.hourMarksLength,d=u===void 0?10:u,x=a.hourMarksWidth,m=x===void 0?3:x,h=a.locale,v=a.minuteHandLength,y=v===void 0?70:v,b=a.minuteHandOppositeLength,j=a.minuteHandWidth,p=j===void 0?2:j,N=a.minuteMarksLength,O=N===void 0?6:N,A=a.minuteMarksWidth,M=A===void 0?1:A,E=a.renderHourMarks,I=E===void 0?!0:E,S=a.renderMinuteHand,P=S===void 0?!0:S,F=a.renderMinuteMarks,R=F===void 0?!0:F,K=a.renderNumbers,B=a.renderSecondHand,H=B===void 0?!0:B,w=a.secondHandLength,Y=w===void 0?90:w,le=a.secondHandOppositeLength,W=a.secondHandWidth,G=W===void 0?1:W,me=a.size,xe=me===void 0?150:me,he=a.useMillisecondPrecision,Z=a.value;function Te(){if(!R)return null;for(var Ne=[],je=1;je<=60;je+=1){var $=I&&!(je%5);$||Ne.push(_.createElement(pm,{key:"minute_".concat(je),angle:je*6,length:O,name:"minute",width:M}))}return Ne}function Ie(){if(!I)return null;for(var Ne=[],je=1;je<=12;je+=1)Ne.push(_.createElement(ym,{key:"hour_".concat(je),angle:je*30,formatHour:r,length:d,locale:h,name:"hour",number:K?je:void 0,width:m}));return Ne}function Le(){return _.createElement("div",{className:"react-clock__face"},Te(),Ie())}function Ae(){var Ne=Z?Be(Z)*30+Rt(Z)/2+ga(Z)/120+(he?Hs(Z)/12e4:0):0;return _.createElement(Qs,{angle:Ne,length:l,name:"hour",oppositeLength:i,width:c})}function De(){if(!P)return null;var Ne=Z?Be(Z)*360+Rt(Z)*6+ga(Z)/10+(he?Hs(Z)/1e4:0):0;return _.createElement(Qs,{angle:Ne,length:y,name:"minute",oppositeLength:b,width:p})}function He(){if(!H)return null;var Ne=Z?Rt(Z)*360+ga(Z)*6+(he?Hs(Z)*.006:0):0;return _.createElement(Qs,{angle:Ne,length:Y,name:"second",oppositeLength:le,width:G})}return _.createElement("time",{className:it("react-clock",s),dateTime:Z instanceof Date?Z.toISOString():Z||void 0,style:{width:xe,height:xe}},Le(),Ae(),De(),He())};bi.propTypes={className:g.oneOfType([g.string,g.arrayOf(g.string)]),formatHour:g.func,hourHandLength:ps,hourHandOppositeLength:Gs,hourHandWidth:gs,hourMarksLength:Ln,hourMarksWidth:Mn,locale:g.string,minuteHandLength:ps,minuteHandOppositeLength:Gs,minuteHandWidth:gs,minuteMarksLength:Ln,minuteMarksWidth:Mn,renderHourMarks:g.bool,renderMinuteHand:g.bool,renderMinuteMarks:g.bool,renderNumbers:g.bool,renderSecondHand:g.bool,secondHandLength:ps,secondHandOppositeLength:Gs,secondHandWidth:gs,size:g.oneOfType([g.number,g.string]),value:g.oneOfType([g.string,g.instanceOf(Date)])};const bm=bi;function Re(t){return t.getBoundingClientRect()}function Wn(t,a){return{get collidedTop(){return Re(t).top<Re(a).top},get collidedBottom(){return Re(t).bottom>Re(a).bottom},get collidedLeft(){return Re(t).left<Re(a).left},get collidedRight(){return Re(t).right>Re(a).right},get overflowTop(){return Re(a).top-Re(t).top},get overflowBottom(){return Re(t).bottom-Re(a).bottom},get overflowLeft(){return Re(a).left-Re(t).left},get overflowRight(){return Re(t).right-Re(a).right}}}var Nm=!0;function Rn(t,a){if(!Nm){if(t)return;var s="Warning: "+a;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}var wm=globalThis&&globalThis.__extends||function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])},t(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function r(){this.constructor=a}a.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),Gt=globalThis&&globalThis.__assign||function(){return Gt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Gt.apply(this,arguments)},_m=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Ni=typeof document<"u",zn=Ni&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),Sm=Ni&&"MutationObserver"in window;function xs(t){return t.charAt(0).toUpperCase()+t.slice(1)}function qn(t){for(var a=t.parentElement;a;){var s=window.getComputedStyle(a).overflow;if(s.split(" ").every(function(r){return r==="auto"||r==="scroll"}))return a;a=a.parentElement}return document.documentElement}function wi(t){var a=t.axis,s=t.container,r=t.element,n=t.invertAxis,l=t.scrollContainer,i=t.secondary,o=t.spacing,c=window.getComputedStyle(r),u=s.parentElement;if(!u)return;var d=Wn(u,l),x=Wn(u,document.documentElement),m=a==="x",h=m?"left":"top",v=m?"right":"bottom",y=m?"width":"height",b="overflow".concat(xs(h)),j="overflow".concat(xs(v)),p="scroll".concat(xs(h)),N=xs(y),O="offset".concat(N),A="client".concat(N),M="min-".concat(y),E=l[O]-l[A],I=typeof o=="object"?o[h]:o,S=-Math.max(d[b],x[b]+document.documentElement[p])-I,P=typeof o=="object"?o[v]:o,F=-Math.max(d[j],x[j]-document.documentElement[p])-P-E;i&&(S+=u[A],F+=u[A]);var R=r[O];function K(){r.style[h]="auto",r.style[v]=i?"0":"100%"}function B(){r.style[h]=i?"0":"100%",r.style[v]="auto"}function H(G,me){var xe=R<=G;return xe&&me(),xe}function w(){return H(S,K)}function Y(){return H(F,B)}function le(){var G=S>F,me=c.getPropertyValue(M),xe=me?parseInt(me,10):null;function he(Z){Rn(!xe||Z>=xe,"<Fit />'s child will not fit anywhere with its current ".concat(M," of ").concat(xe,"px."));var Te=Math.max(Z,xe||0);Rn(!1,"<Fit />'s child needed to have its ".concat(y," decreased to ").concat(Te,"px.")),r.style[y]="".concat(Te,"px")}G?(he(S),K()):(he(F),B())}var W;n?W=w()||Y():W=Y()||w(),W||le()}function Cm(t){wi(t)}function km(t){wi(Gt(Gt({},t),{axis:t.axis==="x"?"y":"x",secondary:!0}))}function Dm(t){var a=t.invertAxis,s=t.invertSecondaryAxis,r=_m(t,["invertAxis","invertSecondaryAxis"]);Cm(Gt(Gt({},r),{invertAxis:a})),km(Gt(Gt({},r),{invertAxis:s}))}var Tm=function(t){wm(a,t);function a(){var s=t!==null&&t.apply(this,arguments)||this;return s.fit=function(){var r=s,n=r.scrollContainer,l=r.container,i=r.element;if(!(!n||!l||!i)){var o=i.clientWidth,c=i.clientHeight;if(!(s.elementWidth===o&&s.elementHeight===c)){s.elementWidth=o,s.elementHeight=c;var u=l.parentElement;if(u){var d=window.getComputedStyle(i),x=d.position;x!=="absolute"&&(i.style.position="absolute");var m=window.getComputedStyle(u),h=m.position;h!=="relative"&&h!=="absolute"&&(u.style.position="relative");var v=s.props,y=v.invertAxis,b=v.invertSecondaryAxis,j=v.mainAxis,p=j===void 0?"y":j,N=v.spacing,O=N===void 0?8:N;Dm({axis:p,container:l,element:i,invertAxis:y,invertSecondaryAxis:b,scrollContainer:n,spacing:O})}}}},s}return a.prototype.componentDidMount=function(){var s=this;if(!zn){var r=nr.findDOMNode(this);if(!r||!(r instanceof HTMLElement))return;this.container=r,this.element=r,this.scrollContainer=qn(r)}this.fit();var n=function(){s.fit()};if(Sm&&this.element){var l=new MutationObserver(n);l.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},a.prototype.render=function(){var s=this,r=this.props.children,n=_.Children.only(r);return zn?_.createElement("span",{ref:function(l){s.container=l;var i=l&&l.firstElementChild;!i||!(i instanceof HTMLElement)||(s.element=i,s.scrollContainer=qn(i))},style:{display:"contents"}},n):n},a.propTypes={children:g.node.isRequired,invertAxis:g.bool,invertSecondaryAxis:g.bool,mainAxis:g.oneOf(["x","y"]),spacing:g.oneOfType([g.number,g.shape({bottom:g.number.isRequired,left:g.number.isRequired,right:g.number.isRequired,top:g.number.isRequired})])},a}(f.Component);const Un=Tm;function Om(t){var a=t.children;return _.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},a)}var Am=["normal","small-caps"];function ln(t){if(!t)return"";var a=window.getComputedStyle(t);if(a.font)return a.font;var s=a.fontFamily!=="";if(!s)return"";var r=Am.includes(a.fontVariant)?a.fontVariant:"normal";return"".concat(a.fontStyle," ").concat(r," ").concat(a.fontWeight," ").concat(a.fontSize," / ").concat(a.lineHeight," ").concat(a.fontFamily)}var Hn;function Pm(t,a){var s=Hn||(Hn=document.createElement("canvas")),r=s.getContext("2d");if(!r)return null;r.font=a;var n=r.measureText(t).width;return Math.ceil(n)}function sa(t){if(typeof document>"u"||!t)return null;var a=ln(t),s=t.value||t.placeholder,r=Pm(s,a);return r===null?null:(t.style.width="".concat(r,"px"),r)}var cn=typeof document<"u",Fm=cn?f.useLayoutEffect:f.useEffect,Em=cn&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Im=cn&&/Firefox/.test(navigator.userAgent);function Lm(t){var a=t.target;Em?requestAnimationFrame(function(){return a.select()}):a.select()}function Mm(t){if(document.readyState==="complete")return;function a(){sa(t)}window.addEventListener("load",a)}function Wm(t){if(!document.fonts)return;var a=ln(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function r(){sa(t)}document.fonts.addEventListener("loadingdone",r)}function Rm(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function zm(t){if(t!==null)return function(s){if(!Im){var r=s.key,n=s.target,l=n.value,i=r.length===1&&/\d/.test(r),o=Rm(n);(!i||!(o||l.length<t))&&s.preventDefault()}}}function on(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.max,o=t.min,c=t.name,u=t.nameForClass,d=t.onChange,x=t.onKeyDown,m=t.onKeyUp,h=t.placeholder,v=h===void 0?"--":h,y=t.required,b=t.showLeadingZeros,j=t.step,p=t.value;Fm(function(){!l||!l.current||(sa(l.current),Mm(l.current),Wm(l.current))},[l,p]);var N=b&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),O=i?i.toString().length:null;return _.createElement(_.Fragment,null,N?_.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,_.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(u||c),N&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:o,name:c,onChange:d,onFocus:Lm,onKeyDown:x,onKeyPress:zm(O),onKeyUp:function(A){sa(A.target),m&&m(A)},placeholder:v,ref:l,required:y,step:j,type:"number",value:p!==null?p:""}))}function _i(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Ls(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(_i))}function Ms(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(_i))}var Nr=globalThis&&globalThis.__assign||function(){return Nr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Nr.apply(this,arguments)},qm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Um(t){var a=t.maxDate,s=t.minDate,r=t.month,n=t.year,l=qm(t,["maxDate","minDate","month","year"]),i=function(){return r?Xr(new Date(Number(n),Number(r)-1,1)):31}();function o(d){return n===se(d).toString()&&r===Wt(d).toString()}var c=Ls(i,a&&o(a)&&qt(a)),u=Ms(1,s&&o(s)&&qt(s));return _.createElement(on,Nr({max:c,min:u,name:"day"},l))}var wr=globalThis&&globalThis.__assign||function(){return wr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},wr.apply(this,arguments)},Hm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Km(t){var a=t.maxDate,s=t.minDate,r=t.year,n=Hm(t,["maxDate","minDate","year"]);function l(c){return c&&r===se(c).toString()}var i=Ls(12,a&&l(a)&&Wt(a)),o=Ms(1,s&&l(s)&&Wt(s));return _.createElement(on,wr({max:i,min:o,name:"month"},n))}var Zs=new Map;function $m(t){return function(s,r){var n=s||Ma();Zs.has(n)||Zs.set(n,new Map);var l=Zs.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}function Vm(t){var a=new Date(t);return new Date(a.setHours(12))}function Si(t){return function(a,s){return $m(t)(a,Vm(s))}}var Bm={month:"long"},Ym={month:"short"},Qm=Si(Bm),Gm=Si(Ym),Zm=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))};function Xm(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.locale,o=t.maxDate,c=t.minDate,u=t.onChange,d=t.onKeyDown,x=t.placeholder,m=x===void 0?"--":x,h=t.required,v=t.short,y=t.value,b=t.year;function j(E){return E&&b===se(E).toString()}var p=Ls(12,o&&j(o)&&Wt(o)),N=Ms(1,c&&j(c)&&Wt(c)),O=Zm([],Array(12),!0).map(function(E,I){return new Date(2019,I,1)}),A="month",M=v?Gm:Qm;return _.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(A)),"data-input":"true","data-select":"true",disabled:n,name:A,onChange:u,onKeyDown:d,ref:l,required:h,value:y!==null?y:""},!y&&_.createElement("option",{value:""},m),O.map(function(E){var I=Wt(E),S=I<N||I>p;return _.createElement("option",{key:I,disabled:S,value:I},M(i,E))}))}var _r=globalThis&&globalThis.__assign||function(){return _r=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_r.apply(this,arguments)},Jm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function ex(t){var a=t.maxDate,s=t.minDate,r=t.placeholder,n=r===void 0?"----":r,l=t.valueType,i=Jm(t,["maxDate","minDate","placeholder","valueType"]),o=Ls(275760,a&&se(a)),c=Ms(1,s&&se(s)),u=function(){return l==="century"?10:1}();return _.createElement(on,_r({max:o,min:c,name:"year",placeholder:n,step:u},i))}var dn=typeof document<"u",tx=dn?f.useLayoutEffect:f.useEffect,ax=dn&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),sx=dn&&/Firefox/.test(navigator.userAgent);function rx(t){var a=t.target;ax?requestAnimationFrame(function(){return a.select()}):a.select()}function nx(t){if(document.readyState==="complete")return;function a(){sa(t)}window.addEventListener("load",a)}function lx(t){if(!document.fonts)return;var a=ln(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function r(){sa(t)}document.fonts.addEventListener("loadingdone",r)}function ix(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function cx(t){if(t!==null)return function(s){if(!sx){var r=s.key,n=s.target,l=n.value,i=r.length===1&&/\d/.test(r),o=ix(n);(!i||!(o||l.length<t))&&s.preventDefault()}}}function Ws(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.max,o=t.min,c=t.name,u=t.nameForClass,d=t.onChange,x=t.onKeyDown,m=t.onKeyUp,h=t.placeholder,v=h===void 0?"--":h,y=t.required,b=t.showLeadingZeros,j=t.step,p=t.value;tx(function(){!l||!l.current||(sa(l.current),nx(l.current),lx(l.current))},[l,p]);var N=b&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),O=i?i.toString().length:null;return _.createElement(_.Fragment,null,N?_.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,_.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(u||c),N&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:o,name:c,onChange:d,onFocus:rx,onKeyDown:x,onKeyPress:cx(O),onKeyUp:function(A){sa(A.target),m&&m(A)},placeholder:v,ref:l,required:y,step:j,type:"number",value:p!==null?p:""}))}function Va(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}var Xs=new Map;function ox(t){return function(s,r){var n=s||Ma();Xs.has(n)||Xs.set(n,new Map);var l=Xs.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}var dx=["9",""],Kn=new RegExp("[".concat(dx.join(""),"]")),$n=ox({hour:"numeric"});function ux(t){var a=$n(t,new Date(2017,0,1,9)),s=$n(t,new Date(2017,0,1,21)),r=a.split(Kn),n=r[0],l=r[1],i=s.split(Kn),o=i[0],c=i[1];if(c!==void 0){if(n!==o)return[n,o].map(function(u){return u.trim()});if(l!==c)return[l,c].map(function(u){return u.trim()})}return["AM","PM"]}function Ci(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Rs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Ci))}function zs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Ci))}var Sr=globalThis&&globalThis.__assign||function(){return Sr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Sr.apply(this,arguments)},mx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function xx(t){var a=t.amPm,s=t.maxTime,r=t.minTime,n=t.value,l=mx(t,["amPm","maxTime","minTime","value"]),i=Rs(12,s&&function(){var u=Va(Be(s)),d=u[0],x=u[1];return x!==a?null:d}()),o=zs(1,r&&function(){var u=Va(Be(r)),d=u[0],x=u[1];return x!==a||d===12?null:d}()),c=n?Va(n)[0].toString():"";return _.createElement(Ws,Sr({max:i,min:o,name:"hour12",nameForClass:"hour",value:c},l))}var Cr=globalThis&&globalThis.__assign||function(){return Cr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Cr.apply(this,arguments)},hx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function fx(t){var a=t.maxTime,s=t.minTime,r=hx(t,["maxTime","minTime"]),n=Rs(23,a&&Be(a)),l=zs(0,s&&Be(s));return _.createElement(Ws,Cr({max:n,min:l,name:"hour24",nameForClass:"hour"},r))}var kr=globalThis&&globalThis.__assign||function(){return kr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},kr.apply(this,arguments)},px=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function gx(t){var a=t.hour,s=t.maxTime,r=t.minTime,n=t.showLeadingZeros,l=n===void 0?!0:n,i=px(t,["hour","maxTime","minTime","showLeadingZeros"]);function o(d){return a===Be(d).toString()}var c=Rs(59,s&&o(s)&&Rt(s)),u=zs(0,r&&o(r)&&Rt(r));return _.createElement(Ws,kr({max:c,min:u,name:"minute",showLeadingZeros:l},i))}var Dr=globalThis&&globalThis.__assign||function(){return Dr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Dr.apply(this,arguments)},vx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function jx(t){var a=t.hour,s=t.maxTime,r=t.minTime,n=t.minute,l=t.showLeadingZeros,i=l===void 0?!0:l,o=vx(t,["hour","maxTime","minTime","minute","showLeadingZeros"]);function c(x){return a===Be(x).toString()&&n===Rt(x).toString()}var u=Rs(59,s&&c(s)&&ga(s)),d=zs(0,r&&c(r)&&ga(r));return _.createElement(Ws,Dr({max:u,min:d,name:"second",showLeadingZeros:i},o))}function yx(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.locale,o=t.maxTime,c=t.minTime,u=t.onChange,d=t.onKeyDown,x=t.required,m=t.value,h=c?Va(Be(c))[1]==="pm":!1,v=o?Va(Be(o))[1]==="am":!1,y="amPm",b=ux(i),j=b[0],p=b[1];return _.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(y)),"data-input":"true","data-select":"true",disabled:n,name:y,onChange:u,onKeyDown:d,ref:l,required:x,value:m!==null?m:""},!m&&_.createElement("option",{value:""},"--"),_.createElement("option",{disabled:h,value:"am"},j),_.createElement("option",{disabled:v,value:"pm"},p))}function bx(t){var a=t.ariaLabel,s=t.disabled,r=t.maxDate,n=t.minDate,l=t.name,i=t.onChange,o=t.required,c=t.value,u=t.valueType,d=function(){switch(u){case"hour":return function(h){return"".concat(or(h),"T").concat(Be(h),":00")};case"minute":return function(h){return"".concat(or(h),"T").concat(Bd(h))};case"second":return Yd;default:throw new Error("Invalid valueType")}}(),x=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function m(h){h.stopPropagation()}return _.createElement("input",{"aria-label":a,disabled:s,hidden:!0,max:r?d(r):void 0,min:n?d(n):void 0,name:l,onChange:i,onFocus:m,required:o,step:x,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:c?d(c):""})}var Js=new Map;function _s(t){return function(s,r){var n=s||Ma();Js.has(n)||Js.set(n,new Map);var l=Js.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}var er=new Map;function Nx(t){return function(a,s){var r=a||Ma();er.has(r)||er.set(r,new Map);var n=er.get(r);return n.has(t)||n.set(t,new Intl.NumberFormat(r||void 0,t).format),n.get(t)(s)}}var wx={day:"numeric",month:"numeric",year:"numeric"},_x=_s(wx);function Vn(t,a){var s=Number(t);return a==="am"&&s===12?s=0:a==="pm"&&s<12&&(s+=12),s}function Sx(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}function Cx(t,a,s){return a&&a>t?a:s&&s<t?s:t}var kx=["9",""],Bn=new RegExp("[".concat(kx.join(""),"]")),Yn=_s({hour:"numeric"});function Dx(t){var a=Yn(t,new Date(2017,0,1,9)),s=Yn(t,new Date(2017,0,1,21)),r=a.split(Bn),n=r[0],l=r[1],i=s.split(Bn),o=i[0],c=i[1];if(c!==void 0){if(n!==o)return[n,o].map(function(u){return u.trim()});if(l!==c)return[l,c].map(function(u){return u.trim()})}return["AM","PM"]}var mt=globalThis&&globalThis.__assign||function(){return mt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},mt.apply(this,arguments)},Qn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},hs={},Ba=new Date;Ba.setFullYear(1,0,1);Ba.setHours(0,0,0,0);var tr=new Date(864e13),Tx=["hour","minute","second"];function ki(t){return t instanceof Date?t:new Date(t)}function Gn(t,a,s,r){return a===se(t).toString()&&s===Wt(t).toString()&&r===qt(t).toString()}function Ox(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var r=ki(s);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function Ax(t,a){var s=t.value,r=t.minDate,n=t.maxDate,l=Ox(s,a);return l?Cx(l,r,n):null}var Px=function(t){return Ax(t,0)};function Fx(t){return t.dataset.input==="true"}function Zn(t,a){var s=t;do s=s[a];while(s&&!Fx(s));return s}function ar(t){t&&t.focus()}function Ex(t,a,s){var r=[],n=new RegExp(Object.keys(a).map(function(i){return"".concat(i,"+")}).join("|"),"g"),l=t.match(n);return t.split(n).reduce(function(i,o,c){var u=o&&_.createElement(Om,{key:"separator_".concat(c)},o),d=Qn(Qn([],i,!0),[u],!1),x=l&&l[c];if(x){var m=a[x]||a[Object.keys(a).find(function(h){return x.match(h)})];if(!m)return d;!s&&r.includes(m)?d.push(x):(d.push(m(x,c)),r.push(m))}return d},[])}var fs=Nx({useGrouping:!1});function Ix(t){var a=t.amPmAriaLabel,s=t.autoFocus,r=t.className,n=t.dayAriaLabel,l=t.dayPlaceholder,i=t.disabled,o=t.format,c=t.hourAriaLabel,u=t.hourPlaceholder,d=t.isWidgetOpen,x=t.locale,m=t.maxDate,h=t.maxDetail,v=h===void 0?"minute":h,y=t.minDate,b=t.minuteAriaLabel,j=t.minutePlaceholder,p=t.monthAriaLabel,N=t.monthPlaceholder,O=t.name,A=O===void 0?"datetime":O,M=t.nativeInputAriaLabel,E=t.onChange,I=t.onInvalidChange,S=t.required,P=t.secondAriaLabel,F=t.secondPlaceholder,R=t.showLeadingZeros,K=t.value,B=t.yearAriaLabel,H=t.yearPlaceholder,w=f.useState(null),Y=w[0],le=w[1],W=f.useState(null),G=W[0],me=W[1],xe=f.useState(null),he=xe[0],Z=xe[1],Te=f.useState(null),Ie=Te[0],Le=Te[1],Ae=f.useState(null),De=Ae[0],He=Ae[1],Ne=f.useState(null),je=Ne[0],$=Ne[1],Q=f.useState(null),ve=Q[0],ye=Q[1],ot=f.useState(null),dt=ot[0],ia=ot[1],Ca=f.useRef(null),ca=f.useRef(null),oa=f.useRef(null),Pe=f.useRef(null),Ot=f.useRef(null),da=f.useRef(null),Ke=f.useRef(null),At=f.useRef(null),Ht=f.useRef(null),vt=f.useState(d),Pt=vt[0],ua=vt[1],Kt=f.useRef();f.useEffect(function(){ua(d)},[d]),f.useEffect(function(){var k=Px({value:K,minDate:y,maxDate:m});k?(le(Sx(Be(k))[1]),me(se(k).toString()),Z(Wt(k).toString()),Le(qt(k).toString()),He(Be(k).toString()),$(Rt(k).toString()),ye(ga(k).toString()),ia(ki(k))):(le(null),me(null),Z(null),Le(null),He(null),$(null),ye(null),ia(null))},[K,y,m,Pt]);var $t=v,ka=function(){var k=Tx.indexOf(v),T=hs[k]||function(){var z={hour:"numeric"};return k>=1&&(z.minute="numeric"),k>=2&&(z.second="numeric"),hs[k]=z,z}();return _s(T)}(),ma=function(){var k=2017,T=11,z=11,q=new Date(k,T,z),we=_x(x,q),_e=["year","month","day"],Ze=["y","M","d"];function Et(It,pa){var Qt=hs[It]||function(){var Lt,lt=(Lt={},Lt[It]="numeric",Lt);return hs[It]=lt,lt}();return _s(Qt)(x,pa).match(/\d{1,}/)}var at=we;return _e.forEach(function(It,pa){var Qt=Et(It,q);if(Qt){var Lt=Qt[0],lt=Ze[pa];at=at.replace(Lt,lt)}}),at=at.replace("17","y"),at}(),ut=function(){var k=21,T=9,z=13,q=14,we=new Date(2017,0,1,k,z,q);return ka(x,we).replace(fs(x,T),"h").replace(fs(x,k),"H").replace(fs(x,z),"mm").replace(fs(x,q),"ss").replace(new RegExp(Dx(x).join("|")),"a")}(),Ft=o||"".concat(ma,"").concat(ut),xa=function(){var k=ma.match(/[^0-9a-z]/i);return k?k[0]:null}(),za=function(){var k=ut.match(/[^0-9a-z]/i);return k?k[0]:null}(),Vt=function(){if(m&&Gn(m,G,he,Ie))return cr(m||tr)}(),qa=function(){if(y&&Gn(y,G,he,Ie))return cr(y||Ba)}();function ha(k){if(k.target===k.currentTarget){var T=k.target.children[1];ar(T)}}function Se(k){switch(Kt.current=k.key,k.key){case"ArrowLeft":case"ArrowRight":case xa:case za:{k.preventDefault();var T=k.target,z=k.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",q=Zn(T,z);ar(q);break}}}function Ce(k){var T=k.key,z=k.target,q=Kt.current===T;if(q){var we=!isNaN(Number(T));if(we){var _e=z.getAttribute("max");if(_e){var Ze=z.value;if(Number(Ze)*10>Number(_e)||Ze.length>=_e.length){var Et="nextElementSibling",at=Zn(z,Et);ar(at)}}}}}function Bt(){if(!E)return;function k(We){return!!We}var T=[Ca.current,Ot.current,oa.current,Pe.current,ca.current,da.current,Ke.current,At.current,Ht.current].filter(k),z=T.slice(1),q={};T.forEach(function(We){q[We.name]=We.type==="number"?"valueAsNumber"in We?We.valueAsNumber:Number(We.value):We.value});var we=z.every(function(We){return!We.value});if(we){E(null,!1);return}var _e=T.every(function(We){return We.value}),Ze=T.every(function(We){return We.validity.valid});if(_e&&Ze){var Et=Number(q.year||new Date().getFullYear()),at=Number(q.month||1)-1,It=Number(q.day||1),pa=Number(q.hour24||q.hour12&&q.amPm&&Vn(q.hour12,q.amPm)||0),Qt=Number(q.minute||0),Lt=Number(q.second||0),lt=new Date;lt.setFullYear(Et,at,It),lt.setHours(pa,Qt,Lt,0),E(lt,!1);return}I&&I()}function ie(k){var T=k.target,z=T.name,q=T.value;switch(z){case"amPm":le(q);break;case"year":me(q);break;case"month":Z(q);break;case"day":Le(q);break;case"hour12":He(q?Vn(q,Y||"am").toString():"");break;case"hour24":He(q);break;case"minute":$(q);break;case"second":ye(q);break}Bt()}function Ge(k){var T=k.target.value;if(E){var z=function(){if(!T)return null;var q=T.split("T"),we=q[0],_e=q[1],Ze=we.split("-"),Et=Ze[0],at=Ze[1],It=Ze[2],pa=Number(Et),Qt=Number(at)-1||0,Lt=Number(It)||1,lt=_e.split(":"),We=lt[0],Ai=lt[1],Pi=lt[2],Fi=Number(We)||0,Ei=Number(Ai)||0,Ii=Number(Pi)||0,qs=new Date;return qs.setFullYear(pa,Qt,Lt),qs.setHours(Fi,Ei,Ii,0),qs}();E(z,!1)}}var Je={className:r,disabled:i,maxDate:m||tr,minDate:y||Ba,onChange:ie,onKeyDown:Se,onKeyUp:Ce,required:!!(S||Pt)},V={maxTime:Vt,minTime:qa};function X(k,T){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var z=k&&k.length===2;return _.createElement(Um,mt({key:"day"},Je,{ariaLabel:n,autoFocus:T===0&&s,inputRef:Ot,month:he,placeholder:l,showLeadingZeros:z||R,value:Ie,year:G}))}function Fe(k,T){if(k&&k.length>4)throw new Error("Unsupported token: ".concat(k));if(k.length>2)return _.createElement(Xm,mt({key:"month"},Je,{ariaLabel:p,autoFocus:T===0&&s,inputRef:Pe,locale:x,placeholder:N,short:k.length===3,value:he,year:G}));var z=k&&k.length===2;return _.createElement(Km,mt({key:"month"},Je,{ariaLabel:p,autoFocus:T===0&&s,inputRef:oa,placeholder:N,showLeadingZeros:z||R,value:he,year:G}))}function Me(k,T){return _.createElement(ex,mt({key:"year"},Je,{ariaLabel:B,autoFocus:T===0&&s,inputRef:ca,placeholder:H,value:G,valueType:"day"}))}function be(k,T){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var z=k?k.length===2:!1;return _.createElement(xx,mt({key:"hour12"},Je,V,{amPm:Y,ariaLabel:c,autoFocus:T===0&&s,inputRef:da,placeholder:u,showLeadingZeros:z,value:De}))}function et(k,T){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var z=k?k.length===2:!1;return _.createElement(fx,mt({key:"hour24"},Je,V,{ariaLabel:c,autoFocus:T===0&&s,inputRef:Ke,placeholder:u,showLeadingZeros:z,value:De}))}function nt(k,T){return/h/.test(k)?be(k,T):et(k,T)}function tt(k,T){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var z=k?k.length===2:!1;return _.createElement(gx,mt({key:"minute"},Je,V,{ariaLabel:b,autoFocus:T===0&&s,hour:De,inputRef:At,placeholder:j,showLeadingZeros:z,value:je}))}function Ua(k,T){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var z=k?k.length===2:!0;return _.createElement(jx,mt({key:"second"},Je,V,{ariaLabel:P,autoFocus:T===0&&s,hour:De,inputRef:Ht,minute:je,placeholder:F,showLeadingZeros:z,value:ve}))}function Yt(k,T){return _.createElement(yx,mt({key:"ampm"},Je,V,{ariaLabel:a,autoFocus:T===0&&s,inputRef:Ca,locale:x,onChange:ie,value:Y}))}function fa(){var k={d:X,M:Fe,y:Me,h:nt,H:nt,m:tt,s:Ua,a:Yt},T=typeof o<"u";return Ex(Ft,k,T)}function Da(){return _.createElement(bx,{key:"datetime",ariaLabel:M,disabled:i,maxDate:m||tr,minDate:y||Ba,name:A,onChange:Ge,required:S,value:dt,valueType:$t})}return _.createElement("div",{className:r,onClick:ha},Da(),fa())}var Lx=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},Mx=["hour","minute","second"],Wx=Lx([],Mx,!0),Rx=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.maxDate;return o&&i>o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},zx=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.minDate;return o&&i<o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null};g.oneOf(Wx);var qx=function(t){return g.arrayOf(t)},Zt=globalThis&&globalThis.__assign||function(){return Zt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Zt.apply(this,arguments)},sr=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Ux=typeof document<"u",$e="react-datetime-picker",Hx=["mousedown","focusin","touchstart"],Di=["hour","minute","second"],Ti={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Kx=_.createElement("svg",Zt({},Ti,{className:"".concat($e,"__calendar-button__icon ").concat($e,"__button__icon")}),_.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),_.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),_.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),$x=_.createElement("svg",Zt({},Ti,{className:"".concat($e,"__clear-button__icon ").concat($e,"__button__icon")}),_.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),_.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),un=function(a){var s=a.amPmAriaLabel,r=a.autoFocus,n=a.calendarAriaLabel,l=a.calendarIcon,i=l===void 0?Kx:l,o=a.className,c=a.clearAriaLabel,u=a.clearIcon,d=u===void 0?$x:u,x=a.closeWidgets,m=x===void 0?!0:x,h=a["data-testid"],v=a.dayAriaLabel,y=a.dayPlaceholder,b=a.disableCalendar,j=a.disableClock,p=a.disabled,N=a.format,O=a.hourAriaLabel,A=a.hourPlaceholder,M=a.id,E=a.isCalendarOpen,I=E===void 0?null:E,S=a.isClockOpen,P=S===void 0?null:S,F=a.locale,R=a.maxDate,K=a.maxDetail,B=K===void 0?"minute":K,H=a.minDate,w=a.minuteAriaLabel,Y=a.minutePlaceholder,le=a.monthAriaLabel,W=a.monthPlaceholder,G=a.name,me=G===void 0?"datetime":G,xe=a.nativeInputAriaLabel,he=a.onCalendarClose,Z=a.onCalendarOpen,Te=a.onChange,Ie=a.onClockClose,Le=a.onClockOpen,Ae=a.onFocus,De=a.onInvalidChange,He=a.openWidgetsOnFocus,Ne=He===void 0?!0:He,je=a.required,$=a.secondAriaLabel,Q=a.secondPlaceholder,ve=a.shouldCloseWidgets,ye=a.shouldOpenWidgets,ot=a.showLeadingZeros,dt=a.value,ia=a.yearAriaLabel,Ca=a.yearPlaceholder,ca=sr(a,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),oa=f.useState(I),Pe=oa[0],Ot=oa[1],da=f.useState(P),Ke=da[0],At=da[1],Ht=f.useRef(null),vt=f.useRef(null),Pt=f.useRef(null);f.useEffect(function(){Ot(I)},[I]),f.useEffect(function(){At(P)},[P]);function ua(V){var X=V.reason;ye&&!ye({reason:X,widget:"calendar"})||(At(Ke&&!1),Ot(!0),Z&&Z())}var Kt=f.useCallback(function(V){var X=V.reason;ve&&!ve({reason:X,widget:"calendar"})||(Ot(!1),he&&he())},[he,ve]);function $t(){Pe?Kt({reason:"buttonClick"}):ua({reason:"buttonClick"})}function ka(V){var X=V.reason;ye&&!ye({reason:X,widget:"clock"})||(Ot(Pe&&!1),At(!0),Le&&Le())}var ma=f.useCallback(function(V){var X=V.reason;ve&&!ve({reason:X,widget:"clock"})||(At(!1),Ie&&Ie())},[Ie,ve]),ut=f.useCallback(function(V){var X=V.reason;Kt({reason:X}),ma({reason:X})},[Kt,ma]);function Ft(V,X){X===void 0&&(X=m),X&&ut({reason:"select"}),Te&&Te(V)}function xa(V,X){var Fe=(Array.isArray(V)?V:[V])[0],Me=(Array.isArray(dt)?dt:[dt])[0];if(Me&&Fe){var be=new Date(Me),et=new Date(Fe);et.setHours(be.getHours(),be.getMinutes(),be.getSeconds(),be.getMilliseconds()),Ft(et,X)}else Ft(Fe,X)}function za(V){if(Ae&&Ae(V),!(p||!Ne||V.target.dataset.select==="true"))switch(V.target.name){case"day":case"month":case"year":{if(Pe)return;ua({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(Ke)return;ka({reason:"focus"});break}}}var Vt=f.useCallback(function(V){V.key==="Escape"&&ut({reason:"escape"})},[ut]);function qa(){Ft(null)}function ha(V){V.stopPropagation()}var Se=f.useCallback(function(V){var X=Ht.current,Fe=vt.current,Me=Pt.current,be="composedPath"in V?V.composedPath()[0]:V.target;be&&X&&!X.contains(be)&&(!Fe||!Fe.contains(be))&&(!Me||!Me.contains(be))&&ut({reason:"outsideAction"})},[vt,Pt,ut,Ht]),Ce=f.useCallback(function(V){V===void 0&&(V=Pe||Ke),Hx.forEach(function(X){V?document.addEventListener(X,Se):document.removeEventListener(X,Se)}),V?document.addEventListener("keydown",Vt):document.removeEventListener("keydown",Vt)},[Pe,Ke,Se,Vt]);f.useEffect(function(){return Ce(),function(){Ce(!1)}},[Ce]);function Bt(){var V=(Array.isArray(dt)?dt:[dt])[0],X={amPmAriaLabel:s,dayAriaLabel:v,hourAriaLabel:O,minuteAriaLabel:w,monthAriaLabel:le,nativeInputAriaLabel:xe,secondAriaLabel:$,yearAriaLabel:ia},Fe={dayPlaceholder:y,hourPlaceholder:A,minutePlaceholder:Y,monthPlaceholder:W,secondPlaceholder:Q,yearPlaceholder:Ca};return _.createElement("div",{className:"".concat($e,"__wrapper")},_.createElement(Ix,Zt({},X,Fe,{autoFocus:r,className:"".concat($e,"__inputGroup"),disabled:p,format:N,isWidgetOpen:Pe||Ke,locale:F,maxDate:R,maxDetail:B,minDate:H,name:me,onChange:Ft,onInvalidChange:De,required:je,showLeadingZeros:ot,value:V})),d!==null&&_.createElement("button",{"aria-label":c,className:"".concat($e,"__clear-button ").concat($e,"__button"),disabled:p,onClick:qa,onFocus:ha,type:"button"},typeof d=="function"?_.createElement(d):d),i!==null&&!b&&_.createElement("button",{"aria-label":n,className:"".concat($e,"__calendar-button ").concat($e,"__button"),disabled:p,onClick:$t,onFocus:ha,type:"button"},typeof i=="function"?_.createElement(i):i))}function ie(){if(Pe===null||b)return null;var V=a.calendarClassName;a.className,a.maxDetail,a.onChange;var X=a.portalContainer,Fe=a.value,Me=sr(a,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),be="".concat($e,"__calendar"),et=it(be,"".concat(be,"--").concat(Pe?"open":"closed")),nt=_.createElement(hm,Zt({className:V,onChange:function(tt){return xa(tt)},value:Fe},Me));return X?nr.createPortal(_.createElement("div",{ref:vt,className:et},nt),X):_.createElement(Un,null,_.createElement("div",{ref:function(tt){tt&&!Pe&&tt.removeAttribute("style")},className:et},nt))}function Ge(){if(Ke===null||j)return null;var V=a.clockClassName;a.className;var X=a.maxDetail,Fe=X===void 0?"minute":X;a.onChange;var Me=a.portalContainer,be=a.value,et=sr(a,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),nt="".concat($e,"__clock"),tt=it(nt,"".concat(nt,"--").concat(Ke?"open":"closed")),Ua=(Array.isArray(be)?be:[be])[0],Yt=Di.indexOf(Fe),fa=_.createElement(bm,Zt({className:V,renderMinuteHand:Yt>0,renderSecondHand:Yt>1,value:Ua},et));return Me?nr.createPortal(_.createElement("div",{ref:Pt,className:tt},fa),Me):_.createElement(Un,null,_.createElement("div",{ref:function(Da){Da&&!Ke&&Da.removeAttribute("style")},className:tt},fa))}var Je=f.useMemo(function(){return Go(ca)},[ca]);return _.createElement("div",Zt({className:it($e,"".concat($e,"--").concat(Pe||Ke?"open":"closed"),"".concat($e,"--").concat(p?"disabled":"enabled"),o),"data-testid":h,id:M},Je,{onFocus:za,ref:Ht}),Bt(),ie(),Ge())},Xn=g.oneOfType([g.string,g.instanceOf(Date)]),Vx=g.oneOfType([Xn,qx(Xn)]);un.propTypes={amPmAriaLabel:g.string,autoFocus:g.bool,calendarAriaLabel:g.string,calendarClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),calendarIcon:g.oneOfType([g.node,g.func]),className:g.oneOfType([g.string,g.arrayOf(g.string)]),clearAriaLabel:g.string,clearIcon:g.oneOfType([g.node,g.func]),clockClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),closeWidgets:g.bool,"data-testid":g.string,dayAriaLabel:g.string,dayPlaceholder:g.string,disableCalendar:g.bool,disableClock:g.bool,disabled:g.bool,format:g.string,hourAriaLabel:g.string,hourPlaceholder:g.string,id:g.string,isCalendarOpen:g.bool,isClockOpen:g.bool,locale:g.string,maxDate:zx,maxDetail:g.oneOf(Di),minDate:Rx,minuteAriaLabel:g.string,minutePlaceholder:g.string,monthAriaLabel:g.string,monthPlaceholder:g.string,name:g.string,nativeInputAriaLabel:g.string,onCalendarClose:g.func,onCalendarOpen:g.func,onChange:g.func,onClockClose:g.func,onClockOpen:g.func,onFocus:g.func,openWidgetsOnFocus:g.bool,required:g.bool,secondAriaLabel:g.string,secondPlaceholder:g.string,showLeadingZeros:g.bool,value:Vx,yearAriaLabel:g.string,yearPlaceholder:g.string};Ux&&(un.propTypes.portalContainer=g.instanceOf(HTMLElement));const ts=un,Bx=({onClose:t})=>{const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,handleSubmit:c,handleChange:u,handleChangeSelect:d,handleChangeDateTime:x}=Zc(),{warehouses:m}=ra(),{auth:h}=ge();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:v=>{v.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(re,{name:"id",value:s,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Created by"}),e.jsx(re,{name:"created_by",placeholder:"User ID",value:h.user.firstname+" "+h.user.lastname,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Source"}),e.jsxs(ce,{onValueChange:v=>d("source",Number(v)),required:!0,name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((v,y)=>e.jsxs(U,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code+"  "+v.location})]},y))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Destination"}),e.jsxs(ce,{onValueChange:v=>d("destination",Number(v)),required:!0,name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((v,y)=>e.jsxs(U,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code+"  "+v.location})]},v.code))})]})]})]}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12 justify-center",children:e.jsxs("div",{className:"flex flex-col col-span-10 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Schedule"}),e.jsx(ts,{onChange:v=>x("transfer_schedule",v),format:"yyyy-M-d H:m",minDate:new Date,value:o,required:!0})]})}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12",children:e.jsxs("div",{className:"flex flex-col gap-1 col-span-12 w-full",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Notes:"}),e.jsx(Er,{name:"notes",onChange:u,value:a.notes||"",placeholder:"Add notes here...."})]})}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:r?"green":null,disabled:!r,onClick:c,children:n?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Yx=({onClose:t})=>{var E,I,S,P,F,R,K,B,H;const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,dateDisplayArrived:c,handleSubmit:u,handleChange:d,handleChangeSelect:x,handleChangeDateTime:m}=Fl(),{selectedTransfer:h,transferProducts:v}=gt(),{warehouses:y}=ra(),{users:b}=ml(),{auth:j}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:w=>x("approval_status",w),name:"approval_status",value:a.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(U,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(U,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),v.filter(w=>w.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(qr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),N=e.jsxs(ce,{onValueChange:w=>x("source",Number(w)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=y[a.source-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(I=y[a.source-1])==null?void 0:I.code," ",""," ",(S=y[a.source-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((w,Y)=>e.jsxs(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${w.id===a.source&&"selected"}`,children:[w.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+w.code+"  "+w.location})]},Y))})]}),O=e.jsxs(ce,{onValueChange:w=>x("destination",Number(w)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(P=y[a.destination-1])==null?void 0:P.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=y[a.destination-1])==null?void 0:F.code," ",""," ",(R=y[a.destination-1])==null?void 0:R.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((w,Y)=>e.jsxs(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${w.id===a.destination&&"selected"}`,children:[w.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+w.code+"  "+w.location})]},w.code))})]}),A=e.jsx(ce,{onValueChange:w=>x("transfer_status",w),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(U,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(U,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),M=e.jsxs(ce,{onValueChange:w=>x("received_by",Number(w)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?b[Number(a.received_by)-1].firstname+" "+b[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((w,Y)=>e.jsx(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${w.id===a.received_by&&"selected"}`,children:w.firstname+" "+w.lastname},Y))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:w=>{w.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),N]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),O]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((K=a.approval_status)==null?void 0:K.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"})]}),((B=a.approval_status)==null?void 0:B.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"})]}),j.rolePermissions.some(w=>w.permission_id===22)?((H=a.approval_status)==null?void 0:H.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:b.length>0?b[a.approved_by-1].firstname+" "+b[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:A})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(ts,{onChange:w=>m("transfer_schedule",w),value:o,format:"yyyy-M-d H:mm",minDate:o,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:M})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(ts,{onChange:w=>m("date_received",w),value:c,format:"yyyy-M-d H:mm",minDate:o})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Er,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:d})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:r?"green":null,disabled:!r,onClick:u,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Qx=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,selectedTransfer:n,setSelectedTransfer:l,selectedProduct:i,setSelectedProduct:o}=gt();ge();const c=s.filter(x=>x.transfer_id===n.id),u=()=>{t({},"add")},d=[{id:"select",header:({table:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsAllPageRowsSelected(),onChange:m=>x.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsSelected(),onChange:m=>x.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{id:"product_name",sortingFn:"text",enableSorting:!0,header:({column:x})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>x.toggleSorting(x.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["PRODUCT NAME ",x.getIsSorted()==="asc"?e.jsx(ee,{}):x.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:x})=>e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:x.original.product.name})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES COUNT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_count})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_unit})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY PER BUNDLE"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.quantity_per_bundle})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"text-center",children:"UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.unit})},{accessorKey:"total_quantity",header:()=>e.jsx("div",{className:"text-center",children:"TOTAL QUANTITY"}),cell:({row:x})=>e.jsxs("div",{className:"text-center",children:[x.original.total_quantity," ",x.original.unit]})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:x})=>(x.original,n.transfer_status!="arrived"&&n.approval_status!="rejected"&&e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:e.jsx(D,{fill:"yellow",textColor:"black",children:"Edit Product"})}))}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:c,columns:d,filterWhat:"product_name",dataType:"Transfer Products",openModal:n.transfer_status!="arrived"&&n.approval_status!="rejected"?u:void 0,isLoading:r})})},Gx=({onClose:t})=>{const{product:a,allProducts:s,allInventoryProducts:r,filteredProductsSrc:n,bundlesLimit:l,quantityLimit:i,damagedCount:o,isChanged:c,isSubmitting:u,error:d,success:x,handleSubmit:m,handleChange:h,handleChangeSelect:v}=Xc();ge();const y=a.capital_price?a.capital_price:0,b=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(y);return x&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:j=>{j.preventDefault()},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Product ID"}),e.jsx(re,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(re,{name:"created_by",placeholder:"User ID",value:a.transfer_id,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Product to transfer:"}),e.jsxs(ce,{onValueChange:j=>v("product_id",Number(j.split("-")[0]),Number(j.split("-")[1])),required:!0,name:"product_id",children:[e.jsx(oe,{name:"product_id",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose product..."})}),e.jsx(ue,{className:"bg-white font-medium",children:n.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):n.map((j,p)=>e.jsx(U,{value:j.product.id?j.product.id.toString()+"-"+p.toString():"",className:"text-sm font-medium text-slate-700",children:j.product.name},p))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Capital Price:"}),e.jsx(re,{name:"capital_price",type:"string",value:b,onChange:h,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES COUNT"}),e.jsx(re,{name:"bundles_count",type:"number",value:a.bundles_count||"",placeholder:`Available stocks: ${l}`,max:l,onChange:h,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES UNIT"}),e.jsx(re,{name:"bundles_unit",type:"string",value:a.bundles_unit||"",placeholder:"box, bundle, etc.",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"QUANTITY PER BUNDLE"}),e.jsx(re,{name:"quantity_per_bundle",type:"number",value:a.quantity_per_bundle||"",placeholder:"Quantity per bundle",onChange:h,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"UNIT"}),e.jsx(re,{name:"unit",type:"string",value:a.unit||"",placeholder:"box, pieces, etc.",disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"TOTAL QUANTITY"}),e.jsx(re,{name:"total_quantity",type:"string",value:a.total_quantity&&a.unit?a.total_quantity.toString()+" "+a.unit.toString():"",placeholder:`Available stocks: ${i}`,onChange:h,disabled:!0,readOnly:!0})]}),a.total_quantity!=0&&o!=0&&a.total_quantity==i&&e.jsxs("div",{className:"grid content-center group",children:[e.jsx(qr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsxs("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-2 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:["Some damaged goods (",o," ",a.unit,") are included in the transfer."]})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:c?"green":null,disabled:!c,onClick:m,children:u?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[x&&e.jsx("div",{className:"font-bold text-green-700",children:x}),d&&e.jsx("div",{className:"font-bold text-red-700",children:d}),u?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Zx=({onClose:t})=>{const{transfers:a,transferProducts:s,isFetching:r,selectedTransfer:n,setSelectedTransfer:l}=gt(),{isOpen:i,openModal:o,closeModal:c}=Ee(),[u,d]=f.useState("");ge(),s.filter(m=>m.transfer_id===n.id);const x=(m,h)=>{o(),d(h)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(Qx,{openModal:x})}),e.jsx(qe,{title:u==="edit"?"Edit Transfer Product":"Add Transfer Product",isOpen:i,onClose:c,children:e.jsx(e.Fragment,{children:u==="add"&&e.jsx(Gx,{onClose:c})})})]})},Zh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Transfer",children:e.jsxs(xl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(To,{openModal:l})})}),e.jsx(qe,{title:r==="details"?"Transfer Details":r==="edit"?"Edit Transfer":r==="add"?"Add Transfer":"Transfer Products",isOpen:t,onClose:s,closeOnOverlayClick:r==="details",children:e.jsxs(e.Fragment,{children:[r==="details"&&e.jsx(Oo,{onClose:s}),r==="edit"&&e.jsx(Yx,{onClose:s}),r==="add"&&e.jsx(Bx,{onClose:s}),r==="products"&&e.jsx(Zx,{onClose:s})]})})]})})})};function Xx({columns:t,data:a}){var r;const s=Ic({data:a,columns:t,getCoreRowModel:Lc(),defaultColumn:{size:200,minSize:50,maxSize:500}});return e.jsx("div",{className:"rounded-md border",children:e.jsxs(hl,{children:[e.jsx(fl,{children:s.getHeaderGroups().map(n=>e.jsx(js,{children:n.headers.map(l=>e.jsx(pl,{style:{width:l.index===0?250:500},children:l.isPlaceholder?null:gn(l.column.columnDef.header,l.getContext())},l.id))},n.id))}),e.jsx(gl,{children:((r=s.getRowModel().rows)==null?void 0:r.length)&&s.getRowModel().rows.map(n=>e.jsx(js,{children:n.getVisibleCells().map(l=>e.jsx(st,{children:gn(l.column.columnDef.cell,l.getContext())},l.id))},n.id))})]})})}const Jx=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e.jsx(Bc,{width:150,height:150,color:"#888888",strokeWidth:-1}),e.jsx("span",{className:"max-w-[300px] text-center text-[#888]",children:"Start entering products / product code / serial number / brand"})]})}),eh=({})=>{const{invoiceItemsQueue:t,quantityHandler:a,formatCurrency:s,handleInvoiceItemsChange:r,handleRemoveInvoiceItem:n}=rt(),{data:l}=Ir(),{data:i}=as(),o=[{id:"orderItem",enableResizing:!1,header:()=>e.jsx("div",{className:"flex justify-center",children:"Item #"}),cell:({row:c})=>e.jsx("div",{className:"flex justify-center",children:c.index+1}),size:250},{accessorKey:"name",header:()=>e.jsx("div",{className:"justify-center",children:"Product Name"}),cell:({row:c})=>e.jsx("div",{className:"flex ",children:c.original.product_id.name})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"flex justify-center",children:"Quantity"}),cell:({row:c})=>{const u=c.index,d=l.find(x=>x.product.id===c.original.product_id.id);return e.jsx("div",{className:"flex justify-center ",children:e.jsxs("div",{className:"flex flex-row border drop-shadow-sm",children:[e.jsx(ne,{className:"rounded-sm bg-red-300 hover:bg-red-500 disabled:opacity-100",onClick:()=>{a(u,c.original.quantity-1,(d==null?void 0:d.remaining_stocks_count)??0)},disabled:c.original.quantity<=1,children:e.jsx("span",{children:"-"})}),e.jsx(L,{id:"quantity",className:"w-20 rounded-none text-center drop-shadow-none",type:"number",value:c.original.quantity||"",onChange:x=>{a(u,Number(x.target.value),d?d.remaining_stocks_count??0:0)},disabled:!(d!=null&&d.remaining_stocks_count)}),e.jsx(ne,{className:"rounded-sm bg-slate-500 hover:bg-slate-700 disabled:bg-slate-200",onClick:()=>{a(u,c.original.quantity+1,(d==null?void 0:d.remaining_stocks_count)??0)},disabled:c.original.quantity>=((d==null?void 0:d.remaining_stocks_count)??0),children:e.jsx("span",{children:"+"})})]})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center",children:"Product Price"}),cell:({row:c})=>{const u=i.find(d=>d.product.id===c.original.product_id.id);return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:s(c.original.product_price)}),u!=null&&u.sale_discount?e.jsxs("span",{className:"text-sm font-light",children:["(",s((u==null?void 0:u.sale_discount)??0),")"]}):null]})}},{accessorKey:"item_discount",header:()=>e.jsx("div",{className:"justify-center",children:"Item Discount"}),cell:({row:c})=>e.jsx("div",{children:e.jsx(L,{id:"item_discount",value:c.original.item_discount,type:"number",onChange:u=>{r(c.index,"item_discount",Number(u.target.value))}})},c.index)},{id:"total_price",accessorKey:"total_price",header:()=>e.jsx("div",{className:"justify-center",children:"Total"}),cell:({row:c})=>e.jsx("div",{className:"",children:e.jsx("span",{children:s(c.original.total_price)})}),size:250},{id:"actions",cell:({row:c})=>{const u=c.index;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsx(ne,{className:"bg-red-500 hover:bg-red-700",onClick:()=>{n(u)},children:e.jsx(Yc,{color:"#FFF"})})})}}];return e.jsx(e.Fragment,{children:t.length===0?e.jsx(Jx,{}):e.jsx(Xx,{data:t,columns:o})})},th=()=>{const t=Xe(),[a,s]=f.useState({}),r=(o,c)=>{s(u=>({...u,[o]:c}))},n=async o=>(console.log("Submitting: ",o),await i(o)),l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["customers"]}),s({})},onError:o=>{console.error("Error adding customer:",o.message)}},{mutateAsync:i}=fe({mutationKey:["addCustomer"],mutationFn:uc,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n}},ah=({onClose:t})=>{const{value:a,setValue:s,handleChange:r,handleSubmit:n}=th(),{setSelectedCustomer:l}=Ss();f.useEffect(()=>{s(d=>({...d}))},[]);const[i,o]=f.useState(!1),[c,u]=f.useState(null);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async d=>{o(!i),d.preventDefault();const x=await n(a);(x==null?void 0:x.status)===201?(o(!i),l(x.data.data),t(),console.log(x.data)):(o(!i),u("Failed to add inventory"))},children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-2 ",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"firstname",children:"First Name"}),e.jsx(L,{id:"firstname",name:"firstname",required:!0,type:"text",placeholder:"First Name",onChange:d=>r("firstname",d.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"lastname",children:"Last Name"}),e.jsx(L,{id:"lastname",name:"lastname",required:!0,type:"text",placeholder:"Last Name",onChange:d=>r("lastname",d.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(Kc,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(L,{id:"address",name:"address",type:"text",placeholder:"Address",defaultValue:"",className:"pl-10",onChange:d=>r("address",d.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"contact_no",children:"Contact Number"}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx($c,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(L,{required:!0,id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",defaultValue:"",max:11,maxLength:11,onChange:d=>r("contact_no",d.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4",children:[e.jsx(D,{onClick:()=>t(),type:"reset",className:'hover:text-white"  py-2 text-sm font-bold text-slate-700',children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:i||Object.keys(a).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Submitting...":"Add Customer"})]}),c&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:c})})]})})})},sh=({})=>{const{data:t,isLoading:a,selectedCustomer:s,setSelectedCustomer:r,openSearchCustomer:n,setOpenSearchCustomer:l}=Ss(),[i,o]=f.useState(""),{invoice:c,setInvoice:u}=rt();f.useEffect(()=>{s&&o("")},[s,n]);const{openModal:d,isOpen:x,closeModal:m}=Ee();return e.jsxs(e.Fragment,{children:[e.jsxs(mc,{open:n,onOpenChange:l,children:[e.jsx(zt,{value:i,onValueChange:o,placeholder:a?"Loading Customers":s.id?`${s.firstname} ${s.lastname}`:"Enter Customer Name"}),e.jsx(vl,{children:i?e.jsxs(e.Fragment,{children:[e.jsxs(ja,{className:"flex flex-col gap-2 py-4 pb-1 text-center text-sm",children:[e.jsx("span",{className:"font-bold uppercase",children:"Customer Not Found"}),e.jsxs(ne,{className:"flex flex-row gap-4",onClick:()=>{d(),l(!1)},children:[e.jsx(Qc,{color:"#fff"}),e.jsx("span",{className:"text-white",children:"Add Customer"})]})]}),t.map((h,v)=>e.jsx(xt,{className:"",value:h.id+""+h.firstname+" "+h.lastname,onSelect:()=>{r(h),l(!1),o(""),u({...c,customer_id:h.id})},children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:h.firstname}),e.jsx("span",{children:h.lastname})]})},v))]}):null})]}),e.jsx(qe,{isOpen:x,onClose:m,title:"Add Customer",children:e.jsx(ah,{onClose:m})})]})},rh=({})=>{const{selectedCustomer:t,setOpenSearchCustomer:a}=Ss();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-1 rounded-md bg-white p-3",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(C,{className:"text-lg font-bold uppercase text-slate-900",children:"Customer Info"}),e.jsx(ne,{onClick:()=>a(!0),size:"icon",children:e.jsx(xc,{size:18})})]}),Object.keys(t).length===0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(C,{className:"text-slate-900",children:"Full Name: "}),e.jsx("span",{className:"font-medium uppercase text-slate-950",children:t.firstname+" "+t.lastname})]}),e.jsx("div",{children:e.jsxs(C,{className:"text-slate-900",children:["Address: ",t.address]})}),e.jsx("div",{children:e.jsxs(C,{className:"text-slate-900",children:["Contact Number: ",t.contact_no]})})]})})]})})},nh=()=>{const{formatCurrency:t,invoiceItemsQueue:a}=rt(),s=a.reduce((r,n)=>r+n.total_price,0);return e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs(ht,{children:[e.jsx(ft,{asChild:!0,children:e.jsxs(ne,{variant:"outline",className:"justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Vc,{}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:a.length})})]})}),e.jsx(pt,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:a.map((r,n)=>{const l=r.total_price?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.total_price):"";return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("div",{className:"flex w-5 flex-row justify-between",children:[e.jsx("span",{className:"text-sm",children:r.quantity}),e.jsx("span",{className:"text-sm",children:"x"})]}),e.jsx("span",{className:"text-sm",children:r.product_id.name})]}),e.jsx("span",{className:"text-sm",children:l})]},n)})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Amount:"}),e.jsx("span",{className:"border-t border-t-slate-800 text-sm",children:s?t(s):"0.00"})]})]})})]})})},lh=()=>{const{invoice:t,invoiceItemsQueue:a}=rt();function s(){return t.paid_amount===0?0:(t.paid_amount??0)-a.reduce((r,n)=>r+n.total_price,0)+(t.total_discount??0)}return e.jsx(e.Fragment,{children:e.jsxs(ne,{variant:"outline",className:"justify-between hover:cursor-default hover:bg-white",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Uc,{}),e.jsx("span",{children:"Change"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:ss(Number(s()))})})]})})},ih=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=rt(),r=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(ne,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{r.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Al,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Paid Amount"})]}),e.jsx(L,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:r,id:"paid_amount",name:"paid_amount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${ss(l)}`,a("paid_amount",l)},onChange:n=>{a("paid_amount",Number(n.target.value)),a("change_amount",Number(Number(Number(n.target.value)-s.reduce((l,i)=>l+i.total_price,0)).toFixed(2))),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},ch=()=>{const{invoiceItemsQueue:t,invoice:a}=rt(),s=t.reduce((r,n)=>r+n.total_price,0)-(a.total_discount??0);return e.jsx(e.Fragment,{children:e.jsxs(ne,{variant:"outline",className:"justify-between hover:cursor-default",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(hc,{}),e.jsx("span",{children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:s?ss(s):"0.00"})})]})})},oh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=rt(),r=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(ne,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{r.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Al,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Discount Amount"})]}),e.jsx(L,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:r,id:"total_discount",name:"total_discount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${ss(l)}`,a("total_discount",l)},onChange:n=>{a("total_discount",Number(n.target.value)),a("change_amount",Number(n.target.value)-s.reduce((l,i)=>l+i.total_price,0)),a("status",Number(n.target.value)>0?"pending":"approved"),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},dh=()=>{const{handleChange:t,invoice:a}=rt();return f.useEffect(()=>{a.type==="exit"&&t("payment_method","exit")},[a.type]),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(C,{htmlFor:"payment_method",className:"text-lg uppercase text-white",children:"Payment Type"}),e.jsx(Pr,{id:"type",defaultValue:"payment",onValueChange:s=>{t("type",s)},children:e.jsxs(Fr,{className:"flex flex-row gap-1",children:[e.jsx(Ia,{value:"payment",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Payment"}),e.jsx(Ia,{value:"exit",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Exit"})]})}),a.type==="payment"&&e.jsx(e.Fragment,{children:e.jsxs(ce,{onValueChange:s=>{t("payment_method",s)},children:[e.jsx(oe,{className:"font-medium focus:ring-0 focus:ring-offset-0",children:e.jsx(de,{placeholder:"Select a payment method"})}),e.jsx(ue,{children:e.jsxs(fc,{children:[e.jsx(U,{className:"font-medium",value:"cash",children:"Cash"}),e.jsx(U,{className:"font-medium",value:"purchase_order",children:"Purchase Order"}),e.jsx(U,{className:"font-medium",value:"check",children:"Check"}),e.jsx(U,{className:"font-medium",value:"voucher",children:"Voucher"}),e.jsx(U,{className:"font-medium",value:"e-wallet",children:"E-Wallet"})]})})]})})]}),e.jsx(pc,{children:e.jsxs(gc,{children:[e.jsx(vc,{asChild:!0,children:e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Hc,{color:"black",className:"absolute top-0 translate-x-4 translate-y-2",size:24}),e.jsx(L,{id:"reference_no",name:"reference_no",type:"text",placeholder:"Reference Number",onChange:s=>{t("reference_no",Number(s.target.value))},disabled:a.payment_method!=="check"&&a.payment_method!=="voucher"&&a.payment_method!=="e-wallet"&&a.payment_method!=="purchase_order",className:"pl-[3rem] text-base font-medium disabled:opacity-100"})]})}),e.jsx(jc,{align:"center",className:"bg-pos-primary-background",side:"left",sideOffset:2,children:e.jsx("span",{className:"p-2 text-white",children:"Reference Number"})})]})})]})},uh=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(dh,{}),e.jsx(ch,{}),e.jsx(oh,{}),e.jsx(ih,{}),e.jsx(lh,{})]}),mh=({})=>{const{auth:t}=ge(),{setFilter:a,selectedWarehouse:s,setSelectedWarehouse:r}=jl(),{invoiceItemsQueue:n,invoice:l,setInvoice:i}=rt(),{value:o,addInvoiceMutation:c}=Il(),{selectedCustomer:u}=Ss();async function d(){console.log("Invoice:",l),console.log("InvoiceItems:",n);let y=l;y.invoice_items=n.map(b=>({...b,product_id:b.product_id.id})),await c(y)}const{openModal:x,isOpen:m,closeModal:h}=Ee(),v=Ee();return f.useEffect(()=>{var y,b,j,p;t.role==="admin"?x():((y=t.role)==null?void 0:y.split("_")[1])==="CDO"?(console.log((b=t.role)==null?void 0:b.split("_")),a({approval_status:"approved",warehouse_id:1}),r("CDO"),i({...l,warehouse_id:1})):((j=t.role)==null?void 0:j.split("_")[1])==="ILI"&&(console.log((p=t.role)==null?void 0:p.split("_")),a({approval_status:"approved",warehouse_id:2}),r("Iligan"),i({...l,warehouse_id:2}))},[t.role]),e.jsxs("div",{className:"bg-pos-primary-background flex w-full max-w-[350px] flex-col gap-2 p-4",children:[t.role==="admin"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-1 px-3",children:[e.jsxs(Ha,{className:"text-sm font-medium uppercase text-slate-900",children:["Warehouse: ",s]}),e.jsx(ne,{onClick:x,size:"icon",className:"h-8",children:e.jsx(os,{size:18})})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-2",children:[e.jsxs(Ha,{className:"flex flex-row items-center gap-2 text-sm font-medium uppercase text-slate-900",children:[e.jsx(os,{size:18}),s+" BRANCH"]}),e.jsx(Ha,{className:"text-sm font-medium uppercase text-slate-900",children:t.user.firstname+" "+t.user.lastname})]})}),e.jsx(sh,{}),e.jsx(rh,{}),e.jsx(nh,{}),e.jsx(uh,{}),e.jsx(ne,{onClick:()=>{tl.info("Coming Soon!")},children:"Print Invoice"}),e.jsx(ne,{onClick:()=>{d()},disabled:Object.keys(u).length===0||n.length===0||l.paid_amount===0||l.payment_method==="",children:"Submit"}),e.jsx(qe,{title:"",isOpen:v.isOpen,onClose:v.closeModal,closeOnOverlayClick:!0,children:e.jsx("div",{children:e.jsx("div",{children:"Test"})})}),t.role==="admin"?e.jsx(e.Fragment,{children:e.jsx(qe,{isOpen:m,onClose:h,title:"Select Warehouse",closeOnOverlayClick:!1,children:e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsx(ne,{onClick:()=>{a({approval_status:"approved",warehouse_id:1}),h(),r("CDO"),i({...l,warehouse_id:1})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(os,{}),e.jsx(Ha,{children:"CDO Warehouse"})]})}),e.jsx(ne,{onClick:()=>{a({approval_status:"approved",warehouse_id:2}),h(),r("Iligan"),i({...l,warehouse_id:2})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(os,{}),e.jsx(Ha,{children:"Iligan Warehouse"})]})})]})})}):null]})},xh=({})=>{const[t,a]=f.useState(""),{isLoading:s,productListing:r}=jl(),{invoiceItemsQueue:n,setInvoiceItemsQueue:l}=rt();return e.jsx("div",{className:"relative z-20 pb-10",children:e.jsx("div",{className:"absolute box-content flex w-full ",children:e.jsxs(ea,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(zt,{value:t,onValueChange:a,placeholder:s?"Loading Products":"Enter Serial Number / Brand / Product Name",disabled:r.length===0}),e.jsx(vl,{className:"",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ja,{children:"Product Not Found"}),r.map((i,o)=>e.jsx(xt,{className:"",value:i.type==="retail"?`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Retail)`:`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Wholesale)`,onSelect:()=>{const c=n.findIndex(u=>u.product_price_id===i.id);if(c!==-1){const u=[...n];u[c].quantity++,l(u)}else l([...n,{unit:"",discount_approval_status:null,approved_by:null,item_discount:0,invoice_id:null,product_id:{id:i.product.id,name:i.product.name},product_price_id:i.id,product_price:i.cost,total_price:i.price,quantity:1,source_inventory:i.warehouse.id}]);a("")},children:e.jsxs("div",{className:"flex flex-1 flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.type==="retail"?e.jsx(Ol,{strokeWidth:1}):e.jsx(Ar,{strokeWidth:1}),e.jsx("span",{children:i.product.name}),e.jsx("span",{className:"text-xs text-gray-600 ",children:`(${i.type} ${i.warehouse.code}) ${i.stocks_quantity}`})]}),e.jsx("div",{children:e.jsxs("span",{children:[" ",i.price]})})]})},o))]}):null})]})})})},Xh=({})=>e.jsx(e.Fragment,{children:e.jsx(yl,{children:e.jsx(dl,{children:e.jsx(al,{children:e.jsx(yc,{children:e.jsx(bc,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Rc,{}),e.jsxs("div",{id:"main",className:"flex w-screen flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx(xh,{}),e.jsx(eh,{})]}),e.jsx(mh,{})]})]})})})})})})}),hh=({openModal:t})=>{const{transactions:a,isFetching:s,progress:r}=Nc(),n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"Product ID"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.id})},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-center",children:"Price"}),cell:({row:l})=>{const i=parseFloat(l.getValue("amount")),o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"product_name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["PRODUCT NAME ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.product_name})},{accessorKey:"dimensions",header:()=>e.jsx("div",{className:"text-center",children:"DIMENSIONS"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.dimensions})},{accessorKey:"serial",header:()=>e.jsx("div",{className:"text-center",children:"SERIAL"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.serial})},{accessorKey:"sku",header:()=>e.jsx("div",{className:"text-center",children:"SKU"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.sku})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"INVENTORY STATUS"}),cell:({row:l})=>{const i=l.getValue("status"),o=i==="LOW"?"bg-red-500":i==="MEDIUM"?"bg-amber-500":"bg-lime-600";return e.jsx("div",{className:`flex w-full flex-1 flex-col text-center ${o}`,children:l.getValue("status")})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-center",children:"ORDER TYPE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.quantity})}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:a,columns:n,filterWhat:"serial",dataType:"Transaction",openModal:()=>t,isLoading:s})})},Jh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Transaction",children:e.jsx(wc,{children:e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(hh,{openModal:l})})})})})})},fh=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,progress:n,setSelectedTransfer:l}=gt(),i=s.map(h=>({transfer_id:h.transfer_id})),c=a.filter(h=>{if(i.some(v=>v.transfer_id===h.id))return h}).filter(h=>{if(h.approval_status==="pending")return h}),{auth:u}=ge(),d=h=>{l(h),t(h,"details")},x=h=>{l(h),t(h,"edit")},m=[{id:"select",header:({table:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsAllPageRowsSelected(),onChange:v=>h.toggleAllPageRowsSelected(!!v.target.checked),"aria-label":"Select all"}),cell:({row:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsSelected(),onChange:v=>h.toggleSelected(!!v.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",h.getIsSorted()==="asc"?e.jsx(ee,{}):h.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.code?h.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:h})=>{const v=h.original.source,y=h.original.destination;return e.jsxs("div",{className:"text-center",children:[v.code,"-",y.code]})}},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["TRANSFER STATUS ",h.getIsSorted()==="asc"?e.jsx(ee,{}):h.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.transfer_status?h.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["SCHEDULE ",h.getIsSorted()==="asc"?e.jsx(ee,{}):h.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:h})=>{const v=h.getValue("transfer_schedule");if(v.toString()!=="0000-00-00 00:00:00"){const y={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},b=new Date(v).toLocaleDateString([],y);return e.jsx("div",{className:"text-center",children:b})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:h})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:h.original.approval_status.toLowerCase()==="approved"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):h.original.approval_status.toLowerCase()==="rejected"?e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:h})=>{var y;const v=h.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>d(v),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),((y=u.role)==null?void 0:y.toLowerCase())!="encoder"&&e.jsxs(ke,{onClick:()=>x(v),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:v.transfer_status!="arrived"&&v.approval_status!="rejected"?e.jsx(aa,{size:16,strokeWidth:2.25}):e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:c,columns:m,filterWhat:"approval_status",dataType:"",openModal:void 0,isLoading:r})})},ph=({onClose:t})=>{const{selectedTransfer:a}=gt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ve(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ve(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ve(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})},gh=({onClose:t})=>{var E,I,S,P,F,R,K,B,H;const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,dateDisplayArrived:c,handleSubmit:u,handleChange:d,handleChangeSelect:x,handleChangeDateTime:m}=Fl(),{selectedTransfer:h,transferProducts:v}=gt(),{warehouses:y}=ra(),{users:b}=ml(),{auth:j}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:w=>x("approval_status",w),name:"approval_status",value:h.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:h.approval_status?h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(U,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(U,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),v.filter(w=>w.transfer_id===h.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(qr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),N=e.jsxs(ce,{onValueChange:w=>x("source",Number(w)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=y[h.source.id-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(I=y[h.source.id-1])==null?void 0:I.code," ",""," ",(S=y[h.source.id-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((w,Y)=>e.jsxs(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${w.id===h.source.id&&"selected"}`,children:[w.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+w.code+"  "+w.location})]},Y))})]}),O=e.jsxs(ce,{onValueChange:w=>x("destination",Number(w)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(P=y[h.destination.id-1])==null?void 0:P.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=y[h.destination.id-1])==null?void 0:F.code," ",""," ",(R=y[h.destination.id-1])==null?void 0:R.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((w,Y)=>e.jsxs(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${w.id===h.destination.id&&"selected"}`,children:[w.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+w.code+"  "+w.location})]},w.code))})]}),A=e.jsx(ce,{onValueChange:w=>x("transfer_status",w),name:"transfer_status",value:h.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:h.transfer_status?h.transfer_status.charAt(0).toUpperCase()+h.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(U,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(U,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),M=e.jsxs(ce,{onValueChange:w=>x("received_by",Number(w)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:h.received_by?b[Number(h.received_by)-1].firstname+" "+b[Number(h.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((w,Y)=>e.jsx(U,{value:w.id.toString(),className:`text-sm font-medium text-slate-700 
								${h.received_by&&w.id===h.received_by.id&&"selected"}`,children:w.firstname+" "+w.lastname},Y))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:w=>{w.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-3xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),N]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),O]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((K=a.approval_status)==null?void 0:K.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"})]}),((B=a.approval_status)==null?void 0:B.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"})]}),j.rolePermissions.some(w=>w.permission_id===22)?((H=h.approval_status)==null?void 0:H.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1),e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:b.length>0?b[a.approved_by-1].firstname+" "+b[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:A})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(ts,{onChange:w=>m("transfer_schedule",w),value:o,format:"yyyy-M-d H:mm",minDate:o,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:M})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(ts,{onChange:w=>m("date_received",w),value:c,format:"yyyy-M-d H:mm",minDate:o})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Er,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:d})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:r?"green":null,disabled:!r,onClick:u,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},ef=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Pending Transfer",children:e.jsxs(xl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(fh,{openModal:l})})}),e.jsx(qe,{title:r==="details"?"Transfer Details":"Edit Transfer",isOpen:t,onClose:s,closeOnOverlayClick:r==="details",children:e.jsxs(e.Fragment,{children:[r==="details"&&e.jsx(ph,{onClose:s}),r==="edit"&&e.jsx(gh,{onClose:s})]})})]})})})},vh=({openModal:t})=>{const{invoices:a,isFetching:s,users:r,userSales:n,setSelectedInvoice:l}=bl(),i=c=>{l(c.invoices),t(c,"details")},o=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:u=>c.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:u=>c.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"issued_by",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FULL NAME ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.invoices[0].issued_by.firstname+" "+c.original.invoices[0].issued_by.lastname})},{id:"total_sales",sortingFn:"basic",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["NUMBER OF SALES ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.invoices.length})},{id:"amount_sales",sortingFn:"basic",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TOTAL AMOUNT OF SALES ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>{const d=c.original.invoices.filter(m=>m.status==="approved").reduce((m,h)=>m+h.paid_amount,0),x=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(d);return e.jsx("div",{className:"text-center",children:x})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:c})=>{const u=c.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>i(u),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:n,columns:o,filterWhat:"",hideFilter:!0,dataType:"",openModal:void 0,isLoading:s})})},jh=({onClose:t})=>{const{selectedInvoice:a,isFetching:s}=bl(),r=a[0],n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>{const i=l.getValue("created_at");if(i.toString()!=="0000-00-00 00:00:00"){const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},c=new Date(i).toLocaleDateString([],o);return e.jsx("div",{className:"text-center",children:c})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.customer.firstname+" "+l.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"STATUS"}),cell:({row:l})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:l.original.status.toLowerCase()==="approved"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):l.original.status.toLowerCase()==="rejected"?e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:l})=>{const i=l.original.subtotal,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:l})=>{const i=l.original.total_discount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:l})=>{const i=l.original.total_tax,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:l})=>{const i=l.original.delivery_charge,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:l})=>{const i=l.original.total_amount_due,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:l})=>{const i=l.original.paid_amount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:l})=>{const i=l.original.change_amount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:l})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl max-h-96 flex-col gap-4",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Issuer: ",r.issued_by.firstname+" "+r.issued_by.lastname]}),e.jsx("div",{className:"overflow-x-hidden",children:e.jsx(Ue,{data:a,columns:n,filterWhat:"or_no",dataType:"",openModal:void 0,isLoading:s})})]})})},tf=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"User Sales",children:e.jsxs(_c,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(vh,{openModal:l})})}),e.jsx(qe,{isOpen:t,onClose:s,title:r==="details"?"Invoice Details":"",closeOnOverlayClick:r==="details",children:e.jsx(e.Fragment,{children:r==="details"&&e.jsx(jh,{onClose:s})})})]})})})},yh=()=>{const{roles:t,roleSelect:a,permissions:s,allPermissions:r,permissionChange:n,roleId:l,isChanged:i,isSubmitting:o,error:c,success:u,handleChange:d,handleChangeSelect:x,handleSubmit:m}=lo(),{auth:h}=ge(),v=r.filter(p=>Object.keys(p).some(N=>!p.title.includes("view".toLowerCase())&&p.title.includes("users".toLowerCase()))),y=r.filter(p=>Object.keys(p).some(N=>!p.title.includes("view".toLowerCase())&&!p.title.includes("transfer".toLowerCase())&&p.title.includes("product".toLowerCase())||p.title.includes("catalog".toLowerCase()))),b=r.filter(p=>Object.keys(p).some(N=>!p.title.includes("view".toLowerCase())&&p.title.includes("transfer".toLowerCase()))),j=r.filter(p=>Object.keys(p).some(N=>p.title.includes("view".toLowerCase())));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-full max-h-full w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:t?t.map(p=>p.title!=="super_admin"&&e.jsx(ne,{variant:"ghost",className:`w-full justify-start capitalize text-slate-700 ${(a==null?void 0:a.title)===p.title&&"bg-slate-300/40"}`,onClick:()=>x("roles",p.title),children:p.title.split("_").join(" ")},p.id+p.title)):e.jsx("div",{className:"flex h-16 w-full items-center justify-center text-slate-500",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})})}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),(a==null?void 0:a.title)===h.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[u&&e.jsx("p",{className:"text-green-600",children:u}),c&&e.jsx("p",{className:"text-red-600",children:c})]}),i&&e.jsx(ne,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!o,onClick:m,children:o?"Saving...":"Save changes"})]})]}),a?e.jsx(bt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${!a||o?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:v.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):v.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:`${!((a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin")&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:p.title.split("_").join(" ")}),e.jsx(yt,{id:p.title,name:p.title,value:p.id,disabled:(a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(N=>N.permission_id===p.id),onCheckedChange:N=>d(N,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(yt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(N=>N.permission_id===p.id),onCheckedChange:N=>d(N,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:b.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):b.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(yt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(N=>N.permission_id===p.id),onCheckedChange:N=>d(N,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(yt,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(N=>N.permission_id===p.id),onCheckedChange:N=>d(N,p.id)})]},p.id))})]})]})}):e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-slate-700/50",children:"Select a role to view and modify permissions"})})]})})},af=()=>e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Role Permissions",children:e.jsx(il,{children:e.jsx("div",{className:"flex h-full max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(yh,{})})})})})}),bh=({handleViewItems:t,handleViewDetails:a,handleEditInventory:s})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Code"," ",n.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",n.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"date_received",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Received"})},{accessorKey:"transfer_id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transer Id"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:n.original.transfer_id?n.original.transfer_id:""})})},{accessorKey:"created_by",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created by"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsxs("span",{className:"max-w-[25ch] truncate",children:[n.original.created_by.firstname," ",n.original.created_by.lastname]})})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"}),cell:({row:n})=>e.jsx("div",{children:e.jsx("p",{className:"max-w-[25ch] truncate",children:n.original.notes?n.original.notes:""})})},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>{t(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ar,{size:16,strokeWidth:2})}),e.jsx("span",{children:"View items"})]}),e.jsxs(ke,{onClick:()=>{a(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(ke,{onClick:()=>{s(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],Nh=({openModal:t,filterWarehouse:a,setTotalInventories:s})=>{const[r,n]=f.useState([]),{data:l,isLoading:i,setSelectedInventory:o}=Lr(),c=Mr();f.useEffect(()=>{n(a?l.filter(h=>h.warehouse.id===a):l),s(l.length)},[l,a]);const u=()=>{t({},"add")},d=h=>{o(h),t(h,"edit")},x=h=>{o(h),c(`/inventory/items/${h.id}`)},m=h=>{o(h),t(h,"view_details")};return e.jsx(e.Fragment,{children:e.jsx(Ue,{columns:bh({handleViewItems:x,handleViewDetails:m,handleEditInventory:d}),data:r,filterWhat:"code",dataType:"Inventory",openModal:u,isLoading:i})})},wh=({FormValue:t,handleChange:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ne,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Ur,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(Wr,{mode:"single",initialFocus:!0,required:!0,onDayClick:s=>{const r=new Date(s),n=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`;a("date_received",n)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:s=>a("notes",s.target.value)})]})]})}),_h=({FormValue:t,handleChange:a})=>{const{transfers:s,isFetching:r}=Rr(),[n,l]=f.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(ht,{open:n,onOpenChange:l,children:[e.jsx(ft,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[t.transfer_id?(()=>{const i=s.find(o=>o.id===t.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:e.jsx("span",{children:i==null?void 0:i.code})})})():"Select a transfer item...",e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{children:[e.jsx(zt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(bt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Mt,{children:s.map(i=>e.jsxs(xt,{value:i.id.toString()+i.code,onSelect:()=>{a("transfer_id",i.id),l(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:i.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[i.approval_status,"  ",i.source.code,"->",i.destination.code,"  ",i.transfer_status]})]},i.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ne,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Ur,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(Wr,{mode:"single",initialFocus:!0,required:!0,onDayClick:i=>{const o=new Date(i),c=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`;a("date_received",c)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:i=>a("notes",i.target.value)})]})]})})},Oi=(t,a,s)=>{const r=s||new Date,n=("0"+(r.getMonth()+1)).slice(-2)+("0"+r.getDate()).slice(-2)+r.getFullYear(),l=t.slice(0,3),i=a.toString().padStart(4,"0");return`${l}-${n}-${i}`.toUpperCase()},Sh=({onClose:t,totalInventories:a,warehouses:s})=>{const{auth:r}=ge(),{value:n,setValue:l,handleChange:i,handleSubmit:o}=Pl(),[c,u]=f.useState(!1),[d,x]=f.useState(null);f.useEffect(()=>{i("created_by",r.user.id),i("type","supplier")},[]);const[m,h]=f.useState();return f.useEffect(()=>{if(m){const v=Oi(m,a+1);i("code",v)}},[m]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:async v=>{if(v.preventDefault(),n.date_received===void 0)x("Please select a date for date received.");else{u(!c);const y=await o({action:"add",data:n});(y==null?void 0:y.status)===201?(u(!c),t()):(u(!c),x("Failed to add inventory"))}},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(L,{id:"code",name:"code",type:"text",value:n.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:v=>{var y;i("warehouse_id",Number(v)),h((y=s.find(b=>b.id===Number(v)))==null?void 0:y.code)},required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:s.map((v,y)=>e.jsxs(U,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code+"  "+v.location})]},y))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(Pr,{id:"type",defaultValue:n.type?n.type:"supplier",className:"w-full space-y-4",onValueChange:v=>{const{date_received:y,transfer_id:b,...j}=n;l(j),i("type",v)},children:[e.jsxs(Fr,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ia,{value:"supplier",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Supplier"}),e.jsx(Ia,{value:"transfer",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Transfer"})]}),e.jsx(vs,{value:"supplier",children:e.jsx(wh,{FormValue:n,handleChange:i})}),e.jsx(vs,{value:"transfer",children:e.jsx(_h,{FormValue:n,handleChange:i})})]})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:c||Object.keys(n).length<=2||!m,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Submitting...":"Add inventory"})]})}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:d})})]})})},Ch=({onClose:t})=>{const{selectedInventory:a}=Lr(),{transfers:s,isFetching:r}=Rr(),n=s.find(l=>l.id===a.transfer_id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:a.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"ID"}),e.jsx("p",{className:"text-sm",children:a.id})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs("p",{className:"text-sm",children:[a.warehouse.name," (",a.warehouse.code,")"]})]}),a.type==="transfer"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm capitalize",children:r?"Loading...":n==null?void 0:n.code})]}),e.jsxs("div",{className:`flex flex-col justify-center gap-1 ${a.type==="supplier"?"col-span-7":"col-span-3"}`,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("p",{className:"text-sm capitalize",children:a.date_received?a.date_received:""})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx("p",{className:"text-sm capitalize",children:a.notes?a.notes:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsxs("p",{className:"text-sm capitalize",children:[a.created_by.firstname," ",a.created_by.lastname]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm capitalize",children:Ve(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm capitalize",children:a.updated_at?Ve(a.updated_at):""})]})]})]})})},kh=({onClose:t,warehouses:a})=>{const{selectedInventory:s}=Lr(),{value:r,handleChange:n,handleSubmit:l}=Pl(),{transfers:i,isFetching:o}=Rr(),[c,u]=f.useState(!1),[d,x]=f.useState(!1),[m,h]=f.useState(null),v=j=>i.find(p=>j===p.id),[y,b]=f.useState();return f.useEffect(()=>{if(y){const j=Oi(y,s.id,new Date(s.created_at));n("code",j)}},[y]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async j=>{x(!d),j.preventDefault();const p=await l({action:"update",id:s.id,data:r});(p==null?void 0:p.status)===200?(x(!d),t()):(x(!d),h("Failed to update inventory item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(L,{id:"code",name:"code",type:"text",value:r.code||s.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:j=>{var p;n("warehouse_id",Number(j)),b((p=a.find(N=>N.id===Number(j)))==null?void 0:p.code)},defaultValue:s.warehouse.id.toString(),required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:a.map((j,p)=>e.jsxs(U,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},p))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ce,{defaultValue:s.type,onValueChange:j=>n("type",j),children:[e.jsx(oe,{name:"type",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"Choose type..."})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"supplier",className:"text-sm font-medium text-slate-700",children:"Supplier"}),e.jsx(U,{value:"transfer",className:"text-sm font-medium text-slate-700",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(ne,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Ur,{size:18,strokeWidth:1.5}),r.date_received?r.date_received:s.date_received]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(Wr,{mode:"single",initialFocus:!0,required:!0,month:r.date_received?new Date(r.date_received):new Date(s.date_received),onDayClick:j=>{const p=new Date(j),N=`${p.getFullYear()}-${(p.getMonth()+1).toString().padStart(2,"0")}-${p.getDate().toString().padStart(2,"0")}`;n("date_received",N)},selected:r.date_received?new Date(r.date_received):new Date(s.date_received)})})]})]}),(s.type==="transfer"||r.type==="transfer")&&e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(ht,{open:c,onOpenChange:u,children:[e.jsx(ft,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[i?r.transfer_id?(()=>{const j=v(r.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:j==null?void 0:j.code})})():s.transfer_id?(()=>{const j=v(s.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:j?j.code:"Loading..."})})():"Select inventory item...":"Loading...",e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{children:[e.jsx(zt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),o&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(bt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Mt,{children:i.map(j=>e.jsxs(xt,{value:j.id.toString()+j.code,onSelect:()=>{n("transfer_id",j.id),u(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:j.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[j.approval_status,"  ",j.source.code,"->",j.destination.code,"  ",j.transfer_status]})]},j.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:r.notes?r.notes:s.notes?s.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:j=>n("notes",j.target.value)})]})]}),e.jsx("div",{className:"flex w-full flex-row pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:d||Object.keys(r).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Applying changes...":"Apply changes"})]})}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:m})})]})})})},sf=()=>{const{warehouses:t}=ra(),[a,s]=f.useState(0),[r,n]=f.useState(0),{openModal:l,isOpen:i,closeModal:o}=Ee(),[c,u]=f.useState(""),d=(x,m)=>{u(m),l()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Inventory",children:e.jsxs(Sc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:x=>s(Number(x)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(U,{value:"0",children:"All"},"all"),t.map(x=>e.jsxs(U,{value:x.id.toString(),children:[x.name," (",x.code,")"]},x.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Nh,{filterWarehouse:a>0?a:void 0,openModal:d,setTotalInventories:n})})]}),e.jsx(qe,{isOpen:i,onClose:o,title:c==="add"?"Add Inventory":c==="view_details"?"Details":c==="edit"?"Edit Inventory":"",closeOnOverlayClick:c==="view_details",children:e.jsxs(e.Fragment,{children:[c==="add"&&e.jsx(Sh,{warehouses:t,totalInventories:r,onClose:o}),c==="view_details"&&e.jsx(Ch,{onClose:o}),c==="edit"&&e.jsx(kh,{warehouses:t,onClose:o})]})})]})})})},Dh=({handleEditInventoryProduct:t,handleToggleStatus:a})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:n=>r.toggleAllPageRowsSelected(!!n.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:n=>r.toggleSelected(!!n.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"product",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center whitespace-nowrap bg-transparent uppercase text-slate-700",children:["Name"," ",r.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"supplier_id.name",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Supplier"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Cap. Price"}),cell:({row:r})=>{const n=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:r.original.capital_price?n:""})})}},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bundles"})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bund. unit"})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Qty/Bund."})},{accessorKey:"stocks_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Stocks"})},{accessorKey:"damage_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Damaged"})},{accessorKey:"total_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Total"})},{accessorKey:"transferred_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transferred"})},{accessorKey:"sold_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sold"})},{accessorKey:"miscellaneous_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Misc"})},{accessorKey:"remaining_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Remaining"})},{accessorKey:"status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Status"}),cell:({row:r})=>e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[r.original.status===1?e.jsx(Ya,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-gray-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:r.original.status?"Approved":"Pending"})]})},{id:"actions",cell:({row:r})=>{const n=r.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>{t(n)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsxs(ke,{onClick:()=>a(n.id,+!n.status),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:n.status?e.jsx(wt,{size:16,strokeWidth:2.25}):e.jsx(Ya,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:n.status?"Set pending":"Set approved"})]})]})]})})},enableGlobalFilter:!1}],Th=({id:t,openModal:a})=>{const{data:s,isLoading:r}=Cc(t),{setSelectedInventoryProduct:n}=Ir(),{handleSubmit:l}=Cs(),i=()=>{a({},"add")},o=u=>{n(u),a(u,"edit")},c=(u,d)=>{l({action:"update",id:u,data:{status:d}})};return e.jsx("div",{className:"w-full rounded-lg border bg-white",children:e.jsx(Ue,{columns:Dh({handleEditInventoryProduct:o,handleToggleStatus:c}),data:s||[],filterWhat:"product",dataType:"Items",openModal:i,isLoading:r})})},Oh=({setInventoryProductsQueue:t,inventoryId:a,products:s,productsLoading:r,suppliers:n,suppliersLoading:l,currentId:i,handleNavigation:o,selectedProduct:c})=>{var E,I;const{auth:u}=ge(),{value:d,handleChange:x}=Cs(),[m,h]=f.useState(!1),[v,y]=f.useState(!1),[b,j]=f.useState(null),p=Mr();f.useEffect(()=>{x("inventory_id",a),(u.role==="admin"||u.role==="super_admin")&&x("status",1),c&&(x("product_id",c.data.product_id),x("status",c.data.status),x("supplier_id",c.data.supplier_id),x("capital_price",c.data.capital_price),x("unit",c.data.unit),x("bundles_count",c.data.bundles_count),x("bundles_unit",c.data.bundles_unit),x("quantity_per_bundle",c.data.quantity_per_bundle),x("stocks_count",c.data.stocks_count),x("damage_count",c.data.damage_count),x("total_count",c.data.total_count)),!c&&u.role!=="admin"&&x("capital_price",0)},[]);const[N,O]=f.useState();f.useEffect(()=>{const S=d.bundles_count!==void 0?d.bundles_count:(c==null?void 0:c.data.bundles_count)||0,P=d.quantity_per_bundle!==void 0?d.quantity_per_bundle:(c==null?void 0:c.data.quantity_per_bundle)||0,F=S*P;O(F),x("stocks_count",F)},[d.bundles_count,d.quantity_per_bundle]);const[A,M]=f.useState();return f.useEffect(()=>{const S=d.damage_count!==void 0?d.damage_count:(c==null?void 0:c.data.damage_count)||0,F=(d.stocks_count!==void 0?d.stocks_count:(c==null?void 0:c.data.stocks_count)||0)-S;M(F),x("total_count",F)},[d.damage_count,d.stocks_count,A]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:S=>{S.preventDefault(),d.product_id===void 0?j("Please select a product first."):d.supplier_id===void 0?j("Please select a supplier first."):(t(c?P=>[...P.filter(F=>F.id!==c.id),{id:c.id,data:d}]:P=>[...P,{id:i+1,data:d}]),o())},children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${u.role==="admin"||u.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(C,{htmlFor:"product_id",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(ht,{open:m,onOpenChange:h,children:[e.jsx(ft,{id:"product_id",className:"relative w-full",asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[d.product_id?e.jsx(e.Fragment,{children:(()=>{const S=s.find(P=>P.id===d.product_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:S==null?void 0:S.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.serial_no})]})})()}):e.jsx("span",{children:"Select a product..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:`${u.role==="admin"||u.role==="super_admin"?"min-w-[642px]":"min-w-[315px]"}  p-0 text-sm font-medium text-slate-700`,children:e.jsxs(ea,{children:[e.jsx(zt,{placeholder:"Product name or serial number..."}),r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsxs(bt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Mt,{forceMount:!0,children:e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/products"),y(!1)},forceMount:!0,children:[e.jsx("span",{children:"Add new product..."}),e.jsx(xn,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-product")}),e.jsx(hn,{}),e.jsx(Mt,{children:s.map((S,P)=>e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{x("product_id",S.id),h(!1)},children:[e.jsx("span",{children:S.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:S.serial_no})]},P))})]})]})})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(ht,{open:v,onOpenChange:y,children:[e.jsx(ft,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[d.supplier_id?e.jsx(e.Fragment,{children:(()=>{const S=n.find(P=>P.id===d.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:S==null?void 0:S.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.address})]})})()}):e.jsx("span",{children:"Select a supplier..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{children:[e.jsx(zt,{placeholder:"Supplier name or address..."}),l&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsxs(bt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Mt,{forceMount:!0,children:e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/supplier"),y(!1)},children:[e.jsx("span",{children:"Add new supplier..."}),e.jsx(xn,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-supplier")}),e.jsx(hn,{}),e.jsx(Mt,{children:n.map((S,P)=>e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{x("supplier_id",S.id),y(!1)},children:[e.jsx("span",{children:S.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:S.address})]},P))})]})]})})]})]}),(u.role==="admin"||u.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:((E=d.status)==null?void 0:E.toString())||"",required:!0,onValueChange:S=>x("status",Number(S)),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(U,{value:"1",children:"Approved"}),e.jsx(U,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",disabled:u.role!=="admin",defaultValue:((I=d.capital_price)==null?void 0:I.toFixed(2))||"",onBlur:S=>{d.capital_price!==void 0&&(S.target.value=Number(S.target.value).toFixed(2))},onChange:S=>{x("capital_price",Number(Number(S.target.value).toFixed(2)))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,value:d.unit||"",onChange:S=>x("unit",S.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(L,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,required:!0,value:d.bundles_count!==void 0?d.bundles_count:"",onBlur:S=>{S.target.value!==""&&(S.target.value=Number(S.target.value).toFixed(0))},onChange:S=>{x("bundles_count",Number(Number(S.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(L,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,value:d.bundles_unit||"",onChange:S=>x("bundles_unit",S.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(L,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,required:!0,value:d.quantity_per_bundle!==void 0?d.quantity_per_bundle:"",onBlur:S=>{S.target.value!==""&&(S.target.value=Number(S.target.value).toFixed(0))},onChange:S=>x("quantity_per_bundle",Number(Number(S.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(L,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:N||"0",readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(L,{id:"damage_count",name:"damage_count",type:"number",min:0,max:N||9999999,step:1,required:!0,value:d.damage_count!==void 0?d.damage_count:"",onBlur:S=>{d.damage_count!==void 0&&(S.target.value=Number(d.damage_count).toFixed(0))},onChange:S=>x("damage_count",Number(Number(S.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(L,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,readOnly:!0,value:A||"0"})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsx("div",{className:"ml-auto flex flex-row gap-4",children:e.jsx(D,{type:"submit",fill:"green",disabled:d.product_id===void 0||d.supplier_id===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Save changes":"Add item to queue"})})}),b&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:b})})]})})})},Ah=["","Product name","Supplier","Status","Capital price","Unit","Bundles count","Bundles unit","Qty/bundle","Stocks","Damaged","Total"],Ph=({data:t,products:a,suppliers:s,handleEditItem:r,handleRemoveItem:n,handleSubmit:l,onClose:i})=>{const[o,c]=f.useState(!1),[u,d]=f.useState(null),x=async()=>{c(!0);const m=await l({action:"batch-add",data:t.map(v=>v==null?void 0:v.data)});(Array.isArray(m)?m.filter(v=>v!==201):[]).length>0?d("Error adding items to inventory"):(c(!1),i())};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsxs(bt,{type:"always",className:"flex-1 rounded-md border border-gray-200 bg-white",style:{"--border":"216 12% 84%"},children:[t.length<=0&&e.jsx("div",{className:"absolute z-10 flex h-full w-full items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-gray-500/50",children:"No items in queue"})}),e.jsx(fn,{orientation:"horizontal",className:"z-50 h-3"}),e.jsx(fn,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),e.jsxs(hl,{children:[e.jsx(fl,{children:e.jsx(js,{id:"tHeaderRow",className:"hover:bg-white",children:Ah.map(m=>e.jsx(pl,{className:"whitespace-nowrap px-5 py-3 text-center text-xs font-bold uppercase",children:m},m+"_head"))},"tHeaderRow")}),e.jsx(gl,{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(odd)]:bg-gray-50",children:t.length>0&&t.map(m=>{var h,v;return e.jsxs(js,{className:"text-sm font-medium text-gray-700",children:[e.jsx(st,{className:"p-3 pr-0",children:e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-200/70 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white font-medium",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>{m!=null&&m.id&&r(m)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Edit"})]},(m==null?void 0:m.id)+"edit"),e.jsxs(ke,{onClick:()=>{m!=null&&m.id&&n(m.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 focus:bg-red-50 focus:text-red-700",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(zc,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Remove"})]},(m==null?void 0:m.id)+"remove")]})]})})},(m==null?void 0:m.id)+"action"),e.jsx(st,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.product_id?(h=a.find(y=>y.id===m.data.product_id))==null?void 0:h.name:m==null?void 0:m.data.product_id},(m==null?void 0:m.id)+"product_id"),e.jsx(st,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.supplier_id?(v=s.find(y=>y.id===m.data.supplier_id))==null?void 0:v.name:m==null?void 0:m.data.supplier_id},(m==null?void 0:m.id)+"supplier_id"),e.jsx(st,{className:"px-5 py-3",children:m!=null&&m.data.status?e.jsx(Ya,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-gray-600"})},(m==null?void 0:m.id)+"status"),e.jsx(st,{className:"px-5 py-3",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format((m==null?void 0:m.data.capital_price)||0)},(m==null?void 0:m.id)+"capital_price"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.unit},(m==null?void 0:m.id)+"unit"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.bundles_count},(m==null?void 0:m.id)+"bundles_count"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.bundles_unit},(m==null?void 0:m.id)+"bundles_unit"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.quantity_per_bundle},(m==null?void 0:m.id)+"quantity_per_bundle"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.stocks_count},(m==null?void 0:m.id)+"stocks_count"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.damage_count},(m==null?void 0:m.id)+"damage_count"),e.jsx(st,{className:"px-5 py-3",children:m==null?void 0:m.data.total_count},(m==null?void 0:m.id)+"total_count")]},(m==null?void 0:m.id)+"row")})})]})]}),e.jsxs("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:[u&&e.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:u})}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>i(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:t.length<=0||o,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:m=>{m.preventDefault(),x()},children:t.length<=1?"Add item to inventory":`Add ${t.length} items to inventory`})]})]})]})})},Fh={hidden:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"-100%",transition:{duration:.3,ease:"easeInOut"}}},Eh={hidden:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}}},Ih=({onClose:t,inventoryId:a})=>{const{auth:s}=ge(),{data:r,isLoading:n}=el(),{suppliers:l,isFetching:i}=Nl(),{handleSubmit:o}=Cs(),[c,u]=f.useState([]),[d,x]=f.useState({}),[m,h]=f.useState("main"),v=()=>{x({}),h(m==="main"?"form":"main")},y=j=>{x(j),h("form")},b=j=>{u(p=>p.filter(N=>N.id!==j))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:m==="main"?"ml-auto":"",children:e.jsx(ne,{className:"flex flex-row items-center gap-2 bg-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",onClick:()=>{v()},children:e.jsxs(e.Fragment,{children:[m==="main"?e.jsx(Wc,{size:20,strokeWidth:2.5}):e.jsx(wl,{size:20,strokeWidth:2.5}),m==="main"?"Add an item":"Back"]})})}),e.jsx("div",{className:`relative min-w-[650px] overflow-x-clip transition-all duration-300 
					${m==="form"&&(s.role==="admin"||s.role==="super_admin")?"min-h-[558px]":"min-h-[490px]"}`,children:e.jsx(kc,{initial:!1,children:m==="main"?e.jsx(pn.div,{variants:Fh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute h-full w-full overflow-x-auto antialiased",children:e.jsx(Ph,{data:c,products:r,suppliers:l,handleEditItem:y,handleRemoveItem:b,handleSubmit:o,onClose:t})},"main"):e.jsx(pn.div,{variants:Eh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute max-h-[642px] w-full p-1",children:e.jsx(Oh,{setInventoryProductsQueue:u,inventoryId:a,products:r,productsLoading:n,suppliers:l,suppliersLoading:i,currentId:c.reduce((j,p)=>p.id>j?p.id:j,0),handleNavigation:v,selectedProduct:Object.keys(d).length?d:void 0})},"form")})})]})})},Lh=({onClose:t})=>{var p;const{auth:a}=ge(),{selectedInventoryProduct:s}=Ir(),{value:r,handleChange:n,handleSubmit:l}=Cs(),{suppliers:i,isFetching:o}=Nl(),[c,u]=f.useState(!1),[d,x]=f.useState(!1),[m,h]=f.useState(null),[v,y]=f.useState();f.useEffect(()=>{const N=r.bundles_count!==void 0?r.bundles_count:(s==null?void 0:s.bundles_count)||0,O=r.quantity_per_bundle!==void 0?r.quantity_per_bundle:(s==null?void 0:s.quantity_per_bundle)||0,A=N*O;y(A),n("stocks_count",A)},[r.bundles_count,r.quantity_per_bundle]);const[b,j]=f.useState();return f.useEffect(()=>{const N=r.damage_count!==void 0?r.damage_count:(s==null?void 0:s.damage_count)||0,A=(r.stocks_count!==void 0?r.stocks_count:(s==null?void 0:s.stocks_count)||0)-N;j(A),n("total_count",A)},[r.damage_count,r.stocks_count,b]),e.jsx(e.Fragment,{children:e.jsx("form",{action:"",onSubmit:async N=>{x(!d),N.preventDefault();const O=await l({action:"update",id:s.id,data:r});typeof O=="object"&&"status"in O&&O.status===200?(x(!d),t()):(x(!d),h("Failed to update item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${a.role==="admin"||a.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(C,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsx(L,{id:"product",name:"product",type:"text",readOnly:!0,value:s==null?void 0:s.product.name})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(ht,{open:c,onOpenChange:u,children:[e.jsx(ft,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(ne,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[r.supplier_id?e.jsx(e.Fragment,{children:(()=>{const N=i.find(O=>O.id===r.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:N==null?void 0:N.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:N==null?void 0:N.address})]})})()}):e.jsx("span",{children:s.supplier_id.name}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"p-0 text-sm font-medium text-slate-700",children:e.jsxs(ea,{children:[e.jsx(zt,{placeholder:"Supplier name or address..."}),i===void 0&&o&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(bt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Mt,{children:i.map((N,O)=>e.jsxs(xt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{n("supplier_id",N.id),u(!1)},children:[e.jsx("span",{children:N.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:N.address})]},O))})})]})})]})]}),(a.role==="admin"||a.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:((p=s.status)==null?void 0:p.toString())||"",required:!0,onValueChange:N=>n("status",Number(N)),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(U,{value:"1",children:"Approved"}),e.jsx(U,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",readOnly:a.role!=="admin",defaultValue:s==null?void 0:s.capital_price.toFixed(2),onBlur:N=>{N.target.value=Number(N.target.value).toFixed(2)},onChange:N=>{const O=Number(N.target.value).toFixed(2);n("capital_price",Number(O))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,defaultValue:s==null?void 0:s.unit,onChange:N=>n("unit",N.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(L,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,required:!0,value:r.bundles_count!==void 0?r.bundles_count:(s==null?void 0:s.bundles_count)||"",onBlur:N=>{N.target.value=Number(N.target.value).toFixed(0)},onChange:N=>n("bundles_count",Number(Number(N.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(L,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,value:r.bundles_unit!==void 0?r.bundles_unit:(s==null?void 0:s.bundles_unit)||"",onChange:N=>n("bundles_unit",N.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(L,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,required:!0,value:r.quantity_per_bundle!==void 0?r.quantity_per_bundle:(s==null?void 0:s.quantity_per_bundle)||"",onBlur:N=>{N.target.value=Number(N.target.value).toFixed(0)},onChange:N=>n("quantity_per_bundle",Number(Number(N.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(L,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:v||0,readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(L,{id:"damage_count",name:"damage_count",type:"number",min:0,max:v||9999999,step:1,required:!0,value:r.damage_count!==void 0?r.damage_count:(s==null?void 0:s.damage_count)||"",onBlur:N=>{N.target.value=Number(N.target.value).toFixed(0)},onChange:N=>n("damage_count",Number(Number(N.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(L,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,value:b||0,readOnly:!0})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:d||Object.keys(r).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Applying...":"Apply changes"})]})}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:m})})]})})})},rf=()=>{const{id:t}=Dc(),{data:a,isLoading:s}=Tc(Number(t)),r=Mr(),n=()=>{r(-1)},{openModal:l,isOpen:i,closeModal:o}=Ee(),[c,u]=f.useState(""),d=(x,m)=>{u(m),l()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Inventory items",children:e.jsxs(yl,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"text-primary-dark-gray flex flex-row items-center gap-6 text-sm font-medium",children:[e.jsxs(ne,{onClick:()=>n(),className:"flex flex-row items-center gap-3 whitespace-nowrap bg-gray-200 pr-6 font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",children:[e.jsx(wl,{size:22,strokeWidth:2.25}),e.jsx("span",{children:"Go back"})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("h2",{className:"font-bold",children:"Inventory code:"}),e.jsx("span",{children:s?"Loading...":a==null?void 0:a.code})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg",children:e.jsx(Th,{id:Number(t),openModal:d})})]}),e.jsx(qe,{isOpen:i,onClose:o,title:c==="add"?"Add Items":c==="edit"?"Edit Item":"",children:e.jsxs(e.Fragment,{children:[c==="add"&&e.jsx(Ih,{inventoryId:Number(t),onClose:o}),c==="edit"&&e.jsx(Lh,{onClose:o})]})})]})})})},Mh=({openModal:t})=>{const{invoices:a,isFetching:s,selectedInventory:r,setSelectedInventory:n,selectedInvoice:l,setSelectedInvoice:i}=_l(),[o,c]=f.useState([]),[u,d]=f.useState([]),x=h=>{i(h),t(h,"details")};a.map(h=>{const v={year:"numeric",month:"long",day:"numeric"},y=new Date(h.created_at).toLocaleDateString([],v);o.includes(y)||c([...o,y])}),f.useEffect(()=>{o.map(h=>{const v={year:"numeric",month:"long",day:"numeric"},y=a.filter(b=>h===new Date(b.created_at).toLocaleDateString([],v));d(b=>[...b,{date:h,invoices:y}])})},[o]),f.useEffect(()=>{u.sort((h,v)=>h.date>v.date?-1:v.date>h.date?1:0)},[u]);const m=[{id:"select",header:({table:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsAllPageRowsSelected(),onChange:v=>h.toggleAllPageRowsSelected(!!v.target.checked),"aria-label":"Select all"}),cell:({row:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsSelected(),onChange:v=>h.toggleSelected(!!v.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date",sortingFn:"datetime",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{h.toggleSorting(h.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["DATE ",h.getIsSorted()==="asc"?e.jsx(ee,{}):h.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:h})=>{const v=h.getValue("date");if(v.toString()!=="0000-00-00"){const y={year:"numeric",month:"long",day:"numeric"},b=new Date(v).toLocaleDateString([],y);return e.jsx("div",{className:"text-center",children:b})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{id:"expenses",header:({column:h})=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT OF EXPENSES "}),cell:({row:h})=>{h.original.invoices.filter(b=>b.status==="approved");const v=h.original.invoices.reduce((b,j)=>b+j.paid_amount,0),y=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(v);return e.jsx("div",{className:"text-center",children:y})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:h})=>{const v=h.original.invoices;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(St,{children:[e.jsx(Ct,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Tt,{size:16,strokeWidth:2.25})}),e.jsxs(kt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Dt,{children:"Actions"}),e.jsx(ct,{className:"bg-gray-200"}),e.jsxs(ke,{onClick:()=>x(v),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(_t,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Ue,{data:u,columns:m,filterWhat:"",hideFilter:!0,dataType:"",openModal:void 0,isLoading:s})})},Wh=({onClose:t})=>{const{invoices:a,isFetching:s,selectedInvoice:r}=_l(),n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>{const i=l.getValue("created_at");if(i.toString()!=="0000-00-00 00:00:00"){const o={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},c=new Date(i).toLocaleDateString([],o);return e.jsx("div",{className:"text-center",children:c})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.customer.firstname+" "+l.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"STATUS"}),cell:({row:l})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:l.original.status.toLowerCase()==="approved"?e.jsx(Nt,{size:20,strokeWidth:2,className:"text-green-600"}):l.original.status.toLowerCase()==="rejected"?e.jsx(ta,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(wt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:l})=>{const i=l.original.subtotal,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:l})=>{const i=l.original.total_discount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:l})=>{const i=l.original.total_tax,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:l})=>{const i=l.original.delivery_charge,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:l})=>{const i=l.original.total_amount_due,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:l})=>{const i=l.original.paid_amount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:l})=>{const i=l.original.change_amount,o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:l})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex max-w-4xl max-h-96 flex-col gap-4",children:e.jsx("div",{className:"overflow-x-hidden",children:e.jsx(Ue,{data:r,columns:n,filterWhat:"or_no",dataType:"",openModal:void 0,isLoading:s})})})})},nf=()=>{const{openModal:t,isOpen:a,closeModal:s}=Ee(),[r,n]=f.useState(""),l=(i,o)=>{n(o),t()};return e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Expenses",children:e.jsxs(Oc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Mh,{openModal:l})})}),e.jsx(qe,{isOpen:a,onClose:s,title:"Add Expenses",children:e.jsx(e.Fragment,{children:r==="details"&&e.jsx(Wh,{onClose:s})})})]})})})},Oa=({title:t,date:a,children:s,formatAmount:r})=>e.jsx(e.Fragment,{children:e.jsxs(Sl,{className:"min-w-[320px] max-w-[360px]",children:[e.jsxs(Cl,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(kl,{className:"text-xl font-bold",children:t}),a&&e.jsx(e.Fragment,{children:e.jsx(Dl,{className:"!mt-1 font-bold uppercase",children:Mc()})})]}),e.jsxs(Tl,{className:"py-2 pt-0",children:[r&&e.jsx("span",{className:"text-lg font-medium",children:ss(2e5)}),s&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-lg font-medium",children:s})})]}),e.jsx(Ac,{children:e.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(qc,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-sm font-bold text-green-500",children:"20%"})]}),e.jsx("span",{className:"text-muted-foreground text-sm font-medium lowercase",children:"vs yesterday"})]})})]})}),Rh=()=>e.jsx(e.Fragment,{children:e.jsxs(Sl,{className:"flex-1",children:[e.jsxs(Cl,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(kl,{className:"font-bold",children:"Customers"}),e.jsx(Dl,{className:"!mt-1 font-bold uppercase"})]}),e.jsxs(Tl,{className:"py-2 pt-0",children:[e.jsx("span",{className:"text-lg font-medium",children:"Top Customer:"}),e.jsx(zh,{})]})]})}),zh=({})=>{const t=[31,69],a={series:[31,69],labels:["New Customers","Returning Customers"],dataLabels:{enabled:!0}};return e.jsx(e.Fragment,{children:e.jsx(Pc,{series:t,options:a,type:"donut",height:200,width:"100%"})})},lf=()=>e.jsx(e.Fragment,{children:e.jsx(Qe,{title:"Reports",children:e.jsxs("div",{className:"flex w-full flex-row justify-between gap-5",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Oa,{title:"Sales Revenue",date:!0,formatAmount:!0}),e.jsx(Oa,{title:"Today's Revenue",formatAmount:!0}),e.jsx(Oa,{title:"Expected Profit",formatAmount:!0})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Oa,{title:"Total Collectibles",date:!0,formatAmount:!0}),e.jsx(Oa,{title:"Total Inventories",children:"Test"}),e.jsx(Oa,{title:"Total Capital",formatAmount:!0})]})]}),e.jsx(Rh,{})]})})});export{nf as Expenses,sf as Inventory,rf as InventoryItemsPage,Vh as Invoice,df as Login,ef as PendingTransfer,Xh as PointOfSalePage,Gh as ProductPrices,Qh as Products,lf as Reports,af as RolePermissions,Yh as Supplier,Jh as Transaction,Zh as Transfer,Bh as UserInfo,tf as UserSales,$h as Warehouse};
