import{j as e,R as Pi,k as we,r as h,X as Tn,h as He,l as An,m as Fi,n as Ei,o as Ii,B as D,M as at,W as Li,b as pe,p as st,q as Mi,t as Wi,v as Ri,w as el,L as C,x as ce,y as oe,z as de,C as ue,D as U,I as L,E as tl,H as zi,J as Zt,K as qi,f as sn,O as al,Q as sl,T as nl,U as rl,V as Et,Y as It,Z as Lt,_ as Mt,$ as xt,a0 as Oe,a1 as J,a2 as ll,a3 as il,a4 as Ui,a5 as Vi,a6 as Ki,a7 as $i,a8 as Hi,a9 as Bi,aa as Yi,ab as Pn,ac as ze,ad as Gt,ae as Xt,af as cl,ag as es,ah as ht,ai as ft,aj as me,ak as pt,al as Jt,am as Tt,an as At,ao as nn,ap as kt,aq as mt,ar as Oa,as as sa,at as Qi,au as Zi,av as bs,aw as Ns,ax as ea,ay as hs,az as Gi,aA as ol,aB as gt,aC as Xi,aD as Ji,aE as ec,aF as tc,aG as ac,aH as sc,aI as dl,aJ as nc,aK as rc,aL as lc,aM as ic,aN as ul,aO as cc,aP as oc,aQ as ml,aR as rs,aS as w,aT as it,aU as rn,aV as Fn,aW as xl,aX as hl,aY as fl,aZ as En,a_ as In,a$ as Ln,b0 as Mn,b1 as dc,b2 as uc,b3 as pl,b4 as gl,b5 as fs,b6 as vl,b7 as jl,b8 as tt,b9 as Wn,ba as mc,bb as ws,bc as xc,bd as yl,be as ja,bf as hc,bg as fc,bh as bl,bi as Nl,bj as pc,bk as gc,bl as vc,bm as jc,bn as wl,bo as yc,bp as Rn,d as zn,bq as qn,br as Un,bs as bc,bt as Nc,bu as hr,bv as fr,bw as pr,bx as _l,by as Sl,bz as wc,bA as gr,bB as _c,bC as Sc}from"./index-4ae72835.js";import{bD as Gh}from"./index-4ae72835.js";import{a as re,I as ne,D as Qe,A as ee,b as te,c as ae,F as Vn,u as Ze,d as Ke,e as Cc,S as kc,P as g,h as Dc,i as Oc,j as vr,f as _s,k as Tc}from"./FormatCurrency-5f99575d.js";const na=t=>e.jsx(Pi,{className:"flex loading",type:"spin",color:"#16A116",height:t.height,width:t.width});/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=we("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ea=we("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=we("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=we("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=we("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=we("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=we("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=we("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=we("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=we("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=we("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=we("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=we("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=we("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=we("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=we("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=we("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=we("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=we("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=we("UserRoundPlus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),nt=({children:t,title:a,isOpen:s,onClose:n,closeOnOverlayClick:r})=>{const l=h.useRef(null),[i,d]=h.useState(!1),c=s?"animate-fade-in":"animate-fade-out";return h.useEffect(()=>{var u;if(s)d(!0);else{(u=l.current)==null||u.classList.add("fade-out");const o=setTimeout(()=>{d(!1),n()},300);return()=>clearTimeout(o)}},[s,n]),e.jsx(e.Fragment,{children:i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:l,className:`modal-content ${c} absolute left-1/2 top-1/2 z-50 flex -translate-x-1/2 -translate-y-1/2 transform flex-col gap-5 rounded-md bg-white stroke-1 p-5 pb-10 shadow-2xl`,children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("span",{className:"text-lg font-bold uppercase tracking-tight text-gray-800",children:a}),e.jsx("span",{className:"close-button relative right-0 top-0 flex-none cursor-pointer justify-end",onClick:n,children:e.jsx(Tn,{strokeWidth:2,size:28})})]}),t]}),e.jsx("div",{className:`modal-overlay fixed left-0 top-0 z-30 h-full w-full bg-black bg-opacity-70 ${c}`,onClick:r?n:()=>{}})]})})},Uc=()=>{const t=He(),{warehouses:a}=An(),[s,n]=h.useState({id:a.length+1||0,code:"",name:"",location:""}),r=u=>{const{name:o,value:m}=u.target;n(x=>({...x,[o]:m}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["warehouses"]}),n({id:a.length+1||0,code:"",name:"",location:""})},onError:u=>{console.error("Warehouse Data failed",u)}},{mutateAsync:i}=re({mutationKey:["removeWarehouse"],mutationFn:Fi,...l}),{mutateAsync:d}=re({mutationKey:["addWarehouse"],mutationFn:Ei,...l}),{mutateAsync:c}=re({mutationKey:["updateWarehouse"],mutationFn:Ii,...l});return{value:s,setValue:n,handleChange:r,removeWarehouseMutation:i,addWarehouseMutation:d,updateWarehouseMutation:c}},Vc=({isUpdate:t=!1,onClose:a,isDelete:s})=>{const{warehouseSelected:n}=An(),{value:r,setValue:l,handleChange:i,addWarehouseMutation:d,updateWarehouseMutation:c,removeWarehouseMutation:u}=Uc();h.useEffect(()=>{(t||s)&&l(n)},[t,s,n,l]);const o=async()=>{console.log("warehouseForm:",r);try{await new Promise(m=>setTimeout(m,1e3)),t&&(console.log("Update Warehouse:",r.id),await c(r),a()),s?(console.log("Remove Warehouse:",r.id),await u(r.id),a()):!t&&!s&&(console.log("Add Warehouse:",r.id),await d(r),a())}catch(m){console.error("Warehouse Data submission failed",m)}};return e.jsx(e.Fragment,{children:s?e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:m=>{m.preventDefault(),o()},children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(D,{type:"submit",fill:"red",children:s?"Delete Warehouse":"Add Warehouse"})})})}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:m=>{m.preventDefault(),o()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse ID"}),e.jsx(ne,{name:"id",value:(r==null?void 0:r.id)||0,type:"number",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Code"}),e.jsx(ne,{name:"code",placeholder:"Warehouse Code",value:(r==null?void 0:r.code)||"",onChange:i,maxLength:3})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Name"}),e.jsx(ne,{name:"name",placeholder:"Warehouse Name",value:(r==null?void 0:r.name)||"",onChange:i,required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Location"}),e.jsx(ne,{name:"location",placeholder:"Warehouse Location",type:"string",value:(r==null?void 0:r.location)||"",onChange:i,required:!0})]}),e.jsxs("div",{className:"flex flex-row justify-center gap-1",children:[e.jsx(D,{fill:"green",className:"",type:"submit",children:t?"Update Warehouse":"Add Warehouse"}),e.jsx(D,{fill:"red",className:"",onClick:a,type:"reset",children:"Cancel"}),e.jsx(D,{onClick:()=>console.log(r),type:"button",children:"console form"})]})]})})})})},Kc=({openModal:t})=>{const{warehouses:a,setWarehouseSelected:s,isFetching:n,progress:r}=An(),l=()=>{t({},"add")},i=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:u=>c.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:u=>c.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE ID"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.id})},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{className:"items-center",children:e.jsxs(D,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["WAREHOUSE NAME ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.name})},{accessorKey:"code",header:()=>e.jsx("div",{className:"text-center",children:"code"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.code})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-center",children:"LOCATION"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.location})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:c})=>{const u=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>d(u),className:"flex flex-row items-center gap-2",children:[e.jsx(Vn,{})," Edit"]})})}}],d=c=>{s(c),t(c,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:i,filterWhat:"location",dataType:"",isLoading:n,openModal:l})})},Ih=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Warehouse",children:e.jsxs(Li,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Kc,{openModal:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="edit"?"Edit Warehouse":n==="remove"?"Remove Warehouse":"Add Warehouse",children:e.jsx(Vc,{onClose:s,isUpdate:n==="edit",isDelete:n==="remove"})})]})})})},Dl=()=>{const t=He();pe(),st();const[a,s]=h.useState({}),n=(u,o)=>{s(m=>({...m,[u]:o}))},r=u=>{s(o=>({...o,...u}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["invoices"]}),s({}),el.success("Submitted successfully!")},onError:u=>{console.error("Invoices Data failed",u.message)}},{mutateAsync:i}=re({mutationKey:["addInvoice"],mutationFn:Mi,...l}),{mutateAsync:d}=re({mutationKey:["updateInvoice"],mutationFn:Wi,...l}),{mutateAsync:c}=re({mutationKey:["removeInvoice"],mutationFn:Ri,...l});return{value:a,setValue:s,selectChange:r,handleChange:n,addInvoiceMutation:i,updateInvoiceMutation:d,removeInvoiceMutation:c}},$c=({formAction:t="add"})=>{const{invoices:a,invoiceSelected:s}=st(),{auth:n}=pe(),r=async()=>{console.log("invoiceForm:",l);try{await new Promise(o=>setTimeout(o,1e3)),t==="update"&&console.log("Update Invoice:",l.id),t==="remove"?(console.log("Remove Invoice:",l.id),await u(l.id)):t==="add"&&console.log("Add Invoice:",l.id)}catch(o){console.error("Invoice Data submission failed",o.message)}},{value:l,setValue:i,handleChange:d,selectChange:c,removeInvoiceMutation:u}=Dl();return h.useEffect(()=>{t==="update"&&(i(s),console.log("update",s.id)),t==="remove"&&(i(s),console.log("remove",s.id)),t==="add"&&i({})},[s,t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:o=>{o.preventDefault(),r()},children:[t==="remove"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(D,{type:"submit",fill:"red",children:"Delete Invoice"})})}),t==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex min-w-[700px] max-w-2xl  flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Invoice ID:"}),t==="update"?s.id:""]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Issued By:"}),t==="update"?s.issued_by.firstname.toUpperCase():n.user.firstname.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Created At:"}),e.jsx("span",{className:"text-base",children:Ke(s.created_at)})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"OR #:"}),e.jsx("span",{className:"text-base",children:s.or_no})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Reference #:"}),e.jsx("span",{className:"text-base",children:s.reference_no?s.reference_no:"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold uppercase ",children:"Type"}),e.jsxs(ce,{id:"type",name:"type",onValueChange:o=>c({type:o}),defaultValue:t==="update"?s.type:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(U,{value:"payment",children:"Payment"},"payment"),e.jsx(U,{value:"exit",children:"Exit"},"exit")]})]},"type")]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"payment_method",className:"text-sm font-bold uppercase ",children:"Payment Method"}),e.jsxs(ce,{id:"payment_method",name:"type",onValueChange:o=>c({payment_method:o}),defaultValue:t==="update"?s.payment_method:"",children:[e.jsx(oe,{children:e.jsx(de,{placeholder:"Select Payment Method"})}),e.jsxs(ue,{className:"bg-white",id:"type",children:[e.jsx(U,{value:"cash",children:"Cash"}),e.jsx(U,{value:"credit",children:"Credit"}),e.jsx(U,{value:"debit",children:"Debit"}),e.jsx(U,{value:"wallet",children:"Wallet"})]})]},"type")]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"subtotal",className:"text-sm font-bold uppercase",children:"Subtotal"}),e.jsx(L,{name:"subtotal",id:"subtotal",value:t==="update"?s.subtotal:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_tax",className:"text-sm font-bold uppercase",children:"Total Tax"}),e.jsx(L,{name:"total_tax",id:"total_tax",value:t==="update"?s.total_tax:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_discount",className:"text-sm font-bold uppercase",children:"Total Discount"}),e.jsx(L,{name:"total_discount",id:"total_discount",value:t==="update"?s.total_discount:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(C,{htmlFor:"total_amount_due",className:"text-sm font-bold uppercase",children:"Total Amount Due"}),e.jsx(L,{name:"total_amount_due",id:"total_amount_due",value:t==="update"?s.total_amount_due:"",onChange:d,required:!0})]})]})]}),e.jsx(D,{onClick:()=>{console.log("InvoiceFORMDATA:",l)},children:"console form"})]})]})})},Hc=({modalHandler:t})=>{const{invoices:a,setInvoiceSelected:s}=st(),n=(l,i)=>{i==="update"?(s(l),t(l,"update")):i==="remove"?(s(l),t(l,"remove")):(t(l,"add"),console.log("add"))};console.log("invoices:",a);const r=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"justify-center",children:"Invoice ID"})},{id:"or_no",accessorKey:"or_no",header:()=>e.jsx("div",{className:"justify-center",children:"OR #"})},{accessorKey:"reference_no",header:()=>e.jsx("div",{className:"justify-center",children:"Reference #"}),cell:({row:l})=>{const i=l.original;return e.jsx(e.Fragment,{children:i.reference_no===null?"N/A":i.reference_no})}},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"justify-center",children:"Sub Total Price"})},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"justify-center",children:"Amount Due"})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:l})=>{const i=l.original;return e.jsxs("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:[e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>n(i,"update"),className:"flex flex-row items-center gap-2",children:[e.jsx(Vn,{})," Edit"]}),e.jsx(D,{fill:"red",onClick:()=>n(i,"remove"),children:"Remove"})]})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,filterWhat:"or_no",columns:r,dataType:"Invoice",openModal:()=>n})})},Lh=({})=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d),console.log("modalAction:",n)};return console.log(Cc()),e.jsx(e.Fragment,{children:e.jsx(at,{title:"Invoice",children:e.jsxs(tl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Hc,{modalHandler:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="update"?"Edit Invoice":n==="remove"?"Remove Invoice":"Add Invoice",children:e.jsx($c,{onClose:s,formAction:n})})]})})})},Bc=(t,a)=>{const s=He(),[n,r]=h.useState({firstname:t.firstname,lastname:t.lastname,username:t.username,email:t.email,contact_no:t.contact_no,position:t.position,user_id:t.id,role_id:0});h.useEffect(()=>{a&&r(p=>{var b;return{...p,role_id:(b=a.find(T=>T.title===t.position))==null?void 0:b.id}})},[a]);const[l,i]=h.useState(!1),[d,c]=h.useState(!1),[u,o]=h.useState(null),[m,x]=h.useState(null),f=(p,b)=>{i(!0),x(null),o(null),r(T=>({...T,[p]:b}))},j=p=>{i(!0),x(null),r(b=>({...b,[p.target.name]:p.target.value})),p.target.name==="position"&&r(b=>{var T;return{...b,role_id:(T=a.find(P=>P.title===p.target.value))==null?void 0:T.id}})},v=async()=>{var p,b;if(c(!0),((p=n.contact_no)==null?void 0:p.length)>11||((b=n.contact_no)==null?void 0:b.length)<11)o("Contact number must be 11 digits"),c(!1);else return await y(n)},_={onSuccess:async()=>{await s.invalidateQueries({queryKey:["user"]}),c(!1),i(!1),x("User info has been updated")},onError:p=>{console.error(p),o(p.message),c(!1)}},{mutateAsync:y}=re({mutationKey:["editUser"],mutationFn:zi,..._});return{user:n,isChanged:l,isSubmitting:d,error:u,success:m,handleSubmit:v,handleChangeSelect:f,handleChange:j,editUserMutation:y}},Yc=()=>{const t=He(),{users:a}=Zt(),{roles:s}=Zt(),n=a[a.length-1].id+1,[r,l]=h.useState({});h.useEffect(()=>{l(b=>({...b,active_status:"active",id:n}))},[]);const[i,d]=h.useState(!1),[c,u]=h.useState(!1),[o,m]=h.useState(null),[x,f]=h.useState(null),j=()=>{var P,M;const T=Object.keys(r).map(E=>({text:E})).length===11;if(T){const E=r.password===r.password_confirmation;if(!E)return[E,"Passwords do not match"];const I=!(((P=r.contact_no)==null?void 0:P.length)>11||((M=r.contact_no)==null?void 0:M.length)<11);return I?[T&&E&&I,""]:[I,"Please input a valid contact number"]}else{const E=!!r.position;return E?[T,"Please correctly fill up all fields"]:[E,"Please choose a position"]}},v=b=>{d(!0),f(null),m(null),l(T=>({...T,[b.target.name]:b.target.value})),b.target.name==="position"&&l(T=>{var P;return{...T,role_id:(P=s.find(M=>M.title===b.target.value))==null?void 0:P.id}})},_=async()=>{const b=j();if(u(!0),b[0])return await p(r);m(b[1]),u(!1)},y={onSuccess:async()=>{await t.invalidateQueries({queryKey:["user"]}),u(!1),d(!1),f("User info has been added")},onError:b=>{console.error(b),m(b.message),u(!1)}},{mutateAsync:p}=re({mutationKey:["addUser"],mutationFn:qi,...y});return{user:r,isChanged:i,isSubmitting:c,error:o,success:x,handleSubmit:_,handleChange:v,addUserMutation:p}},Qc=()=>{const t=He(),{roles:a,selectedUser:s}=Zt(),n=a.filter(A=>A.title===s.position),[r,l]=h.useState([]),[i,d]=h.useState([]),[c,u]=h.useState([]),{data:o}=sn({queryKey:["all-permissions"],queryFn:()=>nl(),refetchOnWindowFocus:!1});h.useEffect(()=>{const A=o;A&&d(A)},[o]);const{isFetching:m,data:x}=sn({queryKey:["permissions"],queryFn:()=>rl(n[0].id),refetchOnWindowFocus:!1});h.useEffect(()=>{const A=x;A&&(l(A),u(A))},[x]);const[f,j]=h.useState(!1),[v,_]=h.useState(!1),[y,p]=h.useState(null),[b,T]=h.useState(null),P=A=>{j(!0),T(null),p(null),A.target.checked===!1?u(c.filter(F=>F.permission_id!==Number(A.target.value))):u([...c,{id:null,role_id:n[0].id,permission_id:Number(A.target.value)}])},M=async()=>{if(_(!0),c.length>r.length){const A=c.filter(F=>F.id===null);if(A.length>1)A.forEach(async F=>{await I(F)});else return await I(A)}else if(c.length<r.length){const A=r.filter(F=>c.find(z=>z.permission_id===F.permission_id)===void 0);if(A.length>1)A.forEach(async F=>{await S(F)});else return await S(A[0])}else _(!1),j(!1),T("No changes made")},E={onSuccess:async()=>{await t.invalidateQueries({queryKey:["role-permission"]}),_(!1),j(!1),T("Role permissions have been updated")},onError:A=>{console.error(A),p(A.message),_(!1)}},{mutateAsync:I}=re({mutationKey:["addpermission"],mutationFn:al,...E}),{mutateAsync:S}=re({mutationKey:["deletepermission"],mutationFn:sl,...E});return{permissions:r,allPermissions:i,permissionChange:c,isChanged:f,isSubmitting:v,error:y,success:b,handleSubmit:M,handleChange:P}},Zc=()=>{const t=He(),{roles:a}=Zt(),[s,n]=h.useState(),[r,l]=h.useState(0);h.useState();const[i,d]=h.useState([]),[c,u]=h.useState([]),[o,m]=h.useState([]),{data:x}=sn({queryKey:["all-permissions"],queryFn:()=>nl(),refetchOnWindowFocus:!1});h.useEffect(()=>{const F=x;F&&u(F)},[x]);const[f,j]=h.useState(!1),[v,_]=h.useState(!1),[y,p]=h.useState(null),[b,T]=h.useState(null),P=(F,z)=>{T(null),p(null),n(a.find(K=>K.title===z)),l(a.find(K=>K.title===z).id)};h.useEffect(()=>{async function F(){const z=await rl(r);d(z),m(z)}F()},[r]);const M=(F,z)=>{j(!0),T(null),p(null),m(F?[...o,{id:null,role_id:r,permission_id:z}]:o.filter(K=>K.permission_id!==z))},E=async()=>{if(_(!0),o.length>i.length){const F=o.filter(z=>z.id===null);if(F.length>1)F.forEach(async z=>{await S(z)});else return await S(F[0])}else if(o.length<i.length){const F=i.filter(z=>o.find(K=>K.permission_id===z.permission_id)===void 0);if(F.length>1)F.forEach(async z=>{await A(z)});else return await A(F[0])}else _(!1),j(!1),T("No changes made")},I={onSuccess:async()=>{await t.invalidateQueries({queryKey:["role-permission"]}),_(!1),j(!1),T("Role permissions have been updated")},onError:F=>{console.error(F),p(F.message),_(!1)}},{mutateAsync:S}=re({mutationKey:["addpermission"],mutationFn:al,...I}),{mutateAsync:A}=re({mutationKey:["deletepermission"],mutationFn:sl,...I});return{roles:a,roleSelect:s,permissions:i,allPermissions:c,permissionChange:o,roleId:r,isChanged:f,isSubmitting:v,error:y,success:b,handleSubmit:E,handleChange:M,handleChangeSelect:P}},Gc=({openModal:t})=>{const{users:a,isFetching:s,progress:n,progress2:r,setSelectedUser:l}=Zt(),i=o=>{l(o),t(o,"edit")},d=o=>{l(o),t(o,"editPerms")},c=()=>{t({},"add")},u=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:m=>o.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:m=>o.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"lastname",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["LAST NAME ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.lastname})},{accessorKey:"firstname",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FIRST NAME ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.firstname})},{accessorKey:"position",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["ROLE ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.position})},{accessorKey:"username",header:()=>e.jsx("div",{className:"text-center",children:"USERNAME"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.username})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.contact_no})},{accessorKey:"email",header:()=>e.jsx("div",{className:"text-center",children:"EMAIL ADDRESS"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.email})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:o})=>{const m=o.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>i(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User"})]}),e.jsxs(Oe,{onClick:()=>d(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User Permission"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:u,filterWhat:"username",dataType:"User",openModal:c,isLoading:s})})},Xc=({onClose:t})=>{const{user:a,isChanged:s,isSubmitting:n,error:r,success:l,handleSubmit:i,handleChange:d}=Yc(),{roles:c}=Zt(),u=c?c.map(o=>o.title):[];return l&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:o=>{o.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User ID"}),e.jsx(ne,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User First Name"}),e.jsx(ne,{name:"firstname",placeholder:"User First Name",value:a.firstname||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Last Name"}),e.jsx(ne,{name:"lastname",placeholder:"User Last Name",value:a.lastname||"",onChange:d,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Email Address"}),e.jsx(ne,{name:"email",placeholder:"User Email Address",type:"email",value:a.email||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Contact Number"}),e.jsx(ne,{name:"contact_no",placeholder:"User Contact Number",type:"number",value:a.contact_no||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Position"}),e.jsx(kc,{name:"position",className:"text-lg",placeholder:"---Select Position---",onChange:d,options:u,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Username"}),e.jsx(ne,{name:"username",placeholder:"User Username",type:"string",value:a.username||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Password"}),e.jsx(ne,{name:"password",placeholder:"User Password",type:"password",value:a.password||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Confirm Password"}),e.jsx(ne,{name:"password_confirmation",placeholder:"Confirm Password",type:"password",value:a.password_confirmation||"",onChange:d,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:s?"green":null,disabled:!s,onClick:i,children:n?"Submitting":"Add User"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),r&&e.jsx("div",{className:"font-bold text-red-700",children:r}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Jc=({onClose:t})=>{const{selectedUser:a,roles:s}=Zt(),{auth:n}=pe(),{user:r,isChanged:l,isSubmitting:i,error:d,success:c,handleSubmit:u,handleChange:o,handleChangeSelect:m}=Bc(a,s);return c&&setTimeout(()=>{t()},3e3),e.jsxs(e.Fragment,{children:[a.id===n.user.id&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing your own account.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("form",{onSubmit:async x=>{x.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"id",children:"User ID"}),e.jsx(ne,{type:"text",name:"id",placeholder:"User ID",className:"inputbox",value:r.user_id,disabled:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"First name"}),e.jsx(ne,{type:"text",name:"firstname",placeholder:"First name",className:"inputbox rounded-md bg-slate-100",value:r.firstname,onChange:o})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Last name"}),e.jsx(ne,{type:"text",name:"lastname",placeholder:"Last name",className:"inputbox rounded-md bg-slate-100",value:r.lastname,onChange:o})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(ne,{type:"text",name:"username",placeholder:"Username",className:"inputbox rounded-md bg-slate-100",value:r.username,onChange:o})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx(ne,{type:"email",name:"email",placeholder:"Email address",className:"inputbox rounded-md bg-slate-100",value:r.email,onChange:o})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Contact number"}),e.jsx(ne,{type:"number",name:"contact_no",placeholder:"09XXXXXXXXX",className:"inputbox rounded-md bg-slate-100",value:r.contact_no,onChange:o})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"position",children:"Position"}),e.jsxs(ce,{onValueChange:x=>m("position",x),required:!0,children:[e.jsx(oe,{name:"position",className:"flex flex-row items-center gap-3 truncate text-md rounded-md bg-slate-100",children:e.jsx(de,{placeholder:r.position?r.position.charAt(0).toUpperCase()+r.position.slice(1):"Choose position..."})}),e.jsx(ue,{className:"bg-white font-medium text-md",children:s.length>0?s.map(x=>e.jsx(U,{value:x.title,children:x.title.charAt(0).toUpperCase()+x.title.slice(1)},x.id)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:l?"green":null,disabled:!l,onClick:u,children:i?"Submitting":"Edit User"})}),e.jsxs("div",{className:"flex flex-col col-span-3 items-start",children:[c&&e.jsx("div",{className:"font-bold text-green-700",children:c}),d&&e.jsx("div",{className:"font-bold text-red-700",children:d}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})]})},eo=({onClose:t})=>{const{selectedUser:a}=Zt(),{permissions:s,allPermissions:n,permissionChange:r,isChanged:l,isSubmitting:i,error:d,success:c,handleChange:u,handleSubmit:o}=Qc(),{auth:m}=pe(),x=n.filter(v=>Object.keys(v).some(_=>!v.title.includes("view".toLowerCase())&&v.title.includes("users".toLowerCase()))),f=n.filter(v=>Object.keys(v).some(_=>!v.title.includes("view".toLowerCase())&&v.title.includes("product".toLowerCase())||v.title.includes("catalog".toLowerCase()))),j=n.filter(v=>Object.keys(v).some(_=>v.title.includes("view".toLowerCase())));return c&&setTimeout(()=>{t()},3e3),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col grid-cols-12",children:[e.jsxs("p",{className:"text-xl font-bold",children:["Current user role: ",a.position.toUpperCase()]}),a.position===m.role&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing a user with the same role as you.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("br",{}),e.jsxs("p",{className:"text-lg",children:["Note: After saving changes, the affected user(s) need to log out",e.jsx("br",{}),"and log in again for changes to take effect."]}),e.jsx("br",{}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	User Management "}),e.jsx("div",{className:"flex flex-row mt-4 mx-2 justify-evenly",children:x.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):x.map((v,_)=>e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:u,checked:r.some(y=>y.permission_id===v.id)}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},_))})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	Products "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:f.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):f.map((v,_)=>{const y=r.some(p=>p.permission_id===v.id);return e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:u,checked:y}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},_)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	Views "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map((v,_)=>{const y=r.some(p=>p.permission_id===v.id);return e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:u,checked:y}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},_)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(D,{type:"submit",fill:l?"green":null,disabled:!l,onClick:o,children:i?"Submitting":"Edit Permission"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start align-center",children:[c&&e.jsx("div",{className:"font-bold text-green-700",children:c}),d&&e.jsx("div",{className:"font-bold text-red-700",children:d}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})},Mh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"User Information",children:e.jsxs(ll,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Gc,{openModal:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="edit"?"Edit User":n==="add"?"Add User":"Edit User Role Permissions",children:e.jsxs(e.Fragment,{children:[n==="add"&&e.jsx(Xc,{onClose:s}),n==="edit"&&e.jsx(Jc,{onClose:s}),n==="editPerms"&&e.jsx(eo,{onClose:s})]})})]})})})},to=()=>{const t=He(),{selectedSupplier:a,setSelectedSupplier:s}=il(),[n,r]=h.useState({});h.useEffect(()=>{a&&r(a)},[a]);const[l,i]=h.useState({}),[d,c]=h.useState(!1),[u,o]=h.useState(!1),[m,x]=h.useState(null),[f,j]=h.useState(null),v=M=>{var E,I,S,A;if(M){const F=Object.keys(n).map(K=>({text:K})),z=F.length===3||F.length>3;if(z){const K=!(((E=n.contact_no)==null?void 0:E.length)>11||((I=n.contact_no)==null?void 0:I.length)<11);return K?[K,""]:[K,"Contact number must be 11 digits"]}else return[z,"Please fill up all fields"]}else{const F=Object.keys(l).map(K=>({text:K})),z=F.length===3||F.length>3;if(z){const K=!(((S=l.contact_no)==null?void 0:S.length)>11||((A=l.contact_no)==null?void 0:A.length)<11);return K?[K,""]:[K,"Contact number must be 11 digits"]}else return[z,"Please fill up all fields"]}},_=(M,E)=>{c(!0),j(null),x(null),E?r(I=>({...I,[M.target.name]:M.target.value})):i(I=>({...I,[M.target.name]:M.target.value}))},y=async M=>{const E=v(M);if(o(!0),E[0])return M?await b(n):await P(l);x(E[1]),o(!1),console.log(l)},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),o(!1),c(!1),j("Supplier info has been edited")},onError:M=>{console.error(M),x(M.message),o(!1)}},{mutateAsync:b}=re({mutationKey:["updateSupplier"],mutationFn:Ui,...p}),T={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),o(!1),c(!1),j("Supplier info has been added")},onError:M=>{console.error(M),x(M.message),o(!1)}},{mutateAsync:P}=re({mutationKey:["addSupplier"],mutationFn:Vi,...T});return{supplier:n,selectedSupplier:a,newSupplier:l,isChanged:d,isSubmitting:u,error:m,success:f,handleSubmit:y,handleChange:_,editSupplierMutation:b}},ao=({onClose:t,isUpdate:a})=>{const{supplier:s,newSupplier:n,isSubmitting:r,error:l,success:i,isChanged:d,handleChange:c,handleSubmit:u}=to();return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:o=>{o.preventDefault()},children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Supplier Name"}),e.jsx(ne,{type:"text",name:"name",placeholder:"Supplier Name",value:a?s.name||"":n.name||"",className:"inputbox rounded-md bg-slate-100",onChange:o=>c(o,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"contact_no",children:"Supplier Contact Number"}),e.jsx(ne,{type:"text",name:"contact_no",placeholder:"Supplier Contact Number",className:"inputbox rounded-md bg-slate-100",value:a?s.contact_no||"":n.contact_no||"",onChange:o=>c(o,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"address",children:"Supplier Address"}),e.jsx(ne,{type:"text",name:"address",placeholder:"Supplier Address",className:"inputbox rounded-md bg-slate-100",value:a?s.address||"":n.address||"",onChange:o=>c(o,a),required:!0})]})]}),e.jsx("div",{className:"flex flex-col mt-4 gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:d?"green":null,disabled:!d,onClick:()=>u(a),children:r?"Submitting":a?"Edit Supplier":"Add Supplier"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},so=({openModal:t})=>{const{suppliers:a,isFetching:s,progress:n,setSelectedSupplier:r}=il(),l=()=>{t({},"add")},i=c=>{r(c),t(c,"edit")},d=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:u=>c.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:u=>c.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{className:"text-center",children:e.jsxs(D,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row ml-auto mr-auto items-center",children:["NAME ",c.getIsSorted()==="asc"?e.jsx(ee,{}):c.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.name})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT NUMBER"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.contact_no})},{accessorKey:"address",header:()=>e.jsx("div",{className:"text-center",children:"ADDRESS"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.address})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"ACTION"}),cell:({row:c})=>{const u=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(D,{fill:"empty",textColor:"black",onClick:()=>i(u),className:"flex flex-row items-center gap-2",children:[e.jsx(Vn,{})," Edit"]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:d,filterWhat:"address",dataType:"Supplier",openModal:l,isLoading:s})})},Wh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Supplier",children:e.jsxs(Ki,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(so,{openModal:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="edit"?"Edit Supplier":"Add Supplier",children:e.jsx(e.Fragment,{children:e.jsx(ao,{onClose:s,isUpdate:n==="edit"})})})]})})})},Ol=()=>{const t=He(),[a,s]=h.useState({}),n=(c,u)=>{s(o=>({...o,[c]:u}))},r=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await d({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["products"]})},onError:c=>{console.error("Product Data failed",c)}},{mutateAsync:i}=re({mutationKey:["addProduct"],mutationFn:$i,...l}),{mutateAsync:d}=re({mutationKey:["patchProduct"],mutationFn:Hi,...l});return{value:a,setValue:s,handleChange:n,handleSubmit:r,addProductMutation:i}},Hn=()=>{const t=He(),[a,s]=h.useState({}),n=(c,u)=>{s(o=>({...o,[c]:u}))},r=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await d({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["productPrices"]}),s({})},onError:c=>{console.error("Product Prices Data failed",c)}},{mutateAsync:i}=re({mutationKey:["addProductListing"],mutationFn:Bi,...l}),{mutateAsync:d}=re({mutationKey:["patchProductListing"],mutationFn:Yi,...l});return{value:a,setValue:s,handleChange:n,handleSubmit:r,addProductPricesMutation:i,patchProductPricesMutation:d}},no=({handleEditProduct:t})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:n=>s.toggleAllPageRowsSelected(!!n.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:n=>s.toggleSelected(!!n.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",s.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})},{id:"actions",cell:({row:s})=>{const n=s.original;return e.jsx("div",{className:"flex flex-row justify-end text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>t(n),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2.25})}),e.jsx("span",{className:"font-medium",children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],ro=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})}],lo=({handleProdPriceDetails:t,handleEditProdPrice:a,handleToggleActiveStatus:s})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:l=>r.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:l=>r.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",r.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"WHS"})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"}),cell:({row:r})=>{const l=r.original.type;return e.jsxs("div",{className:"group relative flex w-fit items-center",children:[l==="retail"?e.jsx(Cl,{size:20,strokeWidth:2,className:"text-gray-700"}):e.jsx(Pn,{size:20,strokeWidth:1.75,className:"text-gray-700"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})}},{accessorKey:"stocks_quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"QTY"})},{accessorKey:"stocks_unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:r.original.capital_price?l:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.markup_price||0),i=ze(r.original.markup_price/r.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:l}),e.jsxs("span",{className:"text-gray-500",children:["(",i,"%)"]})]})}},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Discount"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.sale_discount||0);return e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:r.original.on_sale===1?l:e.jsxs("div",{className:"group relative flex w-fit items-center",children:[e.jsx(Tn,{size:20,strokeWidth:2,className:"text-gray-700"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm normal-case text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:"Not on sale"})]})})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:r})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:r.original.price?l:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"mx-auto w-fit text-center uppercase",children:"Approval"}),cell:({row:r})=>{const l=r.original.approval_status;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="approved"?e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"}):l==="rejected"?e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Xt,{size:20,strokeWidth:2,className:"text-amber-500"}),e.jsx("span",{className:"absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",r.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})}),cell:({row:r})=>{const l=r.original.active_status;return e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="active"?e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ln,{size:20,strokeWidth:2,className:"text-gray-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm normal-case text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l==="active"?"Active":"Inactive"})]})},enableGlobalFilter:!1},{id:"actions",cell:({row:r})=>{const l=r.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>t(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Oe,{onClick:()=>a(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(xt,{className:"bg-gray-200"}),e.jsx(Oe,{onClick:()=>s(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:l.active_status?l.active_status==="active"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ln,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set inactive"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ha,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set active"})]}):e.jsx("div",{})})]})]})})},enableGlobalFilter:!1}],io=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"product.id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Id"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Product name"," ",t.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Quantity"})},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:t})=>{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:t.original.price?a:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Approval"}),cell:({row:t})=>{const a=t.original.approval_status;return e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`${a?a==="approved"?"bg-green-600":a==="rejected"?"bg-red-600":"bg-amber-600":""}
          overflow-clip rounded-full px-2 py-1 text-xs font-bold uppercase text-white`,children:t.original.approval_status})})}}],co=({openModal:t})=>{const{auth:a}=pe(),{data:s,isLoading:n,setSelectedProduct:r}=cl(),l=()=>{t({},"add")},i=d=>{r(d),t(d,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:(a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="admin"?no({handleEditProduct:i}):ro,data:s,filterWhat:"name",dataType:"Product",openModal:l,isLoading:n})})},oo=({openModal:t,isModalOpen:a,filterWarehouse:s})=>{const{auth:n}=pe(),{data:r,isLoading:l,setSelectedProductPrice:i}=es(),d=()=>{t({},"add")},c=m=>{i(m),t(m,"details")},u=m=>{i(m),t(m,"edit")},o=m=>{i(m),t(m,"toggle_active_stat")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:n.role==="super_admin"||n.role==="admin"?lo({handleProdPriceDetails:c,handleEditProdPrice:u,handleToggleActiveStatus:o}):io,data:s?r.filter(m=>m.warehouse.id===s):r,filterWhat:"name",dataType:"Listing",openModal:d,isLoading:l})})},uo=({onClose:t})=>{const{selectedProductPrice:a}=es();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Product ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Listing ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Type"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.type})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.unit})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_quantity})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup percent"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[ze(a.markup_price/a.capital_price*100,{precision:3}).value,"%"]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.markup_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:a.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[a.on_sale===1?e.jsx(Gt,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(Tn,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[a.active_status==="active"?e.jsx(Ha,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(ln,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:a.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]})]})})},mo=({onClose:t})=>{const{patchProductPricesMutation:a}=Hn(),{selectedProductPrice:s}=es(),[n,r]=h.useState(!1),[l,i]=h.useState(null),d=async()=>(r(!n),a({id:s.id,data:{active_status:s.active_status==="active"?"inactive":"active"}}));return e.jsxs("div",{className:"flex min-w-max flex-col gap-3",children:[e.jsxs("h2",{className:"text-sm text-gray-800",children:["Are you sure you'd like to set this listing to"," ",e.jsx("strong",{children:s.active_status==="active"?"inactive":"active"}),"?"]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:s.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:s.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:s.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:s.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:s.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:s.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:s.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:s.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:s.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:s.stocks_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.price)})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-between pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{fill:"green",onClick:async()=>{(await d()).status===200?t():i("Failed to update active status")},disabled:n,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:n?"Applying...":`Set to ${s.active_status==="active"?"inactive":"active"}`})]})}),l&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:l})})]})},xo=({warehouses:t,selectedWarehouse:a,setSelectedWarehouse:s,inventories:n,selectedInventory:r,setSelectedInventory:l,inventoryProducts:i,selectedInventoryProduct:d,setSelectedInventoryProduct:c,setOpenedTab:u,onClose:o})=>{const[m,x]=h.useState(!1),[f,j]=h.useState(!1);return e.jsxs("div",{className:"grid w-full grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{required:!0,value:a==null?void 0:a.id.toString(),onValueChange:v=>{s(t==null?void 0:t.find(_=>_.id===Number(v))),l(void 0),c(void 0)},children:[e.jsx(oe,{id:"warehouse",name:"warehouse",className:"flex flex-row items-center gap-3 truncate bg-white text-sm font-bold text-slate-600",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:t?t.map(v=>e.jsxs(U,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code})]},v.code)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),e.jsxs("div",{className:"col-span-8 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"inventory",className:"text-sm font-bold text-gray-600",children:"Inventory"}),e.jsxs(ht,{open:m,onOpenChange:x,children:[e.jsx(ft,{id:"inventory",name:"inventory",className:"relative w-full",disabled:!a,asChild:!0,children:e.jsxs(me,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[r?e.jsx("div",{className:"font-bold text-slate-600",children:r.code}):e.jsx("span",{children:"Select an inventory..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[442px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{defaultValue:(r==null?void 0:r.code)||"",children:[e.jsx(Tt,{placeholder:"Inventory code..."}),!n&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(At,{className:"max-h-[200px] overflow-y-scroll",children:[(n==null?void 0:n.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No inventories.",e.jsx(nn,{to:"/inventory",className:"underline",children:"Add inventory"})]}),e.jsx(kt,{children:n&&n.map(v=>e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",value:v.code,onSelect:()=>{l(v),c(void 0),x(!1)},children:[e.jsx("span",{children:v.code}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:v.type+"  "+v.date_received})]},v.id))})]})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"inventory-product",className:"text-sm font-bold text-gray-600",children:"Inventory product"}),e.jsxs(ht,{open:f,onOpenChange:j,children:[e.jsx(ft,{id:"inventory-product",name:"inventory-product",className:"relative w-full",disabled:!r,asChild:!0,children:e.jsxs(me,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[d?e.jsx("div",{className:"font-bold text-slate-600",children:d.product.name}):e.jsx("span",{children:"Select an inventory product..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[672px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{defaultValue:d?d.id+d.product.name:"",children:[e.jsx(Tt,{placeholder:"Product name..."}),!i&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(At,{className:"max-h-[200px] overflow-y-scroll",children:[(i==null?void 0:i.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No inventory products.",e.jsx(nn,{to:`/inventory/items/${r==null?void 0:r.id}`,className:"underline",children:"Add inventory product"})]}),e.jsx(kt,{children:i&&i.map(v=>{if(v.remaining_stocks_count??0>0)return e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",value:v.id+v.product.name,onSelect:()=>{c(v),j(!1)},children:[e.jsx("span",{children:v.product.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:v.supplier_id.name+"  "+v.total_count+" remaining  "+Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(v.capital_price)})]},v.id)})})]})]})})]})]}),d&&e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-6 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Supplier"}),e.jsx("p",{className:"font-medium",children:d.supplier_id.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:d.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:d.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Capital price"}),e.jsx("p",{className:"font-medium",children:Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(d.capital_price)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Unit"}),e.jsx("p",{className:"font-medium",children:d.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Bundles unit"}),e.jsx("p",{className:"font-medium",children:d.bundles_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Remaining stocks"}),e.jsx("p",{className:"font-medium",children:d.remaining_stocks_count})]})]}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",onClick:()=>o(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{fill:"green",disabled:!d,onClick:()=>u("listings"),className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Proceed"})]})})]})},ho=({selectedWarehouse:t,selectedInventory:a,selectedInventoryProduct:s,setOpenedTab:n,onClose:r})=>{var _;const{auth:l}=pe(),{value:i,setValue:d,handleChange:c,handleSubmit:u}=Hn(),[o,m]=h.useState(!1),[x,f]=h.useState(null);h.useEffect(()=>{d(y=>({...y,product_id:s==null?void 0:s.product.id,warehouse_id:t.id,active_status:"active",approval_status:"pending",created_by:l.user.id,on_sale:0,sale_discount:0,tax_amount:0}))},[]);const[j,v]=h.useState(0);return h.useEffect(()=>{const y=i.capital_price||0,p=ze(y).multiply((j||0)/100);c("markup_price",p.value)},[i.capital_price,j]),h.useEffect(()=>{const y=i.capital_price||0,p=i.markup_price||0;c("cost",ze(y).add(p).value)},[i.capital_price,i.markup_price]),h.useEffect(()=>{const y=i.cost||0,p=i.sale_discount||0;c("price",ze(y).subtract(p).value)},[i.cost,i.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async y=>{m(!o),y.preventDefault();const p=await u({action:"add",data:i});(p==null?void 0:p.status)===201?(m(!o),r()):(m(!o),f("Failed to add product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:s.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsx("p",{className:"text-sm",children:s.supplier_id.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:t.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Inventory"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:s.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:s.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Remaining stocks"}),e.jsx("p",{className:"text-sm",children:s.remaining_stocks_count})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{currency:"PHP",style:"currency"}).format(s.capital_price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ce,{required:!0,value:i.type||"",onValueChange:y=>{c("type",y),y==="retail"?(c("unit",s.unit),c("stocks_unit",s.unit),c("stocks_quantity",1)):(c("unit",s.bundles_unit),c("stocks_unit",s.unit),c("stocks_quantity",s.quantity_per_bundle))},children:[e.jsx(oe,{name:"type",className:"flex flex-row items-center gap-3 bg-white text-sm",children:e.jsx(de,{placeholder:"Choose type..."})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{className:"rounded-md",value:"retail",children:"Retail"},"retail"),e.jsx(U,{className:"rounded-md",value:"wholesale",children:"Wholesale"},"wholesale")]})]})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",readOnly:!0,value:i.unit||""})]}),e.jsxs("div",{className:"relative col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_quantity",className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx(L,{id:"stocks_quantity",name:"stocks_quantity",type:"number",readOnly:!0,value:i.stocks_quantity||""})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_unit",className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx(L,{id:"stocks_unit",name:"stocks_unit",type:"text",readOnly:!0,value:i.stocks_unit||""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:i.capital_price||"",onChange:y=>{c("capital_price",ze(y.target.value).value)},onBlur:y=>{y.target.value=Number(i.capital_price).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(L,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:j.toString()||"",onChange:y=>{v(ze(y.target.value,{precision:3}).value)},onBlur:y=>{y.target.value=j.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(L,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,step:.01,readOnly:!0,placeholder:"0.00",className:"pl-7",value:i.markup_price?i.markup_price.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(L,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:i.cost?i.cost.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(L,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,max:i.cost||0,step:.01,disabled:i.on_sale===void 0?!0:i.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:i.sale_discount||"",onChange:y=>{c("sale_discount",ze(y.target.value).value)},onBlur:y=>{y.target.value=Number(i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(L,{name:"on_sale",id:"on_sale",type:"checkbox",className:"h-4 w-fit",checked:i.on_sale===1||!1,onChange:y=>{c("on_sale",y.target.checked?1:0),c("sale_discount",0)}}),e.jsx(C,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(L,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((_=i.price)==null?void 0:_.toFixed(2))||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start gap-3",children:[e.jsx(Oa,{id:"active_status",name:"active_status",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:i.active_status==="active"||!1,onCheckedChange:y=>{c("active_status",y?"active":"inactive")}}),e.jsx(C,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{defaultValue:"pending",value:i.approval_status||"",onValueChange:y=>{c("approval_status",y),y==="approved"&&c("approved_by",l.user.id)},required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"pending"})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(U,{className:"rounded-md",value:"approved",children:"Approved"},"approved")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"created_by",className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx(L,{name:"created_by",className:"text-sm disabled:pointer-events-none",readOnly:!0,disabled:!0,value:l.user?l.user.firstname+" "+l.user.lastname:""})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between whitespace-nowrap pt-4",children:[e.jsx(D,{fill:"default",onClick:()=>n("product"),className:"flex-0 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Go back"}),e.jsx(D,{type:"submit",fill:"green",disabled:o||i.type===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Submitting...":"Add listing"})]}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:x})})]})})})},fo=({onClose:t})=>{const{warehouses:a}=sa(),[s,n]=h.useState(),[r,l]=h.useState([]),[i,d]=h.useState();h.useEffect(()=>{l([]),s&&Qi(s.id).then(j=>{l(j)})},[s]);const[c,u]=h.useState([]),[o,m]=h.useState();h.useEffect(()=>{u([]),i&&Zi(i.id).then(j=>{u(j)})},[i]);const[x,f]=h.useState("product");return e.jsx(e.Fragment,{children:e.jsxs(bs,{defaultValue:"product",className:"min-w-[42rem] max-w-2xl space-y-4",value:x,onValueChange:j=>f(j),children:[e.jsxs(Ns,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(ea,{value:"product",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Product"}),e.jsx(ea,{disabled:!o,value:"listings",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Listing"})]}),e.jsx(hs,{value:"product",children:e.jsx(xo,{warehouses:a,selectedWarehouse:s,setSelectedWarehouse:n,inventories:r,selectedInventory:i,setSelectedInventory:d,inventoryProducts:c,selectedInventoryProduct:o,setSelectedInventoryProduct:m,setOpenedTab:f,onClose:t})}),e.jsx(hs,{value:"listings",children:o&&e.jsx(ho,{selectedWarehouse:s||{},selectedInventory:i||{},selectedInventoryProduct:o,setOpenedTab:f,onClose:t})})]})})},po=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:n}=Ol(),[r,l]=h.useState(!1),[i,d]=h.useState(null),[c,u]=h.useState(),o=(m,x,f,j)=>{f.test(m.target.value)?(m.target.value=m.target.value,s(x,m.target.value),u(void 0)):u({type:x,error:j})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async m=>{l(!r),m.preventDefault();const x=await n({action:"add",data:a});(x==null?void 0:x.status)===201?(l(!r),t()):(l(!r),d("Failed to submit product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(L,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no||"",onChange:m=>{o(m,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(c&&c.type==="serial_no"),className:"text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(L,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name||"",onChange:m=>{o(m,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(L,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand||"",onChange:m=>{o(m,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(L,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size||"",onChange:m=>{o(m,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(L,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color||"",onChange:m=>{o(m,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(c&&c.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",onBlur:m=>s("notes",m.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:r||Object.keys(a).length===0||c!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:r?"Submitting...":"Add product"})]}),i&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:i})})]})})})},go=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:n}=Ol(),{selectedProduct:r}=cl(),[l,i]=h.useState(!1),[d,c]=h.useState(null),[u,o]=h.useState(),m=(x,f,j,v)=>{j.test(x.target.value)?(x.target.value=x.target.value,s(f,x.target.value),o(void 0)):o({type:f,error:v})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async x=>{i(!l),x.preventDefault();const f=await n({action:"update",id:r.id,data:a});(f==null?void 0:f.status)===200?(i(!l),t()):(i(!l),c("Failed to update product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(L,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no!==void 0?a.serial_no:r.serial_no||"",onChange:x=>{m(x,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(u&&u.type==="serial_no"),className:"text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(L,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name!==void 0?a.name:r.name||"",onChange:x=>{m(x,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(u&&u.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(L,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand!==void 0?a.brand:r.brand||"",onChange:x=>{m(x,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(L,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size!==void 0?a.size:r.size||"",onChange:x=>{m(x,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(L,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color!==void 0?a.color:r.color||"",onChange:x=>{m(x,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",defaultValue:a.notes!==void 0?a.notes:r.notes||"",onBlur:x=>s("notes",x.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:l||Object.keys(a).length===0||u!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Applying...":"Apply changes"})]}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:d})})]})})})},Rh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Products",children:e.jsxs(Gi,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(co,{openModal:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="add"?"Add Product":"Edit Product",children:e.jsxs(e.Fragment,{children:[n==="add"&&e.jsx(po,{onClose:s}),n==="edit"&&e.jsx(go,{onClose:s})]})})]})})})},vo=({onClose:t})=>{var j,v,_,y;const{auth:a}=pe(),{value:s,setValue:n,handleChange:r,handleSubmit:l}=Hn(),{selectedProductPrice:i}=es(),[d,c]=h.useState(!1),[u,o]=h.useState(null),m=()=>{const{approved_by:p,created_by:b,created_at:T,warehouse:P,updated_at:M,product:E,id:I,...S}=i;n(S),f(ze((i.markup_price/i.capital_price||1)*100,{precision:3}).value)},[x,f]=h.useState(ze((i.markup_price/i.capital_price||1)*100,{precision:3}).value);return h.useEffect(()=>{const p=s.capital_price!==void 0?s.capital_price:i.capital_price||0,b=ze(p).multiply(x/100);r("markup_price",b.value)},[s.capital_price,x]),h.useEffect(()=>{const p=s.capital_price!==void 0?s.capital_price:i.capital_price,b=s.markup_price!==void 0?s.markup_price:i.markup_price;r("cost",ze(p).add(b).value)},[s.capital_price,s.markup_price]),h.useEffect(()=>{const p=s.cost!==void 0?s.cost:i.cost,b=s.sale_discount!==void 0?s.sale_discount:i.sale_discount;r("price",ze(p).subtract(b).value)},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async p=>{c(!d),p.preventDefault();const b=await l({action:"update",id:i.id,data:s});(b==null?void 0:b.status)===200?(c(!d),t()):(c(!d),o("Failed to update product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:i.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:i.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:i.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:i.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:i.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:i.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:i.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:i.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:s.capital_price||i.capital_price.toFixed(2),onChange:p=>{r("capital_price",ze(p.target.value).value)},onBlur:p=>{s.capital_price!==void 0?p.target.value=Number(s.capital_price).toFixed(2):i.capital_price.toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(L,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:x.toString(),onChange:p=>{f(ze(p.target.value,{precision:3}).value)},onBlur:p=>{p.target.value=x.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(L,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,readOnly:!0,placeholder:"0",className:"pl-7",value:((j=s.markup_price)==null?void 0:j.toFixed(2))||i.markup_price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(L,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:((v=s.cost)==null?void 0:v.toFixed(2))||i.cost.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(L,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:i.cost,disabled:s.on_sale===void 0?i.on_sale===0:s.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:s.sale_discount||((_=i.sale_discount)==null?void 0:_.toFixed(2))||"0.00",onChange:p=>{r("sale_discount",ze(p.target.value).value)},onBlur:p=>{p.target.value=Number(s.sale_discount!==void 0?s.sale_discount:i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(L,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?i.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:p=>{const b=document.getElementById("sale_discount");r("on_sale",p.target.checked?1:0),!p.target.checked&&(r("sale_discount",0),b&&(b.value="0.00"))}}),e.jsx(C,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(L,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((y=s.price)==null?void 0:y.toFixed(2))||i.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(Oa,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":i.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:p=>{r("active_status",p?"active":"inactive")}}),e.jsx(C,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:i.created_by.firstname+" "+i.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:Ke(i.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ce,{onValueChange:p=>{r("approval_status",p),p==="approved"?r("approved_by",a.user.id):r("approved_by","")},value:s.approval_status||i.approval_status||"",required:!0,children:[e.jsx(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(de,{placeholder:s.approval_status||i.approval_status||"Select status..."})}),e.jsxs(ue,{className:"bg-white",children:[e.jsx(U,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(U,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(U,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:i.approved_by?i.approved_by.firstname+" "+i.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:Ke(i.updated_at)})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between pt-4",children:[e.jsx("div",{className:"flex flex-row",children:e.jsx(D,{type:"reset",fill:"default",disabled:d||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:m,children:"Reset"})}),e.jsxs("div",{className:"flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:d,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Applying changes...":"Apply changes"})]})]}),u&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:u})})]})})})},zh=()=>{const{warehouses:t}=sa(),[a,s]=h.useState(0),{isOpen:n,openModal:r,closeModal:l}=Ze(),[i,d]=h.useState(""),c=(u,o)=>{d(o),r()};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Product Listings",children:e.jsxs(ol,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:u=>s(Number(u)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(U,{value:"0",children:"All"},"all"),t.map(u=>e.jsxs(U,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(oo,{openModal:c,isModalOpen:n,filterWarehouse:a>0?a:void 0})})]}),e.jsx(nt,{title:i==="add"?"Add Listing":i==="details"?"Listing Details":i==="edit"?"Edit Listing":i==="toggle_active_stat"?"Toggle Active Status":"",isOpen:n,onClose:l,closeOnOverlayClick:i==="details"||i==="toggle_active_stat",children:e.jsxs(e.Fragment,{children:[i==="add"&&e.jsx(fo,{onClose:l}),i==="details"&&e.jsx(uo,{onClose:l}),i==="edit"&&e.jsx(vo,{onClose:l}),i==="toggle_active_stat"&&e.jsx(mo,{onClose:l})]})})]})})})},jo=()=>{const t=He(),{transfers:a}=gt(),{auth:s}=pe(),{warehouses:n}=sa(),r=a[0]?a[a.length-1].id+1:1,[l,i]=h.useState(!1),[d,c]=h.useState(!1),[u,o]=h.useState(null),[m,x]=h.useState(null),[f,j]=h.useState(null),[v,_]=h.useState(),[y,p]=h.useState(),[b,T]=h.useState(),[P,M]=h.useState({});h.useEffect(()=>{M(B=>({...B,approval_status:"pending",created_by:s.user.id,transfer_schedule:""}))},[]);const E=()=>{const B=Object.keys(P).map(N=>({text:N})),V=B.length===6||B.length>6;if(V){const N=P.source!==P.destination;if(N){const Y=P.transfer_schedule!=="";return Y?[Y,""]:[Y,"Please fill up transfer schedule"]}else return[N,"You cannot have the same source and destination"]}else return[V,"Please fill up all fields"]},I=B=>{i(!0),x(null),o(null),M(V=>({...V,[B.target.name]:B.target.value}))},S=(B,V)=>{i(!0),x(null),o(null),j(V);const N=V.getMonth()+1<10?"0"+(V.getMonth()+1).toString():V.getMonth()+1,Y=V.getDate()<10?"0"+V.getDate().toString():V.getDate();T(V.getFullYear()+""+N+Y);const le=V.getFullYear()+"-"+(V.getMonth()+1)+"-"+V.getDate()+" "+V.getHours()+":"+V.getMinutes()+":"+V.getSeconds();M(W=>({...W,transfer_schedule:le}))},A=(B,V)=>{var N,Y;i(!0),x(null),o(null),M(le=>({...le,[B]:V})),B==="source"?_((N=n.find(le=>le.id===V))==null?void 0:N.code):p((Y=n.find(le=>le.id===V))==null?void 0:Y.code)},F=async()=>{if(v&&y&&b){const B="TRF-"+v+"-"+y+"-"+b+"-"+r;M(V=>({...V,code:B}))}};h.useEffect(()=>{async function B(){if(P.code){const V=E();if(c(!0),V[0])return K(P);o(V[1]),c(!1)}}B()},[P.code]);const z={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer"]}),c(!1),i(!1),x("Transfer info has been added")},onError:B=>{console.error(B),o(B.message),c(!1)}},{mutateAsync:K}=re({mutationKey:["addTransfer"],mutationFn:Xi,...z});return{transfer:P,lastId:r,isChanged:l,isSubmitting:d,error:u,success:m,dateDisplay:f,handleSubmit:F,handleChange:I,handleChangeSelect:A,handleChangeDateTime:S,addTransferMutation:K}},Tl=()=>{const t=He(),[a,s]=h.useState({}),n=(c,u)=>{s(o=>({...o,[c]:u}))},r=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await d({id:c.id,data:c.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]})},onError:c=>{console.error("Inventory Data failed",c)}},{mutateAsync:i}=re({mutationKey:["addInventory"],mutationFn:Ji,...l}),{mutateAsync:d}=re({mutationKey:["patchInventory"],mutationFn:ec,...l});return{value:a,setValue:s,handleChange:n,handleSubmit:r}},Ss=()=>{const t=He(),[a,s]=h.useState({}),n=(u,o)=>{s(m=>({...m,[u]:o}))},r=async u=>{if(console.log("Submitting: ",u),u.action==="add")return await i(u.data);if(u.action==="batch-add")return await d(u.data);if(u.action==="update")return await c({id:u.id,data:u.data});{const o="No data to submit. Function requires at least one parameter.";return console.error(o),{status:400,data:o}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventoryProductById"]})},onError:u=>{console.error("Inventory Product Data failed",u)}},{mutateAsync:i}=re({mutationKey:["addInventoryProduct"],mutationFn:tc,...l}),{mutateAsync:d}=re({mutationKey:["addInventoryProducts"],mutationFn:ac,...l}),{mutateAsync:c}=re({mutationKey:["patchInventoryProduct"],mutationFn:sc,...l});return{value:a,setValue:s,handleChange:n,handleSubmit:r}},Al=()=>{const t=He(),{transfers:a,transferProducts:s,selectedTransfer:n}=gt(),r=s.filter($=>$.transfer_id===n.id),{auth:l}=pe(),{warehouses:i}=sa(),[d,c]=h.useState(!1),[u,o]=h.useState(!1);h.useState(!1);const[m,x]=h.useState(!1);h.useState(!1);const[f,j]=h.useState(!1),{data:v}=dl(),[_,y]=h.useState(0),[p,b]=h.useState(!1),[T,P]=h.useState(!1),[M,E]=h.useState(null),[I,S]=h.useState(null),[A,F]=h.useState(new Date),[z,K]=h.useState(new Date),[B,V]=h.useState(""),[N,Y]=h.useState(),le=a[a.length-1].id+1,[W,Z]=h.useState({});if(h.useEffect(()=>{n&&(Z({id:n.id,code:n.code,created_by:n.created_by.id,source:n.source.id,destination:n.destination.id,transfer_schedule:n.transfer_schedule,approval_status:n.approval_status,approved_by:n.approved_by?n.approved_by.id:null,transfer_status:n.transfer_status,date_received:n.date_received,received_by:n.received_by?n.received_by.id:null,notes:n.notes}),F(new Date(n.transfer_schedule)),n.date_received?K(new Date(n.date_received)):K(new Date(n.transfer_schedule)))},[n]),W.code==""){const $=W.transfer_schedule.split(" ")[0].split("-").join(""),Q="TRF-"+n.source.code+"-"+n.destination.code+"-"+$+"-"+le;Z(ve=>({...ve,code:Q}))}const xe=()=>{const $=W.source!==W.destination;if($){const Q=W.transfer_status==="arrived"?!!(W.received_by&&W.date_received):!0;if(Q)return[Q,""];{const ve=`Fields you need to fill: ${W.received_by?"":"received by"} 
									${!W.date_received&&!W.received_by?" and ":""}
									${W.date_received?"":"date received"}`;return[Q,ve]}}else return[$,"You cannot have the same source and destination"]},he=$=>{b(!0),S(null),E(null),Z(Q=>({...Q,[$.target.name]:$.target.value}))},fe=($,Q)=>{b(!0),S(null),E(null),V($),Y(Q),$==="transfer_schedule"?F(Q):K(Q)};h.useEffect(()=>{async function $(){if(B&&N){const Q=N.getFullYear()+"-"+(N.getMonth()+1)+"-"+N.getDate()+" "+N.getHours()+":"+N.getMinutes()+":"+N.getSeconds();Z(ve=>({...ve,[B]:Q}))}}$()},[A,z]);const G=($,Q)=>{b(!0),S(null),E(null),Z(ve=>({...ve,[$]:Q}))};h.useEffect(()=>{W.approval_status==="approved"?Z($=>({...$,approved_by:l.user.id})):W.approval_status==="rejected"&&j(!0)},[W.approval_status]),h.useEffect(()=>{W.transfer_status==="arrived"?c(!0):c(!1)},[W.transfer_status]),h.useEffect(()=>{if(u){async function $(){const ve={code:"INV-"+i.filter(ct=>ct.id===W.destination)[0].code+"-TRA-"+n.code.split("-")[3]+"-"+(Number(v.length)+1).toString(),warehouse_id:W.destination,created_by:W.created_by,date_received:W.date_received,type:"transfer",transfer_id:W.id,notes:W.notes},ye=await qe(ve);y(ye.data.data.id)}$()}},[u]);async function Te(){await ic(r,_).then(async $=>{P(!1),b(!1),S("Transfer info has been edited")}).catch($=>{throw console.error("Error updating inventory products:",$),$})}h.useEffect(()=>{_!=0&&Te()},[_]);const Ie=async()=>{const $=xe();if(P(!0),$[0])if(d)await Pe(W);else return await Pe(W);else E($[1]),P(!1)},Le={onSuccess:async()=>{if(await t.invalidateQueries({queryKey:["transfer"]}),d)o(!0);else{if(f)return await je(r);P(!1),b(!1),S("Transfer info has been edited")}},onError:$=>{console.error($),E($.message),P(!1)}},{mutateAsync:Pe}=re({mutationKey:["editTransfer"],mutationFn:nc,...Le}),De={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]}),x(!0)},onError:$=>{console.error($),E($.message),P(!1)}},{mutateAsync:qe}=re({mutationKey:["addInventory"],mutationFn:rc,...De}),Ne={onSuccess:async()=>{await t.invalidateQueries({queryKey:["initInventoryProduct"]}),P(!1),b(!1),S("Transfer info has been edited")},onError:$=>{console.error($),E($.message),P(!1)}},{mutateAsync:je}=re({mutationKey:["initInventoryProduct"],mutationFn:lc,...Ne});return{transfer:W,selectedTransfer:n,lastId:le,isChanged:p,isSubmitting:T,error:M,success:I,dateDisplay:A,dateDisplayArrived:z,handleSubmit:Ie,handleChange:he,handleChangeSelect:G,handleChangeDateTime:fe,editTransferMutation:Pe}},yo=()=>{const t=He(),{transfers:a,transferProducts:s,selectedProduct:n,selectedTransfer:r}=gt();pe();const{data:l}=ul(),{data:i}=cc(),{data:d}=dl(),c=d.filter(N=>N.warehouse.id===r.source.id),u=i.filter(N=>c.map(Y=>Y.id).includes(N.inventory_id)&&N.capital_price>0&&N.remaining_stocks_count&&N.remaining_stocks_count>0),[o,m]=h.useState(0),[x,f]=h.useState(0),[j,v]=h.useState(0),[_,y]=h.useState(!1),[p,b]=h.useState(!1),[T,P]=h.useState(null),[M,E]=h.useState(null),[I,S]=h.useState({});h.useEffect(()=>{S(N=>({...N,id:s.length+1,transfer_id:r.id}))},[]);const A=N=>{y(!0),E(null),P(null),S(Y=>({...Y,[N.target.name]:Number(N.target.value)}))},F=(N,Y,le)=>{y(!0),E(null),P(null);const W=u[le],Z=W.id,xe=W.capital_price,he=W.bundles_unit,fe=W.unit,G=W.quantity_per_bundle;S(Te=>({...Te,[N]:Y,capital_price:xe,bundles_unit:he,unit:fe,quantity_per_bundle:G,source_inventory:Z})),m(W.remaining_stocks_count?W.remaining_stocks_count/W.quantity_per_bundle:0),f(W.remaining_stocks_count?W.remaining_stocks_count:0),v(W.damage_count)};h.useEffect(()=>{I.bundles_count&&I.quantity_per_bundle?S(N=>({...N,total_quantity:I.bundles_count*I.quantity_per_bundle})):S(N=>({...N,total_quantity:0}))},[I]);const z=()=>{const Y=Object.keys(I).map(le=>({text:le})).length===10;return Y?I.bundles_count>o?[!1,"Bundles count input is greater than the current stock quantity."]:[!0,""]:[Y,"Please fill up all fields"]},K=async()=>{b(!0);const N=z();if(N[0])return await V(I);P(N[1]),b(!1)},B={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer-product"]}),b(!1),y(!1),E("Transfer product has been added")},onError:N=>{console.error(N),P(N.message),b(!1)}},{mutateAsync:V}=re({mutationKey:["addTransferProduct"],mutationFn:oc,...B});return{product:I,allProducts:l,allInventoryProducts:i,filteredProductsSrc:u,bundlesLimit:o,quantityLimit:x,damagedCount:j,isChanged:_,isSubmitting:p,error:T,success:M,handleSubmit:K,handleChange:A,handleChangeSelect:F,addProductMutation:V}},bo=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:n,setSelectedTransfer:r}=gt();pe();const l=o=>{r(o),t(o,"details")},i=o=>{r(o),t(o,"edit")},d=o=>{r(o),t(o,"products")},c=()=>{t({},"add")},u=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:m=>o.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:m=>o.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",sortingFn:"basic",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER ID ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.code?o.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:o})=>{const m=o.original.source,x=o.original.destination;return e.jsxs("div",{className:"text-center",children:[m.code,"-",x.code]})}},{id:"transfer_products",header:()=>e.jsx("div",{className:"text-center",children:"PRODUCTS ADDED?"}),cell:({row:o})=>e.jsx("div",{className:"flex justify-center",children:s.filter(m=>m.transfer_id===o.original.id).length>0?e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"})})},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.transfer_status?o.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>{const m=o.getValue("transfer_schedule");if(m.toString()!=="0000-00-00 00:00:00"){const x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},f=new Date(m).toLocaleDateString([],x);return e.jsx("div",{className:"text-center",children:f})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",o.getIsSorted()==="asc"?e.jsx(ee,{}):o.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:o})=>{const m=o.getValue("date_received");if(m){const x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},f=new Date(m).toLocaleDateString([],x);return e.jsx("div",{className:"text-center",children:f})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:o})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:o.original.approval_status.toLowerCase()==="approved"?e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"}):o.original.approval_status.toLowerCase()==="rejected"?e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Xt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:o})=>{const m=o.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>l(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Details"})]}),e.jsxs(Oe,{onClick:()=>i(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit Transfer"})]}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>d(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:m.transfer_status!="arrived"&&m.approval_status!="rejected"?e.jsx(ta,{size:16,strokeWidth:2.25}):e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Products"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:u,filterWhat:"approval_status",dataType:"Transfer",openModal:c,isLoading:n})})},No=({onClose:t})=>{const{selectedTransfer:a}=gt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ke(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ke(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})};var Ae=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))},wo=["onCopy","onCut","onPaste"],_o=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],So=["onFocus","onBlur"],Co=["onInput","onInvalid","onReset","onSubmit"],ko=["onLoad","onError"],Do=["onKeyDown","onKeyPress","onKeyUp"],Oo=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],To=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Ao=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Po=["onSelect"],Fo=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Eo=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Io=["onScroll"],Lo=["onWheel"],Mo=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Wo=["onTransitionEnd"],Ro=["onToggle"],zo=["onChange"],qo=Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae([],wo,!0),_o,!0),So,!0),Co,!0),ko,!0),Do,!0),Oo,!0),To,!0),Ao,!0),Po,!0),Fo,!0),Eo,!0),Io,!0),Lo,!0),Mo,!0),Wo,!0),zo,!0),Ro,!0);function Uo(t,a){var s={};return qo.forEach(function(n){var r=t[n];r&&(a?s[n]=function(l){return r(l,a(n))}:s[n]=r)}),s}var Vo="Expected a function",Pl="__lodash_hash_undefined__",Ko="[object Function]",$o="[object GeneratorFunction]",Ho=/[\\^$.*+?()[\]{}|]/g,Bo=/^\[object .+?Constructor\]$/,Yo=typeof rs=="object"&&rs&&rs.Object===Object&&rs,Qo=typeof self=="object"&&self&&self.Object===Object&&self,Fl=Yo||Qo||Function("return this")();function Zo(t,a){return t==null?void 0:t[a]}function Go(t){var a=!1;if(t!=null&&typeof t.toString!="function")try{a=!!(t+"")}catch{}return a}var Xo=Array.prototype,Jo=Function.prototype,El=Object.prototype,qs=Fl["__core-js_shared__"],jr=function(){var t=/[^.]+$/.exec(qs&&qs.keys&&qs.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Il=Jo.toString,Bn=El.hasOwnProperty,ed=El.toString,td=RegExp("^"+Il.call(Bn).replace(Ho,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ad=Xo.splice,sd=Ll(Fl,"Map"),Ba=Ll(Object,"create");function ba(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var n=t[a];this.set(n[0],n[1])}}function nd(){this.__data__=Ba?Ba(null):{}}function rd(t){return this.has(t)&&delete this.__data__[t]}function ld(t){var a=this.__data__;if(Ba){var s=a[t];return s===Pl?void 0:s}return Bn.call(a,t)?a[t]:void 0}function id(t){var a=this.__data__;return Ba?a[t]!==void 0:Bn.call(a,t)}function cd(t,a){var s=this.__data__;return s[t]=Ba&&a===void 0?Pl:a,this}ba.prototype.clear=nd;ba.prototype.delete=rd;ba.prototype.get=ld;ba.prototype.has=id;ba.prototype.set=cd;function Ia(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var n=t[a];this.set(n[0],n[1])}}function od(){this.__data__=[]}function dd(t){var a=this.__data__,s=Cs(a,t);if(s<0)return!1;var n=a.length-1;return s==n?a.pop():ad.call(a,s,1),!0}function ud(t){var a=this.__data__,s=Cs(a,t);return s<0?void 0:a[s][1]}function md(t){return Cs(this.__data__,t)>-1}function xd(t,a){var s=this.__data__,n=Cs(s,t);return n<0?s.push([t,a]):s[n][1]=a,this}Ia.prototype.clear=od;Ia.prototype.delete=dd;Ia.prototype.get=ud;Ia.prototype.has=md;Ia.prototype.set=xd;function Na(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var n=t[a];this.set(n[0],n[1])}}function hd(){this.__data__={hash:new ba,map:new(sd||Ia),string:new ba}}function fd(t){return ks(this,t).delete(t)}function pd(t){return ks(this,t).get(t)}function gd(t){return ks(this,t).has(t)}function vd(t,a){return ks(this,t).set(t,a),this}Na.prototype.clear=hd;Na.prototype.delete=fd;Na.prototype.get=pd;Na.prototype.has=gd;Na.prototype.set=vd;function Cs(t,a){for(var s=t.length;s--;)if(wd(t[s][0],a))return s;return-1}function jd(t){if(!Ml(t)||bd(t))return!1;var a=_d(t)||Go(t)?td:Bo;return a.test(Nd(t))}function ks(t,a){var s=t.__data__;return yd(a)?s[typeof a=="string"?"string":"hash"]:s.map}function Ll(t,a){var s=Zo(t,a);return jd(s)?s:void 0}function yd(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}function bd(t){return!!jr&&jr in t}function Nd(t){if(t!=null){try{return Il.call(t)}catch{}try{return t+""}catch{}}return""}function Yn(t,a){if(typeof t!="function"||a&&typeof a!="function")throw new TypeError(Vo);var s=function(){var n=arguments,r=a?a.apply(this,n):n[0],l=s.cache;if(l.has(r))return l.get(r);var i=t.apply(this,n);return s.cache=l.set(r,i),i};return s.cache=new(Yn.Cache||Na),s}Yn.Cache=Na;function wd(t,a){return t===a||t!==t&&a!==a}function _d(t){var a=Ml(t)?ed.call(t):"";return a==Ko||a==$o}function Ml(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}var Sd=Yn;const Wl=ml(Sd);function Rl(t){return JSON.stringify(t)}function Cd(t){return typeof t=="string"}function kd(t,a,s){return s.indexOf(t)===a}function Dd(t){return t.toLowerCase()===t}function yr(t){return t.indexOf(",")===-1?t:t.split(",")}function cn(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var a=t.split(".")[0],s=a===void 0?"":a;return cn(s)}if(t.indexOf("@")!==-1){var n=t.split("@")[0],s=n===void 0?"":n;return cn(s)}if(t.indexOf("-")===-1||!Dd(t))return t;var r=t.split("-"),l=r[0],i=r[1],d=i===void 0?"":i;return"".concat(l,"-").concat(d.toUpperCase())}function Od(t){var a=t===void 0?{}:t,s=a.useFallbackLocale,n=s===void 0?!0:s,r=a.fallbackLocale,l=r===void 0?"en-US":r,i=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],c=[],u=0,o=d;u<o.length;u++){var m=o[u];c=c.concat(yr(m))}var x=navigator.language,f=x&&yr(x);i=i.concat(c,f)}return n&&i.push(l),i.filter(Cd).map(cn).filter(kd)}var Td=Wl(Od,Rl);function Ad(t){return Td(t)[0]||null}var zl=Wl(Ad,Rl);const La=zl;function Rt(t,a,s){return function(r,l){l===void 0&&(l=s);var i=t(r)+l;return a(i)}}function ts(t){return function(s){return new Date(t(s).getTime()-1)}}function as(t,a){return function(n){return[t(n),a(n)]}}function se(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var a=parseInt(t,10);if(typeof t=="string"&&!isNaN(a))return a;throw new Error("Failed to get year from date: ".concat(t,"."))}function ra(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Dt(t){if(t instanceof Date)return t.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(t,"."))}function Ft(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function $e(t){if(t instanceof Date)return t.getHours();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[0];if(s){var n=parseInt(s,10);if(!isNaN(n))return n}}}throw new Error("Failed to get hours from date: ".concat(t,"."))}function Ot(t){if(t instanceof Date)return t.getMinutes();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[1]||"0",n=parseInt(s,10);if(!isNaN(n))return n}}throw new Error("Failed to get minutes from date: ".concat(t,"."))}function ga(t){if(t instanceof Date)return t.getSeconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",n=parseInt(s,10);if(!isNaN(n))return n}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Us(t){if(t instanceof Date)return t.getMilliseconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",n=s.split(".")[1]||"0",r=parseInt(n,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Ma(t){var a=se(t),s=a+(-a+1)%100,n=new Date;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}var Pd=Rt(se,Ma,-100),ql=Rt(se,Ma,100),Qn=ts(ql),Fd=Rt(se,Qn,-100),Ul=as(Ma,Qn);function la(t){var a=se(t),s=a+(-a+1)%10,n=new Date;return n.setFullYear(s,0,1),n.setHours(0,0,0,0),n}var Vl=Rt(se,la,-10),Zn=Rt(se,la,10),Ds=ts(Zn),Kl=Rt(se,Ds,-10),$l=as(la,Ds);function Wa(t){var a=se(t),s=new Date;return s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}var Hl=Rt(se,Wa,-1),Gn=Rt(se,Wa,1),Os=ts(Gn),Bl=Rt(se,Os,-1),Ed=as(Wa,Os);function Xn(t,a){return function(n,r){r===void 0&&(r=a);var l=se(n),i=ra(n)+r,d=new Date;return d.setFullYear(l,i,1),d.setHours(0,0,0,0),t(d)}}function wa(t){var a=se(t),s=ra(t),n=new Date;return n.setFullYear(a,s,1),n.setHours(0,0,0,0),n}var Yl=Xn(wa,-1),Jn=Xn(wa,1),ss=ts(Jn),Ql=Xn(ss,-1),Id=as(wa,ss);function Ld(t,a){return function(n,r){r===void 0&&(r=a);var l=se(n),i=ra(n),d=Ft(n)+r,c=new Date;return c.setFullYear(l,i,d),c.setHours(0,0,0,0),t(c)}}function ns(t){var a=se(t),s=ra(t),n=Ft(t),r=new Date;return r.setFullYear(a,s,n),r.setHours(0,0,0,0),r}var Md=Ld(ns,1),er=ts(Md),Wd=as(ns,er);function tr(t){return Ft(ss(t))}function Qt(t,a){a===void 0&&(a=2);var s="".concat(t);return s.length>=a?t:"0000".concat(s).slice(-a)}function Rd(t){var a=Qt($e(t)),s=Qt(Ot(t));return"".concat(a,":").concat(s)}function on(t){var a=Qt($e(t)),s=Qt(Ot(t)),n=Qt(ga(t));return"".concat(a,":").concat(s,":").concat(n)}function dn(t){var a=Qt(se(t),4),s=Qt(Dt(t)),n=Qt(Ft(t));return"".concat(a,"-").concat(s,"-").concat(n)}function zd(t){return"".concat(dn(t),"T").concat(on(t))}var Ua,ge={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ta={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},qd=(Ua={},Ua[ge.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Ua[ge.HEBREW]=["he","he-IL"],Ua[ge.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Ua),ar=[0,1,2,3,4,5,6],Vs=new Map;function Ud(t){return function(s,n){var r=s||La();Vs.has(r)||Vs.set(r,new Map);var l=Vs.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(n)}}function Vd(t){var a=new Date(t);return new Date(a.setHours(12))}function _a(t){return function(a,s){return Ud(t)(a,Vd(s))}}var Kd={day:"numeric"},$d={day:"numeric",month:"long",year:"numeric"},Hd={month:"long"},Bd={month:"long",year:"numeric"},Yd={weekday:"short"},Qd={weekday:"long"},Zd={year:"numeric"},Gd=_a(Kd),Xd=_a($d),Jd=_a(Hd),Zl=_a(Bd),eu=_a(Yd),tu=_a(Qd),Ts=_a(Zd),au=ar[0],su=ar[5],br=ar[6];function Ya(t,a){a===void 0&&(a=ge.ISO_8601);var s=t.getDay();switch(a){case ge.ISO_8601:return(s+6)%7;case ge.ISLAMIC:return(s+1)%7;case ge.HEBREW:case ge.GREGORY:return s;default:throw new Error("Unsupported calendar type.")}}function nu(t){var a=Ma(t);return se(a)}function ru(t){var a=la(t);return se(a)}function un(t,a){a===void 0&&(a=ge.ISO_8601);var s=se(t),n=ra(t),r=t.getDate()-Ya(t,a);return new Date(s,n,r)}function lu(t,a){a===void 0&&(a=ge.ISO_8601);var s=a===ge.GREGORY?ge.GREGORY:ge.ISO_8601,n=un(t,a),r=se(t)+1,l,i;do l=new Date(r,0,s===ge.ISO_8601?4:1),i=un(l,a),r-=1;while(t<i);return Math.round((n.getTime()-i.getTime())/(864e5*7))+1}function va(t,a){switch(t){case"century":return Ma(a);case"decade":return la(a);case"year":return Wa(a);case"month":return wa(a);case"day":return ns(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function iu(t,a){switch(t){case"century":return Pd(a);case"decade":return Vl(a);case"year":return Hl(a);case"month":return Yl(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Gl(t,a){switch(t){case"century":return ql(a);case"decade":return Zn(a);case"year":return Gn(a);case"month":return Jn(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function cu(t,a){switch(t){case"decade":return Vl(a,-100);case"year":return Hl(a,-10);case"month":return Yl(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ou(t,a){switch(t){case"decade":return Zn(a,100);case"year":return Gn(a,10);case"month":return Jn(a,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Xl(t,a){switch(t){case"century":return Qn(a);case"decade":return Ds(a);case"year":return Os(a);case"month":return ss(a);case"day":return er(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function du(t,a){switch(t){case"century":return Fd(a);case"decade":return Kl(a);case"year":return Bl(a);case"month":return Ql(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function uu(t,a){switch(t){case"decade":return Kl(a,-100);case"year":return Bl(a,-10);case"month":return Ql(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Nr(t,a){switch(t){case"century":return Ul(a);case"decade":return $l(a);case"year":return Ed(a);case"month":return Id(a);case"day":return Wd(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function mu(t,a,s){var n=[a,s].sort(function(r,l){return r.getTime()-l.getTime()});return[va(t,n[0]),Xl(t,n[1])]}function Jl(t,a,s){return a===void 0&&(a=Ts),s.map(function(n){return a(t,n)}).join("  ")}function xu(t,a,s){return Jl(t,a,Ul(s))}function ei(t,a,s){return Jl(t,a,$l(s))}function hu(t){return t.getDay()===new Date().getDay()}function ti(t,a){a===void 0&&(a=ge.ISO_8601);var s=t.getDay();switch(a){case ge.ISLAMIC:case ge.HEBREW:return s===su||s===br;case ge.ISO_8601:case ge.GREGORY:return s===br||s===au;default:throw new Error("Unsupported calendar type.")}}var jt="react-calendar__navigation";function fu(t){var a=t.activeStartDate,s=t.drillUp,n=t.formatMonthYear,r=n===void 0?Zl:n,l=t.formatYear,i=l===void 0?Ts:l,d=t.locale,c=t.maxDate,u=t.minDate,o=t.navigationAriaLabel,m=o===void 0?"":o,x=t.navigationAriaLive,f=t.navigationLabel,j=t.next2AriaLabel,v=j===void 0?"":j,_=t.next2Label,y=_===void 0?"":_,p=t.nextAriaLabel,b=p===void 0?"":p,T=t.nextLabel,P=T===void 0?"":T,M=t.prev2AriaLabel,E=M===void 0?"":M,I=t.prev2Label,S=I===void 0?"":I,A=t.prevAriaLabel,F=A===void 0?"":A,z=t.prevLabel,K=z===void 0?"":z,B=t.setActiveStartDate,V=t.showDoubleView,N=t.view,Y=t.views,le=Y.indexOf(N)>0,W=N!=="century",Z=iu(N,a),xe=W?cu(N,a):void 0,he=Gl(N,a),fe=W?ou(N,a):void 0,G=function(){if(Z.getFullYear()<0)return!0;var Q=du(N,a);return u&&u>=Q}(),Te=W&&function(){if(xe.getFullYear()<0)return!0;var Q=uu(N,a);return u&&u>=Q}(),Ie=c&&c<he,Le=W&&c&&c<fe;function Pe(){B(Z,"prev")}function De(){B(xe,"prev2")}function qe(){B(he,"next")}function Ne(){B(fe,"next2")}function je(Q){var ve=function(){switch(N){case"century":return xu(d,i,Q);case"decade":return ei(d,i,Q);case"year":return i(d,Q);case"month":return r(d,Q);default:throw new Error("Invalid view: ".concat(N,"."))}}();return f?f({date:Q,label:ve,locale:d||zl()||void 0,view:N}):ve}function $(){var Q="".concat(jt,"__label");return w.createElement("button",{"aria-label":m,"aria-live":x,className:Q,disabled:!le,onClick:s,style:{flexGrow:1},type:"button"},w.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--from")},je(a)),V?w.createElement(w.Fragment,null,w.createElement("span",{className:"".concat(Q,"__divider")},"  "),w.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--to")},je(he))):null)}return w.createElement("div",{className:jt},S!==null&&W?w.createElement("button",{"aria-label":E,className:"".concat(jt,"__arrow ").concat(jt,"__prev2-button"),disabled:Te,onClick:De,type:"button"},S):null,K!==null&&w.createElement("button",{"aria-label":F,className:"".concat(jt,"__arrow ").concat(jt,"__prev-button"),disabled:G,onClick:Pe,type:"button"},K),$(),P!==null&&w.createElement("button",{"aria-label":b,className:"".concat(jt,"__arrow ").concat(jt,"__next-button"),disabled:Ie,onClick:qe,type:"button"},P),y!==null&&W?w.createElement("button",{"aria-label":v,className:"".concat(jt,"__arrow ").concat(jt,"__next2-button"),disabled:Le,onClick:Ne,type:"button"},y):null)}var Aa=globalThis&&globalThis.__assign||function(){return Aa=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Aa.apply(this,arguments)},pu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function wr(t){return"".concat(t,"%")}function sr(t){var a=t.children,s=t.className,n=t.count,r=t.direction,l=t.offset,i=t.style,d=t.wrap,c=pu(t,["children","className","count","direction","offset","style","wrap"]);return w.createElement("div",Aa({className:s,style:Aa({display:"flex",flexDirection:r,flexWrap:d?"wrap":"nowrap"},i)},c),w.Children.map(a,function(u,o){var m=l&&o===0?wr(100*l/n):null;return w.cloneElement(u,Aa(Aa({},u.props),{style:{flexBasis:wr(100/n),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))}))}var gu=function(){},vu=gu;const ju=ml(vu);var Da;function yu(t,a,s){return a&&a>t?a:s&&s<t?s:t}function Qa(t,a){return a[0]<=t&&a[1]>=t}function bu(t,a){return t[0]<=a[0]&&t[1]>=a[1]}function ai(t,a){return Qa(t[0],a)||Qa(t[1],a)}function _r(t,a,s){var n=ai(a,t),r=[];if(n){r.push(s);var l=Qa(t[0],a),i=Qa(t[1],a);l&&r.push("".concat(s,"Start")),i&&r.push("".concat(s,"End")),l&&i&&r.push("".concat(s,"BothEnds"))}return r}function Nu(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function wu(t){if(!t)throw new Error("args is required");var a=t.value,s=t.date,n=t.hover,r="react-calendar__tile",l=[r];if(!s)return l;var i=new Date,d=function(){if(Array.isArray(s))return s;var f=t.dateType;if(!f)throw new Error("dateType is required when date is not an array of two dates");return Nr(f,s)}();if(Qa(i,d)&&l.push("".concat(r,"--now")),!a||!Nu(a))return l;var c=function(){if(Array.isArray(a))return a;var f=t.valueType;if(!f)throw new Error("valueType is required when value is not an array of two dates");return Nr(f,a)}();bu(c,d)?l.push("".concat(r,"--active")):ai(c,d)&&l.push("".concat(r,"--hasActive"));var u=_r(c,d,"".concat(r,"--range"));l.push.apply(l,u);var o=Array.isArray(a)?a:[a];if(n&&o.length===1){var m=n>c[0]?[c[0],n]:[n,c[0]],x=_r(m,d,"".concat(r,"--hover"));l.push.apply(l,x)}return l}var _u=(Da={},Da[Ta.ARABIC]=ge.ISLAMIC,Da[Ta.HEBREW]=ge.HEBREW,Da[Ta.ISO_8601]=ge.ISO_8601,Da[Ta.US]=ge.GREGORY,Da);function Su(t){return t!==void 0&&t in Ta}var Sr=!1;function As(t){if(Su(t)){var a=_u[t];return ju(Sr,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(a,'" instead.')),Sr=!0,a}return t}function Ps(t){for(var a=t.className,s=t.count,n=s===void 0?3:s,r=t.dateTransform,l=t.dateType,i=t.end,d=t.hover,c=t.offset,u=t.renderTile,o=t.start,m=t.step,x=m===void 0?1:m,f=t.value,j=t.valueType,v=[],_=o;_<=i;_+=x){var y=r(_);v.push(u({classes:wu({date:y,dateType:l,hover:d,value:f,valueType:j}),date:y}))}return w.createElement(sr,{className:a,count:n,offset:c,wrap:!0},v)}function Fs(t){var a=t.activeStartDate,s=t.children,n=t.classes,r=t.date,l=t.formatAbbr,i=t.locale,d=t.maxDate,c=t.maxDateTransform,u=t.minDate,o=t.minDateTransform,m=t.onClick,x=t.onMouseOver,f=t.style,j=t.tileClassName,v=t.tileContent,_=t.tileDisabled,y=t.view,p=h.useMemo(function(){var T={activeStartDate:a,date:r,view:y};return typeof j=="function"?j(T):j},[a,r,j,y]),b=h.useMemo(function(){var T={activeStartDate:a,date:r,view:y};return typeof v=="function"?v(T):v},[a,r,v,y]);return w.createElement("button",{className:it(n,p),disabled:u&&o(u)>r||d&&c(d)<r||_&&_({activeStartDate:a,date:r,view:y}),onClick:m?function(T){return m(r,T)}:void 0,onFocus:x?function(){return x(r)}:void 0,onMouseOver:x?function(){return x(r)}:void 0,style:f,type:"button"},l?w.createElement("abbr",{"aria-label":l(i,r)},s):s,b)}var mn=globalThis&&globalThis.__assign||function(){return mn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},mn.apply(this,arguments)},Cu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},Ks="react-calendar__century-view__decades__decade";function ku(t){var a=t.classes,s=a===void 0?[]:a,n=t.currentCentury,r=t.formatYear,l=r===void 0?Ts:r,i=Cu(t,["classes","currentCentury","formatYear"]),d=i.date,c=i.locale,u=[];return s&&u.push.apply(u,s),Ks&&u.push(Ks),Ma(d).getFullYear()!==n&&u.push("".concat(Ks,"--neighboringCentury")),w.createElement(Fs,mn({},i,{classes:u,maxDateTransform:Ds,minDateTransform:la,view:"century"}),ei(c,l,d))}var xn=globalThis&&globalThis.__assign||function(){return xn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},xn.apply(this,arguments)},Cr=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Du(t){var a=t.activeStartDate,s=t.hover,n=t.showNeighboringCentury,r=t.value,l=t.valueType,i=Cr(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=nu(a),c=d+(n?119:99);return w.createElement(Ps,{className:"react-calendar__century-view__decades",dateTransform:la,dateType:"decade",end:c,hover:s,renderTile:function(u){var o=u.date,m=Cr(u,["date"]);return w.createElement(ku,xn({key:o.getTime()},i,m,{activeStartDate:a,currentCentury:d,date:o}))},start:d,step:10,value:r,valueType:l})}var kr=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))},Ou=Object.values(ge),Tu=Object.values(Ta),hn=["century","decade","year","month"],si=g.oneOf(kr(kr([],Ou,!0),Tu,!0)),ps=g.oneOfType([g.string,g.arrayOf(g.string)]),nr=function(a,s,n){var r=a,l=s,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},rr=function(a,s,n){var r=a,l=s,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null},Au=g.oneOfType([g.func,g.exact({current:g.any})]),Pu=g.arrayOf(g.oneOfType([g.instanceOf(Date),g.oneOf([null])]).isRequired),Fu=g.oneOfType([g.instanceOf(Date),g.oneOf([null]),Pu]);g.arrayOf(g.oneOf(hn));var gs=function(a,s,n){var r=a,l=s,i=r[l];return i!==void 0&&(typeof i!="string"||hn.indexOf(i)===-1)?new Error("Invalid prop `".concat(s,"` of value `").concat(i,"` supplied to `").concat(n,"`, expected one of [").concat(hn.map(function(d){return'"'.concat(d,'"')}).join(", "),"].")):null};gs.isRequired=function(a,s,n,r,l){var i=a,d=s,c=i[d];return c?gs(a,s,n):new Error("The prop `".concat(s,"` is marked as required in `").concat(n,"`, but its value is `").concat(c,"`."))};var Eu=function(t){return g.arrayOf(t)},Es={activeStartDate:g.instanceOf(Date).isRequired,hover:g.instanceOf(Date),locale:g.string,maxDate:rr,minDate:nr,onClick:g.func,onMouseOver:g.func,tileClassName:g.oneOfType([g.func,ps]),tileContent:g.oneOfType([g.func,g.node]),value:Fu,valueType:g.oneOf(["century","decade","year","month","day"]).isRequired};g.instanceOf(Date).isRequired,g.arrayOf(g.string.isRequired).isRequired,g.instanceOf(Date).isRequired,g.string,g.func,g.func,g.objectOf(g.oneOfType([g.string,g.number])),g.oneOfType([g.func,ps]),g.oneOfType([g.func,g.node]),g.func;var Za=globalThis&&globalThis.__assign||function(){return Za=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Za.apply(this,arguments)},ni=function(a){function s(){return w.createElement(Du,Za({},a))}return w.createElement("div",{className:"react-calendar__century-view"},s())};ni.propTypes=Za(Za({},Es),{showNeighboringCentury:g.bool});const Iu=ni;var fn=globalThis&&globalThis.__assign||function(){return fn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},fn.apply(this,arguments)},Lu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},$s="react-calendar__decade-view__years__year";function Mu(t){var a=t.classes,s=a===void 0?[]:a,n=t.currentDecade,r=t.formatYear,l=r===void 0?Ts:r,i=Lu(t,["classes","currentDecade","formatYear"]),d=i.date,c=i.locale,u=[];return s&&u.push.apply(u,s),$s&&u.push($s),la(d).getFullYear()!==n&&u.push("".concat($s,"--neighboringDecade")),w.createElement(Fs,fn({},i,{classes:u,maxDateTransform:Os,minDateTransform:Wa,view:"decade"}),l(c,d))}var pn=globalThis&&globalThis.__assign||function(){return pn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},pn.apply(this,arguments)},Dr=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Wu(t){var a=t.activeStartDate,s=t.hover,n=t.showNeighboringDecade,r=t.value,l=t.valueType,i=Dr(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=ru(a),c=d+(n?11:9);return w.createElement(Ps,{className:"react-calendar__decade-view__years",dateTransform:Wa,dateType:"year",end:c,hover:s,renderTile:function(u){var o=u.date,m=Dr(u,["date"]);return w.createElement(Mu,pn({key:o.getTime()},i,m,{activeStartDate:a,currentDecade:d,date:o}))},start:d,value:r,valueType:l})}var Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Ga.apply(this,arguments)},ri=function(a){function s(){return w.createElement(Wu,Ga({},a))}return w.createElement("div",{className:"react-calendar__decade-view"},s())};ri.propTypes=Ga(Ga({},Es),{showNeighboringDecade:g.bool});const Ru=ri;var gn=globalThis&&globalThis.__assign||function(){return gn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},gn.apply(this,arguments)},zu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},Or=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))},qu="react-calendar__year-view__months__month";function Uu(t){var a=t.classes,s=a===void 0?[]:a,n=t.formatMonth,r=n===void 0?Jd:n,l=t.formatMonthYear,i=l===void 0?Zl:l,d=zu(t,["classes","formatMonth","formatMonthYear"]),c=d.date,u=d.locale;return w.createElement(Fs,gn({},d,{classes:Or(Or([],s,!0),[qu],!1),formatAbbr:i,maxDateTransform:ss,minDateTransform:wa,view:"year"}),r(u,c))}var vn=globalThis&&globalThis.__assign||function(){return vn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},vn.apply(this,arguments)},Tr=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Vu(t){var a=t.activeStartDate,s=t.hover,n=t.value,r=t.valueType,l=Tr(t,["activeStartDate","hover","value","valueType"]),i=0,d=11,c=se(a);return w.createElement(Ps,{className:"react-calendar__year-view__months",dateTransform:function(u){var o=new Date;return o.setFullYear(c,u,1),wa(o)},dateType:"month",end:d,hover:s,renderTile:function(u){var o=u.date,m=Tr(u,["date"]);return w.createElement(Uu,vn({key:o.getTime()},l,m,{activeStartDate:a,date:o}))},start:i,value:n,valueType:r})}var vs=globalThis&&globalThis.__assign||function(){return vs=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},vs.apply(this,arguments)},li=function(a){function s(){return w.createElement(Vu,vs({},a))}return w.createElement("div",{className:"react-calendar__year-view"},s())};li.propTypes=vs({},Es);const Ku=li;var jn=globalThis&&globalThis.__assign||function(){return jn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},jn.apply(this,arguments)},$u=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},ls="react-calendar__month-view__days__day";function Hu(t){var a=t.calendarType,s=t.classes,n=s===void 0?[]:s,r=t.currentMonthIndex,l=t.formatDay,i=l===void 0?Gd:l,d=t.formatLongDate,c=d===void 0?Xd:d,u=$u(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),o=As(a),m=u.date,x=u.locale,f=[];return n&&f.push.apply(f,n),ls&&f.push(ls),ti(m,o)&&f.push("".concat(ls,"--weekend")),m.getMonth()!==r&&f.push("".concat(ls,"--neighboringMonth")),w.createElement(Fs,jn({},u,{classes:f,formatAbbr:c,maxDateTransform:er,minDateTransform:ns,view:"month"}),i(x,m))}var yn=globalThis&&globalThis.__assign||function(){return yn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},yn.apply(this,arguments)},Ar=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Bu(t){var a=t.activeStartDate,s=t.calendarType,n=t.hover,r=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,i=t.value,d=t.valueType,c=Ar(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=As(s),o=se(a),m=ra(a),x=r||l,f=Ya(a,u),j=x?0:f,v=(x?-f:0)+1,_=function(){if(r)return v+6*7-1;var y=tr(a);if(l){var p=new Date;p.setFullYear(o,m,y),p.setHours(0,0,0,0);var b=7-Ya(p,u)-1;return y+b}return y}();return w.createElement(Ps,{className:"react-calendar__month-view__days",count:7,dateTransform:function(y){var p=new Date;return p.setFullYear(o,m,y),ns(p)},dateType:"day",hover:n,end:_,renderTile:function(y){var p=y.date,b=Ar(y,["date"]);return w.createElement(Hu,yn({key:p.getTime()},c,b,{activeStartDate:a,calendarType:s,currentMonthIndex:m,date:p}))},offset:j,start:v,value:i,valueType:d})}var ii="react-calendar__month-view__weekdays",Hs="".concat(ii,"__weekday");function Yu(t){for(var a=t.calendarType,s=t.formatShortWeekday,n=s===void 0?eu:s,r=t.formatWeekday,l=r===void 0?tu:r,i=t.locale,d=t.onMouseLeave,c=As(a),u=new Date,o=wa(u),m=se(o),x=ra(o),f=[],j=1;j<=7;j+=1){var v=new Date(m,x,j-Ya(o,c)),_=l(i,v);f.push(w.createElement("div",{key:j,className:it(Hs,hu(v)&&"".concat(Hs,"--current"),ti(v,c)&&"".concat(Hs,"--weekend"))},w.createElement("abbr",{"aria-label":_,title:_},n(i,v).replace(".",""))))}return w.createElement(sr,{className:ii,count:7,onFocus:d,onMouseOver:d},f)}var js=globalThis&&globalThis.__assign||function(){return js=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},js.apply(this,arguments)},Pr=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},Fr="react-calendar__tile";function Qu(t){var a=t.onClickWeekNumber,s=t.weekNumber,n=w.createElement("span",null,s);if(a){var r=t.date,l=t.onClickWeekNumber,i=t.weekNumber,d=Pr(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("button",js({},d,{className:Fr,onClick:function(c){return l(i,r,c)},type:"button"}),n)}else{t.date,t.onClickWeekNumber,t.weekNumber;var d=Pr(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("div",js({},d,{className:Fr}),n)}}function Zu(t){var a=t.activeStartDate,s=t.calendarType,n=t.onClickWeekNumber,r=t.onMouseLeave,l=t.showFixedNumberOfWeeks,i=As(s),d=function(){if(l)return 6;var o=tr(a),m=Ya(a,i),x=o-(7-m);return 1+Math.ceil(x/7)}(),c=function(){for(var o=se(a),m=ra(a),x=Ft(a),f=[],j=0;j<d;j+=1)f.push(un(new Date(o,m,x+j*7),i));return f}(),u=c.map(function(o){return lu(o,i)});return w.createElement(sr,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:r,onMouseOver:r,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(o,m){var x=c[m];if(!x)throw new Error("date is not defined");return w.createElement(Qu,{key:o,date:x,onClickWeekNumber:n,weekNumber:o})}))}var Xa=globalThis&&globalThis.__assign||function(){return Xa=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Xa.apply(this,arguments)},Gu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Xu(t){if(t)for(var a=0,s=Object.entries(qd);a<s.length;a++){var n=s[a],r=n[0],l=n[1];if(l.includes(t))return r}return ge.ISO_8601}var ci=function(a){var s=a.activeStartDate,n=a.locale,r=a.onMouseLeave,l=a.showFixedNumberOfWeeks,i=a.calendarType,d=i===void 0?Xu(n):i,c=a.formatShortWeekday,u=a.formatWeekday,o=a.onClickWeekNumber,m=a.showWeekNumbers,x=Gu(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function f(){return w.createElement(Yu,{calendarType:d,formatShortWeekday:c,formatWeekday:u,locale:n,onMouseLeave:r})}function j(){return m?w.createElement(Zu,{activeStartDate:s,calendarType:d,onClickWeekNumber:o,onMouseLeave:r,showFixedNumberOfWeeks:l}):null}function v(){return w.createElement(Bu,Xa({calendarType:d},x))}var _="react-calendar__month-view";return w.createElement("div",{className:it(_,m?"".concat(_,"--weekNumbers"):"")},w.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},j(),w.createElement("div",{style:{flexGrow:1,width:"100%"}},f(),v())))};ci.propTypes=Xa(Xa({},Es),{calendarType:si,formatDay:g.func,formatLongDate:g.func,formatShortWeekday:g.func,formatWeekday:g.func,onClickWeekNumber:g.func,onMouseLeave:g.func,showFixedNumberOfWeeks:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool});const Ju=ci;var Pa=globalThis&&globalThis.__assign||function(){return Pa=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Pa.apply(this,arguments)},is="react-calendar",Fa=["century","decade","year","month"],em=["decade","year","month","day"],lr=new Date;lr.setFullYear(1,0,1);lr.setHours(0,0,0,0);var tm=new Date(864e13);function Va(t){return t instanceof Date?t:new Date(t)}function oi(t,a){return Fa.slice(Fa.indexOf(t),Fa.indexOf(a)+1)}function am(t,a,s){var n=oi(a,s);return n.indexOf(t)!==-1}function ir(t,a,s){return t&&am(t,a,s)?t:s}function di(t){var a=Fa.indexOf(t);return em[a]}function sm(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var n=Va(s);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function ui(t,a){var s=t.value,n=t.minDate,r=t.maxDate,l=t.maxDetail,i=sm(s,a);if(!i)return null;var d=di(l),c=function(){switch(a){case 0:return va(d,i);case 1:return Xl(d,i);default:throw new Error("Invalid index value: ".concat(a))}}();return yu(c,n,r)}var cr=function(t){return ui(t,0)},mi=function(t){return ui(t,1)},nm=function(t){return[cr,mi].map(function(a){return a(t)})};function xi(t){var a=t.maxDate,s=t.maxDetail,n=t.minDate,r=t.minDetail,l=t.value,i=t.view,d=ir(i,r,s),c=cr({value:l,minDate:n,maxDate:a,maxDetail:s})||new Date;return va(d,c)}function rm(t){var a=t.activeStartDate,s=t.defaultActiveStartDate,n=t.defaultValue,r=t.defaultView,l=t.maxDate,i=t.maxDetail,d=t.minDate,c=t.minDetail,u=t.value,o=t.view,m=ir(o,c,i),x=a||s;return x?va(m,x):xi({maxDate:l,maxDetail:i,minDate:d,minDetail:c,value:u||n,view:o||r})}function Bs(t){return t&&(!Array.isArray(t)||t.length===1)}function cs(t,a){return t instanceof Date&&a instanceof Date&&t.getTime()===a.getTime()}var hi=h.forwardRef(function(a,s){var n=a.activeStartDate,r=a.allowPartialRange,l=a.calendarType,i=a.className,d=a.defaultActiveStartDate,c=a.defaultValue,u=a.defaultView,o=a.formatDay,m=a.formatLongDate,x=a.formatMonth,f=a.formatMonthYear,j=a.formatShortWeekday,v=a.formatWeekday,_=a.formatYear,y=a.goToRangeStartOnSelect,p=y===void 0?!0:y,b=a.inputRef,T=a.locale,P=a.maxDate,M=P===void 0?tm:P,E=a.maxDetail,I=E===void 0?"month":E,S=a.minDate,A=S===void 0?lr:S,F=a.minDetail,z=F===void 0?"century":F,K=a.navigationAriaLabel,B=a.navigationAriaLive,V=a.navigationLabel,N=a.next2AriaLabel,Y=a.next2Label,le=a.nextAriaLabel,W=a.nextLabel,Z=a.onActiveStartDateChange,xe=a.onChange,he=a.onClickDay,fe=a.onClickDecade,G=a.onClickMonth,Te=a.onClickWeekNumber,Ie=a.onClickYear,Le=a.onDrillDown,Pe=a.onDrillUp,De=a.onViewChange,qe=a.prev2AriaLabel,Ne=a.prev2Label,je=a.prevAriaLabel,$=a.prevLabel,Q=a.returnValue,ve=Q===void 0?"start":Q,ye=a.selectRange,ct=a.showDoubleView,ot=a.showFixedNumberOfWeeks,ia=a.showNavigation,Sa=ia===void 0?!0:ia,ca=a.showNeighboringCentury,oa=a.showNeighboringDecade,Fe=a.showNeighboringMonth,yt=Fe===void 0?!0:Fe,da=a.showWeekNumbers,Ue=a.tileClassName,bt=a.tileContent,zt=a.tileDisabled,vt=a.value,Nt=a.view,ua=h.useState(d),qt=ua[0],Ut=ua[1],Ca=h.useState(null),ma=Ca[0],dt=Ca[1],wt=h.useState(Array.isArray(c)?c.map(function(O){return O!==null?Va(O):null}):c!=null?Va(c):null),xa=wt[0],Ra=wt[1],Vt=h.useState(u),za=Vt[0],ha=Vt[1],Ce=n||qt||rm({activeStartDate:n,defaultActiveStartDate:d,defaultValue:c,defaultView:u,maxDate:M,maxDetail:I,minDate:A,minDetail:z,value:vt,view:Nt}),ke=function(){var O=function(){return ye&&Bs(xa)?xa:vt!==void 0?vt:xa}();return O?Array.isArray(O)?O.map(function(R){return R!==null?Va(R):null}):O!==null?Va(O):null:null}(),Kt=di(I),ie=ir(Nt||za,z,I),Be=oi(z,I),Ge=ye?ma:null,H=Be.indexOf(ie)<Be.length-1,X=Be.indexOf(ie)>0,Ee=h.useCallback(function(O){var R=function(){switch(ve){case"start":return cr;case"end":return mi;case"range":return nm;default:throw new Error("Invalid returnValue.")}}();return R({maxDate:M,maxDetail:I,minDate:A,value:O})},[M,I,A,ve]),Me=h.useCallback(function(O,R){Ut(O);var q={action:R,activeStartDate:O,value:ke,view:ie};Z&&!cs(Ce,O)&&Z(q)},[Ce,Z,ke,ie]),be=h.useCallback(function(O,R){var q=function(){switch(ie){case"century":return fe;case"decade":return Ie;case"year":return G;case"month":return he;default:throw new Error("Invalid view: ".concat(ie,"."))}}();q&&q(O,R)},[he,fe,G,Ie,ie]),Xe=h.useCallback(function(O,R){if(H){be(O,R);var q=Be[Be.indexOf(ie)+1];if(!q)throw new Error("Attempted to drill down from the lowest view.");Ut(O),ha(q);var _e={action:"drillDown",activeStartDate:O,value:ke,view:q};Z&&!cs(Ce,O)&&Z(_e),De&&ie!==q&&De(_e),Le&&Le(_e)}},[Ce,H,Z,be,Le,De,ke,ie,Be]),rt=h.useCallback(function(){if(X){var O=Be[Be.indexOf(ie)-1];if(!O)throw new Error("Attempted to drill up from the highest view.");var R=va(O,Ce);Ut(R),ha(O);var q={action:"drillUp",activeStartDate:R,value:ke,view:O};Z&&!cs(Ce,R)&&Z(q),De&&ie!==O&&De(q),Pe&&Pe(q)}},[Ce,X,Z,Pe,De,ke,ie,Be]),Je=h.useCallback(function(O,R){var q=ke;be(O,R);var _e=ye&&!Bs(q),Se;if(ye)if(_e)Se=va(Kt,O);else{if(!q)throw new Error("previousValue is required");if(Array.isArray(q))throw new Error("previousValue must not be an array");Se=mu(Kt,q,O)}else Se=Ee(O);var Ye=!ye||_e||p?xi({maxDate:M,maxDetail:I,minDate:A,minDetail:z,value:Se,view:ie}):null;R.persist(),Ut(Ye),Ra(Se);var _t={action:"onChange",activeStartDate:Ye,value:Se,view:ie};if(Z&&!cs(Ce,Ye)&&Z(_t),xe)if(ye){var et=Bs(Se);if(!et)xe(Se||null,R);else if(r){if(Array.isArray(Se))throw new Error("value must not be an array");xe([Se||null,null],R)}}else xe(Se||null,R)},[Ce,r,Ee,p,M,I,A,z,Z,xe,be,ye,ke,Kt,ie]);function qa(O){dt(O)}function $t(){dt(null)}h.useImperativeHandle(s,function(){return{activeStartDate:Ce,drillDown:Xe,drillUp:rt,onChange:Je,setActiveStartDate:Me,value:ke,view:ie}},[Ce,Xe,rt,Je,Me,ke,ie]);function fa(O){var R=O?Gl(ie,Ce):va(ie,Ce),q=H?Xe:Je,_e={activeStartDate:R,hover:Ge,locale:T,maxDate:M,minDate:A,onClick:q,onMouseOver:ye?qa:void 0,tileClassName:Ue,tileContent:bt,tileDisabled:zt,value:ke,valueType:Kt};switch(ie){case"century":return w.createElement(Iu,Pa({formatYear:_,showNeighboringCentury:ca},_e));case"decade":return w.createElement(Ru,Pa({formatYear:_,showNeighboringDecade:oa},_e));case"year":return w.createElement(Ku,Pa({formatMonth:x,formatMonthYear:f},_e));case"month":return w.createElement(Ju,Pa({calendarType:l,formatDay:o,formatLongDate:m,formatShortWeekday:j,formatWeekday:v,onClickWeekNumber:Te,onMouseLeave:ye?$t:void 0,showFixedNumberOfWeeks:typeof ot<"u"?ot:ct,showNeighboringMonth:yt,showWeekNumbers:da},_e));default:throw new Error("Invalid view: ".concat(ie,"."))}}function ka(){return Sa?w.createElement(fu,{activeStartDate:Ce,drillUp:rt,formatMonthYear:f,formatYear:_,locale:T,maxDate:M,minDate:A,navigationAriaLabel:K,navigationAriaLive:B,navigationLabel:V,next2AriaLabel:N,next2Label:Y,nextAriaLabel:le,nextLabel:W,prev2AriaLabel:qe,prev2Label:Ne,prevAriaLabel:je,prevLabel:$,setActiveStartDate:Me,showDoubleView:ct,view:ie,views:Be}):null}var k=Array.isArray(ke)?ke:[ke];return w.createElement("div",{className:it(is,ye&&k.length===1&&"".concat(is,"--selectRange"),ct&&"".concat(is,"--doubleView"),i),ref:b},ka(),w.createElement("div",{className:"".concat(is,"__viewContainer"),onBlur:ye?$t:void 0,onMouseLeave:ye?$t:void 0},fa(),ct?fa(!0):null))}),Er=g.instanceOf(Date),Ir=g.oneOfType([g.string,g.instanceOf(Date)]),Lr=g.oneOfType([Ir,Eu(Ir)]);hi.propTypes={activeStartDate:Er,allowPartialRange:g.bool,calendarType:si,className:ps,defaultActiveStartDate:Er,defaultValue:Lr,defaultView:gs,formatDay:g.func,formatLongDate:g.func,formatMonth:g.func,formatMonthYear:g.func,formatShortWeekday:g.func,formatWeekday:g.func,formatYear:g.func,goToRangeStartOnSelect:g.bool,inputRef:Au,locale:g.string,maxDate:rr,maxDetail:g.oneOf(Fa),minDate:nr,minDetail:g.oneOf(Fa),navigationAriaLabel:g.string,navigationAriaLive:g.oneOf(["off","polite","assertive"]),navigationLabel:g.func,next2AriaLabel:g.string,next2Label:g.node,nextAriaLabel:g.string,nextLabel:g.node,onActiveStartDateChange:g.func,onChange:g.func,onClickDay:g.func,onClickDecade:g.func,onClickMonth:g.func,onClickWeekNumber:g.func,onClickYear:g.func,onDrillDown:g.func,onDrillUp:g.func,onViewChange:g.func,prev2AriaLabel:g.string,prev2Label:g.node,prevAriaLabel:g.string,prevLabel:g.node,returnValue:g.oneOf(["start","end","range"]),selectRange:g.bool,showDoubleView:g.bool,showFixedNumberOfWeeks:g.bool,showNavigation:g.bool,showNeighboringCentury:g.bool,showNeighboringDecade:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool,tileClassName:g.oneOfType([g.func,ps]),tileContent:g.oneOfType([g.func,g.node]),tileDisabled:g.func,value:Lr,view:gs};const lm=hi;function Ys(t){var a=t.angle,s=a===void 0?0:a,n=t.name,r=t.length,l=r===void 0?100:r,i=t.oppositeLength,d=i===void 0?10:i,c=t.width,u=c===void 0?1:c;return w.createElement("div",{className:"react-clock__hand react-clock__".concat(n,"-hand"),style:{transform:"rotate(".concat(s,"deg)")}},w.createElement("div",{className:"react-clock__hand__body react-clock__".concat(n,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-l/2,"%"),bottom:"".concat(50-d/2,"%")}}))}function fi(t){var a=t.angle,s=a===void 0?0:a,n=t.length,r=n===void 0?10:n,l=t.name,i=t.width,d=i===void 0?1:i,c=t.number;return w.createElement("div",{className:"react-clock__mark react-clock__".concat(l,"-mark"),style:{transform:"rotate(".concat(s,"deg)")}},w.createElement("div",{className:"react-clock__mark__body react-clock__".concat(l,"-mark__body"),style:{width:"".concat(d,"px"),top:0,bottom:"".concat(100-r/2,"%")}}),c?w.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(s,"deg)"),top:"".concat(r/2,"%")}},c):null)}var bn=globalThis&&globalThis.__assign||function(){return bn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},bn.apply(this,arguments)},im=h.memo(function(a){return w.createElement(fi,bn({},a))});const cm=im;function om(t,a){return a.toLocaleString(t||La()||void 0)}var Nn=globalThis&&globalThis.__assign||function(){return Nn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Nn.apply(this,arguments)},dm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},um=h.memo(function(a){var s=a.formatHour,n=s===void 0?om:s,r=a.locale,l=a.number,i=dm(a,["formatHour","locale","number"]);return w.createElement(fi,Nn({number:l?n(r,l):null},i))});const mm=um;function pi(t,a){return function(s,n,r){var l=s,i=n,d=l[i];if(typeof d<"u"){if(typeof d!="number")return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof d,"` supplied to `").concat(r,"`, expected `number`."));if(d<t||d>a)return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof d,"` supplied to `").concat(r,"`, length must be between ").concat(t," and ").concat(a,"."))}return null}}var ms=pi(0,100),Qs=pi(-100,100),xs=function(a,s,n){var r=a,l=s,i=r[l];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, width must be greater or equal to 0."))}return null},Mr=ms,Wr=xs,gi=function(a){var s=a.className,n=a.formatHour,r=a.hourHandLength,l=r===void 0?50:r,i=a.hourHandOppositeLength,d=a.hourHandWidth,c=d===void 0?4:d,u=a.hourMarksLength,o=u===void 0?10:u,m=a.hourMarksWidth,x=m===void 0?3:m,f=a.locale,j=a.minuteHandLength,v=j===void 0?70:j,_=a.minuteHandOppositeLength,y=a.minuteHandWidth,p=y===void 0?2:y,b=a.minuteMarksLength,T=b===void 0?6:b,P=a.minuteMarksWidth,M=P===void 0?1:P,E=a.renderHourMarks,I=E===void 0?!0:E,S=a.renderMinuteHand,A=S===void 0?!0:S,F=a.renderMinuteMarks,z=F===void 0?!0:F,K=a.renderNumbers,B=a.renderSecondHand,V=B===void 0?!0:B,N=a.secondHandLength,Y=N===void 0?90:N,le=a.secondHandOppositeLength,W=a.secondHandWidth,Z=W===void 0?1:W,xe=a.size,he=xe===void 0?150:xe,fe=a.useMillisecondPrecision,G=a.value;function Te(){if(!z)return null;for(var Ne=[],je=1;je<=60;je+=1){var $=I&&!(je%5);$||Ne.push(w.createElement(cm,{key:"minute_".concat(je),angle:je*6,length:T,name:"minute",width:M}))}return Ne}function Ie(){if(!I)return null;for(var Ne=[],je=1;je<=12;je+=1)Ne.push(w.createElement(mm,{key:"hour_".concat(je),angle:je*30,formatHour:n,length:o,locale:f,name:"hour",number:K?je:void 0,width:x}));return Ne}function Le(){return w.createElement("div",{className:"react-clock__face"},Te(),Ie())}function Pe(){var Ne=G?$e(G)*30+Ot(G)/2+ga(G)/120+(fe?Us(G)/12e4:0):0;return w.createElement(Ys,{angle:Ne,length:l,name:"hour",oppositeLength:i,width:c})}function De(){if(!A)return null;var Ne=G?$e(G)*360+Ot(G)*6+ga(G)/10+(fe?Us(G)/1e4:0):0;return w.createElement(Ys,{angle:Ne,length:v,name:"minute",oppositeLength:_,width:p})}function qe(){if(!V)return null;var Ne=G?Ot(G)*360+ga(G)*6+(fe?Us(G)*.006:0):0;return w.createElement(Ys,{angle:Ne,length:Y,name:"second",oppositeLength:le,width:Z})}return w.createElement("time",{className:it("react-clock",s),dateTime:G instanceof Date?G.toISOString():G||void 0,style:{width:he,height:he}},Le(),Pe(),De(),qe())};gi.propTypes={className:g.oneOfType([g.string,g.arrayOf(g.string)]),formatHour:g.func,hourHandLength:ms,hourHandOppositeLength:Qs,hourHandWidth:xs,hourMarksLength:Mr,hourMarksWidth:Wr,locale:g.string,minuteHandLength:ms,minuteHandOppositeLength:Qs,minuteHandWidth:xs,minuteMarksLength:Mr,minuteMarksWidth:Wr,renderHourMarks:g.bool,renderMinuteHand:g.bool,renderMinuteMarks:g.bool,renderNumbers:g.bool,renderSecondHand:g.bool,secondHandLength:ms,secondHandOppositeLength:Qs,secondHandWidth:xs,size:g.oneOfType([g.number,g.string]),value:g.oneOfType([g.string,g.instanceOf(Date)])};const xm=gi;function Re(t){return t.getBoundingClientRect()}function Rr(t,a){return{get collidedTop(){return Re(t).top<Re(a).top},get collidedBottom(){return Re(t).bottom>Re(a).bottom},get collidedLeft(){return Re(t).left<Re(a).left},get collidedRight(){return Re(t).right>Re(a).right},get overflowTop(){return Re(a).top-Re(t).top},get overflowBottom(){return Re(t).bottom-Re(a).bottom},get overflowLeft(){return Re(a).left-Re(t).left},get overflowRight(){return Re(t).right-Re(a).right}}}var hm=!0;function zr(t,a){if(!hm){if(t)return;var s="Warning: "+a;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}var fm=globalThis&&globalThis.__extends||function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(n[l]=r[l])},t(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function n(){this.constructor=a}a.prototype=s===null?Object.create(s):(n.prototype=s.prototype,new n)}}(),Bt=globalThis&&globalThis.__assign||function(){return Bt=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Bt.apply(this,arguments)},pm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},vi=typeof document<"u",qr=vi&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),gm=vi&&"MutationObserver"in window;function os(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ur(t){for(var a=t.parentElement;a;){var s=window.getComputedStyle(a).overflow;if(s.split(" ").every(function(n){return n==="auto"||n==="scroll"}))return a;a=a.parentElement}return document.documentElement}function ji(t){var a=t.axis,s=t.container,n=t.element,r=t.invertAxis,l=t.scrollContainer,i=t.secondary,d=t.spacing,c=window.getComputedStyle(n),u=s.parentElement;if(!u)return;var o=Rr(u,l),m=Rr(u,document.documentElement),x=a==="x",f=x?"left":"top",j=x?"right":"bottom",v=x?"width":"height",_="overflow".concat(os(f)),y="overflow".concat(os(j)),p="scroll".concat(os(f)),b=os(v),T="offset".concat(b),P="client".concat(b),M="min-".concat(v),E=l[T]-l[P],I=typeof d=="object"?d[f]:d,S=-Math.max(o[_],m[_]+document.documentElement[p])-I,A=typeof d=="object"?d[j]:d,F=-Math.max(o[y],m[y]-document.documentElement[p])-A-E;i&&(S+=u[P],F+=u[P]);var z=n[T];function K(){n.style[f]="auto",n.style[j]=i?"0":"100%"}function B(){n.style[f]=i?"0":"100%",n.style[j]="auto"}function V(Z,xe){var he=z<=Z;return he&&xe(),he}function N(){return V(S,K)}function Y(){return V(F,B)}function le(){var Z=S>F,xe=c.getPropertyValue(M),he=xe?parseInt(xe,10):null;function fe(G){zr(!he||G>=he,"<Fit />'s child will not fit anywhere with its current ".concat(M," of ").concat(he,"px."));var Te=Math.max(G,he||0);zr(!1,"<Fit />'s child needed to have its ".concat(v," decreased to ").concat(Te,"px.")),n.style[v]="".concat(Te,"px")}Z?(fe(S),K()):(fe(F),B())}var W;r?W=N()||Y():W=Y()||N(),W||le()}function vm(t){ji(t)}function jm(t){ji(Bt(Bt({},t),{axis:t.axis==="x"?"y":"x",secondary:!0}))}function ym(t){var a=t.invertAxis,s=t.invertSecondaryAxis,n=pm(t,["invertAxis","invertSecondaryAxis"]);vm(Bt(Bt({},n),{invertAxis:a})),jm(Bt(Bt({},n),{invertAxis:s}))}var bm=function(t){fm(a,t);function a(){var s=t!==null&&t.apply(this,arguments)||this;return s.fit=function(){var n=s,r=n.scrollContainer,l=n.container,i=n.element;if(!(!r||!l||!i)){var d=i.clientWidth,c=i.clientHeight;if(!(s.elementWidth===d&&s.elementHeight===c)){s.elementWidth=d,s.elementHeight=c;var u=l.parentElement;if(u){var o=window.getComputedStyle(i),m=o.position;m!=="absolute"&&(i.style.position="absolute");var x=window.getComputedStyle(u),f=x.position;f!=="relative"&&f!=="absolute"&&(u.style.position="relative");var j=s.props,v=j.invertAxis,_=j.invertSecondaryAxis,y=j.mainAxis,p=y===void 0?"y":y,b=j.spacing,T=b===void 0?8:b;ym({axis:p,container:l,element:i,invertAxis:v,invertSecondaryAxis:_,scrollContainer:r,spacing:T})}}}},s}return a.prototype.componentDidMount=function(){var s=this;if(!qr){var n=rn.findDOMNode(this);if(!n||!(n instanceof HTMLElement))return;this.container=n,this.element=n,this.scrollContainer=Ur(n)}this.fit();var r=function(){s.fit()};if(gm&&this.element){var l=new MutationObserver(r);l.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},a.prototype.render=function(){var s=this,n=this.props.children,r=w.Children.only(n);return qr?w.createElement("span",{ref:function(l){s.container=l;var i=l&&l.firstElementChild;!i||!(i instanceof HTMLElement)||(s.element=i,s.scrollContainer=Ur(i))},style:{display:"contents"}},r):r},a.propTypes={children:g.node.isRequired,invertAxis:g.bool,invertSecondaryAxis:g.bool,mainAxis:g.oneOf(["x","y"]),spacing:g.oneOfType([g.number,g.shape({bottom:g.number.isRequired,left:g.number.isRequired,right:g.number.isRequired,top:g.number.isRequired})])},a}(h.Component);const Vr=bm;function Nm(t){var a=t.children;return w.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},a)}var wm=["normal","small-caps"];function or(t){if(!t)return"";var a=window.getComputedStyle(t);if(a.font)return a.font;var s=a.fontFamily!=="";if(!s)return"";var n=wm.includes(a.fontVariant)?a.fontVariant:"normal";return"".concat(a.fontStyle," ").concat(n," ").concat(a.fontWeight," ").concat(a.fontSize," / ").concat(a.lineHeight," ").concat(a.fontFamily)}var Kr;function _m(t,a){var s=Kr||(Kr=document.createElement("canvas")),n=s.getContext("2d");if(!n)return null;n.font=a;var r=n.measureText(t).width;return Math.ceil(r)}function aa(t){if(typeof document>"u"||!t)return null;var a=or(t),s=t.value||t.placeholder,n=_m(s,a);return n===null?null:(t.style.width="".concat(n,"px"),n)}var dr=typeof document<"u",Sm=dr?h.useLayoutEffect:h.useEffect,Cm=dr&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),km=dr&&/Firefox/.test(navigator.userAgent);function Dm(t){var a=t.target;Cm?requestAnimationFrame(function(){return a.select()}):a.select()}function Om(t){if(document.readyState==="complete")return;function a(){aa(t)}window.addEventListener("load",a)}function Tm(t){if(!document.fonts)return;var a=or(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function n(){aa(t)}document.fonts.addEventListener("loadingdone",n)}function Am(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function Pm(t){if(t!==null)return function(s){if(!km){var n=s.key,r=s.target,l=r.value,i=n.length===1&&/\d/.test(n),d=Am(r);(!i||!(d||l.length<t))&&s.preventDefault()}}}function ur(t){var a=t.ariaLabel,s=t.autoFocus,n=t.className,r=t.disabled,l=t.inputRef,i=t.max,d=t.min,c=t.name,u=t.nameForClass,o=t.onChange,m=t.onKeyDown,x=t.onKeyUp,f=t.placeholder,j=f===void 0?"--":f,v=t.required,_=t.showLeadingZeros,y=t.step,p=t.value;Sm(function(){!l||!l.current||(aa(l.current),Om(l.current),Tm(l.current))},[l,p]);var b=_&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),T=i?i.toString().length:null;return w.createElement(w.Fragment,null,b?w.createElement("span",{className:"".concat(n,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(n,"__input"),"".concat(n,"__").concat(u||c),b&&"".concat(n,"__input--hasLeadingZero")),"data-input":"true",disabled:r,inputMode:"numeric",max:i,min:d,name:c,onChange:o,onFocus:Dm,onKeyDown:m,onKeyPress:Pm(T),onKeyUp:function(P){aa(P.target),x&&x(P)},placeholder:j,ref:l,required:v,step:y,type:"number",value:p!==null?p:""}))}function yi(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Is(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(yi))}function Ls(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(yi))}var wn=globalThis&&globalThis.__assign||function(){return wn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},wn.apply(this,arguments)},Fm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Em(t){var a=t.maxDate,s=t.minDate,n=t.month,r=t.year,l=Fm(t,["maxDate","minDate","month","year"]),i=function(){return n?tr(new Date(Number(r),Number(n)-1,1)):31}();function d(o){return r===se(o).toString()&&n===Dt(o).toString()}var c=Is(i,a&&d(a)&&Ft(a)),u=Ls(1,s&&d(s)&&Ft(s));return w.createElement(ur,wn({max:c,min:u,name:"day"},l))}var _n=globalThis&&globalThis.__assign||function(){return _n=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},_n.apply(this,arguments)},Im=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Lm(t){var a=t.maxDate,s=t.minDate,n=t.year,r=Im(t,["maxDate","minDate","year"]);function l(c){return c&&n===se(c).toString()}var i=Is(12,a&&l(a)&&Dt(a)),d=Ls(1,s&&l(s)&&Dt(s));return w.createElement(ur,_n({max:i,min:d,name:"month"},r))}var Zs=new Map;function Mm(t){return function(s,n){var r=s||La();Zs.has(r)||Zs.set(r,new Map);var l=Zs.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(n)}}function Wm(t){var a=new Date(t);return new Date(a.setHours(12))}function bi(t){return function(a,s){return Mm(t)(a,Wm(s))}}var Rm={month:"long"},zm={month:"short"},qm=bi(Rm),Um=bi(zm),Vm=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))};function Km(t){var a=t.ariaLabel,s=t.autoFocus,n=t.className,r=t.disabled,l=t.inputRef,i=t.locale,d=t.maxDate,c=t.minDate,u=t.onChange,o=t.onKeyDown,m=t.placeholder,x=m===void 0?"--":m,f=t.required,j=t.short,v=t.value,_=t.year;function y(E){return E&&_===se(E).toString()}var p=Is(12,d&&y(d)&&Dt(d)),b=Ls(1,c&&y(c)&&Dt(c)),T=Vm([],Array(12),!0).map(function(E,I){return new Date(2019,I,1)}),P="month",M=j?Um:qm;return w.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(n,"__input"),"".concat(n,"__").concat(P)),"data-input":"true","data-select":"true",disabled:r,name:P,onChange:u,onKeyDown:o,ref:l,required:f,value:v!==null?v:""},!v&&w.createElement("option",{value:""},x),T.map(function(E){var I=Dt(E),S=I<b||I>p;return w.createElement("option",{key:I,disabled:S,value:I},M(i,E))}))}var Sn=globalThis&&globalThis.__assign||function(){return Sn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Sn.apply(this,arguments)},$m=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function Hm(t){var a=t.maxDate,s=t.minDate,n=t.placeholder,r=n===void 0?"----":n,l=t.valueType,i=$m(t,["maxDate","minDate","placeholder","valueType"]),d=Is(275760,a&&se(a)),c=Ls(1,s&&se(s)),u=function(){return l==="century"?10:1}();return w.createElement(ur,Sn({max:d,min:c,name:"year",placeholder:r,step:u},i))}var mr=typeof document<"u",Bm=mr?h.useLayoutEffect:h.useEffect,Ym=mr&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Qm=mr&&/Firefox/.test(navigator.userAgent);function Zm(t){var a=t.target;Ym?requestAnimationFrame(function(){return a.select()}):a.select()}function Gm(t){if(document.readyState==="complete")return;function a(){aa(t)}window.addEventListener("load",a)}function Xm(t){if(!document.fonts)return;var a=or(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function n(){aa(t)}document.fonts.addEventListener("loadingdone",n)}function Jm(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function ex(t){if(t!==null)return function(s){if(!Qm){var n=s.key,r=s.target,l=r.value,i=n.length===1&&/\d/.test(n),d=Jm(r);(!i||!(d||l.length<t))&&s.preventDefault()}}}function Ms(t){var a=t.ariaLabel,s=t.autoFocus,n=t.className,r=t.disabled,l=t.inputRef,i=t.max,d=t.min,c=t.name,u=t.nameForClass,o=t.onChange,m=t.onKeyDown,x=t.onKeyUp,f=t.placeholder,j=f===void 0?"--":f,v=t.required,_=t.showLeadingZeros,y=t.step,p=t.value;Bm(function(){!l||!l.current||(aa(l.current),Gm(l.current),Xm(l.current))},[l,p]);var b=_&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),T=i?i.toString().length:null;return w.createElement(w.Fragment,null,b?w.createElement("span",{className:"".concat(n,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(n,"__input"),"".concat(n,"__").concat(u||c),b&&"".concat(n,"__input--hasLeadingZero")),"data-input":"true",disabled:r,inputMode:"numeric",max:i,min:d,name:c,onChange:o,onFocus:Zm,onKeyDown:m,onKeyPress:ex(T),onKeyUp:function(P){aa(P.target),x&&x(P)},placeholder:j,ref:l,required:v,step:y,type:"number",value:p!==null?p:""}))}function Ka(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}var Gs=new Map;function tx(t){return function(s,n){var r=s||La();Gs.has(r)||Gs.set(r,new Map);var l=Gs.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(n)}}var ax=["9",""],$r=new RegExp("[".concat(ax.join(""),"]")),Hr=tx({hour:"numeric"});function sx(t){var a=Hr(t,new Date(2017,0,1,9)),s=Hr(t,new Date(2017,0,1,21)),n=a.split($r),r=n[0],l=n[1],i=s.split($r),d=i[0],c=i[1];if(c!==void 0){if(r!==d)return[r,d].map(function(u){return u.trim()});if(l!==c)return[l,c].map(function(u){return u.trim()})}return["AM","PM"]}function Ni(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Ws(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Ni))}function Rs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Ni))}var Cn=globalThis&&globalThis.__assign||function(){return Cn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Cn.apply(this,arguments)},nx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function rx(t){var a=t.amPm,s=t.maxTime,n=t.minTime,r=t.value,l=nx(t,["amPm","maxTime","minTime","value"]),i=Ws(12,s&&function(){var u=Ka($e(s)),o=u[0],m=u[1];return m!==a?null:o}()),d=Rs(1,n&&function(){var u=Ka($e(n)),o=u[0],m=u[1];return m!==a||o===12?null:o}()),c=r?Ka(r)[0].toString():"";return w.createElement(Ms,Cn({max:i,min:d,name:"hour12",nameForClass:"hour",value:c},l))}var kn=globalThis&&globalThis.__assign||function(){return kn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},kn.apply(this,arguments)},lx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function ix(t){var a=t.maxTime,s=t.minTime,n=lx(t,["maxTime","minTime"]),r=Ws(23,a&&$e(a)),l=Rs(0,s&&$e(s));return w.createElement(Ms,kn({max:r,min:l,name:"hour24",nameForClass:"hour"},n))}var Dn=globalThis&&globalThis.__assign||function(){return Dn=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Dn.apply(this,arguments)},cx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function ox(t){var a=t.hour,s=t.maxTime,n=t.minTime,r=t.showLeadingZeros,l=r===void 0?!0:r,i=cx(t,["hour","maxTime","minTime","showLeadingZeros"]);function d(o){return a===$e(o).toString()}var c=Ws(59,s&&d(s)&&Ot(s)),u=Rs(0,n&&d(n)&&Ot(n));return w.createElement(Ms,Dn({max:c,min:u,name:"minute",showLeadingZeros:l},i))}var On=globalThis&&globalThis.__assign||function(){return On=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},On.apply(this,arguments)},dx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};function ux(t){var a=t.hour,s=t.maxTime,n=t.minTime,r=t.minute,l=t.showLeadingZeros,i=l===void 0?!0:l,d=dx(t,["hour","maxTime","minTime","minute","showLeadingZeros"]);function c(m){return a===$e(m).toString()&&r===Ot(m).toString()}var u=Ws(59,s&&c(s)&&ga(s)),o=Rs(0,n&&c(n)&&ga(n));return w.createElement(Ms,On({max:u,min:o,name:"second",showLeadingZeros:i},d))}function mx(t){var a=t.ariaLabel,s=t.autoFocus,n=t.className,r=t.disabled,l=t.inputRef,i=t.locale,d=t.maxTime,c=t.minTime,u=t.onChange,o=t.onKeyDown,m=t.required,x=t.value,f=c?Ka($e(c))[1]==="pm":!1,j=d?Ka($e(d))[1]==="am":!1,v="amPm",_=sx(i),y=_[0],p=_[1];return w.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(n,"__input"),"".concat(n,"__").concat(v)),"data-input":"true","data-select":"true",disabled:r,name:v,onChange:u,onKeyDown:o,ref:l,required:m,value:x!==null?x:""},!x&&w.createElement("option",{value:""},"--"),w.createElement("option",{disabled:f,value:"am"},y),w.createElement("option",{disabled:j,value:"pm"},p))}function xx(t){var a=t.ariaLabel,s=t.disabled,n=t.maxDate,r=t.minDate,l=t.name,i=t.onChange,d=t.required,c=t.value,u=t.valueType,o=function(){switch(u){case"hour":return function(f){return"".concat(dn(f),"T").concat($e(f),":00")};case"minute":return function(f){return"".concat(dn(f),"T").concat(Rd(f))};case"second":return zd;default:throw new Error("Invalid valueType")}}(),m=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function x(f){f.stopPropagation()}return w.createElement("input",{"aria-label":a,disabled:s,hidden:!0,max:n?o(n):void 0,min:r?o(r):void 0,name:l,onChange:i,onFocus:x,required:d,step:m,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:c?o(c):""})}var Xs=new Map;function ys(t){return function(s,n){var r=s||La();Xs.has(r)||Xs.set(r,new Map);var l=Xs.get(r);return l.has(t)||l.set(t,new Intl.DateTimeFormat(r||void 0,t).format),l.get(t)(n)}}var Js=new Map;function hx(t){return function(a,s){var n=a||La();Js.has(n)||Js.set(n,new Map);var r=Js.get(n);return r.has(t)||r.set(t,new Intl.NumberFormat(n||void 0,t).format),r.get(t)(s)}}var fx={day:"numeric",month:"numeric",year:"numeric"},px=ys(fx);function Br(t,a){var s=Number(t);return a==="am"&&s===12?s=0:a==="pm"&&s<12&&(s+=12),s}function gx(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}function vx(t,a,s){return a&&a>t?a:s&&s<t?s:t}var jx=["9",""],Yr=new RegExp("[".concat(jx.join(""),"]")),Qr=ys({hour:"numeric"});function yx(t){var a=Qr(t,new Date(2017,0,1,9)),s=Qr(t,new Date(2017,0,1,21)),n=a.split(Yr),r=n[0],l=n[1],i=s.split(Yr),d=i[0],c=i[1];if(c!==void 0){if(r!==d)return[r,d].map(function(u){return u.trim()});if(l!==c)return[l,c].map(function(u){return u.trim()})}return["AM","PM"]}var ut=globalThis&&globalThis.__assign||function(){return ut=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},ut.apply(this,arguments)},Zr=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))},ds={},$a=new Date;$a.setFullYear(1,0,1);$a.setHours(0,0,0,0);var en=new Date(864e13),bx=["hour","minute","second"];function wi(t){return t instanceof Date?t:new Date(t)}function Gr(t,a,s,n){return a===se(t).toString()&&s===Dt(t).toString()&&n===Ft(t).toString()}function Nx(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var n=wi(s);if(isNaN(n.getTime()))throw new Error("Invalid date: ".concat(t));return n}function wx(t,a){var s=t.value,n=t.minDate,r=t.maxDate,l=Nx(s,a);return l?vx(l,n,r):null}var _x=function(t){return wx(t,0)};function Sx(t){return t.dataset.input==="true"}function Xr(t,a){var s=t;do s=s[a];while(s&&!Sx(s));return s}function tn(t){t&&t.focus()}function Cx(t,a,s){var n=[],r=new RegExp(Object.keys(a).map(function(i){return"".concat(i,"+")}).join("|"),"g"),l=t.match(r);return t.split(r).reduce(function(i,d,c){var u=d&&w.createElement(Nm,{key:"separator_".concat(c)},d),o=Zr(Zr([],i,!0),[u],!1),m=l&&l[c];if(m){var x=a[m]||a[Object.keys(a).find(function(f){return m.match(f)})];if(!x)return o;!s&&n.includes(x)?o.push(m):(o.push(x(m,c)),n.push(x))}return o},[])}var us=hx({useGrouping:!1});function kx(t){var a=t.amPmAriaLabel,s=t.autoFocus,n=t.className,r=t.dayAriaLabel,l=t.dayPlaceholder,i=t.disabled,d=t.format,c=t.hourAriaLabel,u=t.hourPlaceholder,o=t.isWidgetOpen,m=t.locale,x=t.maxDate,f=t.maxDetail,j=f===void 0?"minute":f,v=t.minDate,_=t.minuteAriaLabel,y=t.minutePlaceholder,p=t.monthAriaLabel,b=t.monthPlaceholder,T=t.name,P=T===void 0?"datetime":T,M=t.nativeInputAriaLabel,E=t.onChange,I=t.onInvalidChange,S=t.required,A=t.secondAriaLabel,F=t.secondPlaceholder,z=t.showLeadingZeros,K=t.value,B=t.yearAriaLabel,V=t.yearPlaceholder,N=h.useState(null),Y=N[0],le=N[1],W=h.useState(null),Z=W[0],xe=W[1],he=h.useState(null),fe=he[0],G=he[1],Te=h.useState(null),Ie=Te[0],Le=Te[1],Pe=h.useState(null),De=Pe[0],qe=Pe[1],Ne=h.useState(null),je=Ne[0],$=Ne[1],Q=h.useState(null),ve=Q[0],ye=Q[1],ct=h.useState(null),ot=ct[0],ia=ct[1],Sa=h.useRef(null),ca=h.useRef(null),oa=h.useRef(null),Fe=h.useRef(null),yt=h.useRef(null),da=h.useRef(null),Ue=h.useRef(null),bt=h.useRef(null),zt=h.useRef(null),vt=h.useState(o),Nt=vt[0],ua=vt[1],qt=h.useRef();h.useEffect(function(){ua(o)},[o]),h.useEffect(function(){var k=_x({value:K,minDate:v,maxDate:x});k?(le(gx($e(k))[1]),xe(se(k).toString()),G(Dt(k).toString()),Le(Ft(k).toString()),qe($e(k).toString()),$(Ot(k).toString()),ye(ga(k).toString()),ia(wi(k))):(le(null),xe(null),G(null),Le(null),qe(null),$(null),ye(null),ia(null))},[K,v,x,Nt]);var Ut=j,Ca=function(){var k=bx.indexOf(j),O=ds[k]||function(){var R={hour:"numeric"};return k>=1&&(R.minute="numeric"),k>=2&&(R.second="numeric"),ds[k]=R,R}();return ys(O)}(),ma=function(){var k=2017,O=11,R=11,q=new Date(k,O,R),_e=px(m,q),Se=["year","month","day"],Ye=["y","M","d"];function _t(St,pa){var Ht=ds[St]||function(){var Ct,lt=(Ct={},Ct[St]="numeric",Ct);return ds[St]=lt,lt}();return ys(Ht)(m,pa).match(/\d{1,}/)}var et=_e;return Se.forEach(function(St,pa){var Ht=_t(St,q);if(Ht){var Ct=Ht[0],lt=Ye[pa];et=et.replace(Ct,lt)}}),et=et.replace("17","y"),et}(),dt=function(){var k=21,O=9,R=13,q=14,_e=new Date(2017,0,1,k,R,q);return Ca(m,_e).replace(us(m,O),"h").replace(us(m,k),"H").replace(us(m,R),"mm").replace(us(m,q),"ss").replace(new RegExp(yx(m).join("|")),"a")}(),wt=d||"".concat(ma,"").concat(dt),xa=function(){var k=ma.match(/[^0-9a-z]/i);return k?k[0]:null}(),Ra=function(){var k=dt.match(/[^0-9a-z]/i);return k?k[0]:null}(),Vt=function(){if(x&&Gr(x,Z,fe,Ie))return on(x||en)}(),za=function(){if(v&&Gr(v,Z,fe,Ie))return on(v||$a)}();function ha(k){if(k.target===k.currentTarget){var O=k.target.children[1];tn(O)}}function Ce(k){switch(qt.current=k.key,k.key){case"ArrowLeft":case"ArrowRight":case xa:case Ra:{k.preventDefault();var O=k.target,R=k.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",q=Xr(O,R);tn(q);break}}}function ke(k){var O=k.key,R=k.target,q=qt.current===O;if(q){var _e=!isNaN(Number(O));if(_e){var Se=R.getAttribute("max");if(Se){var Ye=R.value;if(Number(Ye)*10>Number(Se)||Ye.length>=Se.length){var _t="nextElementSibling",et=Xr(R,_t);tn(et)}}}}}function Kt(){if(!E)return;function k(We){return!!We}var O=[Sa.current,yt.current,oa.current,Fe.current,ca.current,da.current,Ue.current,bt.current,zt.current].filter(k),R=O.slice(1),q={};O.forEach(function(We){q[We.name]=We.type==="number"?"valueAsNumber"in We?We.valueAsNumber:Number(We.value):We.value});var _e=R.every(function(We){return!We.value});if(_e){E(null,!1);return}var Se=O.every(function(We){return We.value}),Ye=O.every(function(We){return We.validity.valid});if(Se&&Ye){var _t=Number(q.year||new Date().getFullYear()),et=Number(q.month||1)-1,St=Number(q.day||1),pa=Number(q.hour24||q.hour12&&q.amPm&&Br(q.hour12,q.amPm)||0),Ht=Number(q.minute||0),Ct=Number(q.second||0),lt=new Date;lt.setFullYear(_t,et,St),lt.setHours(pa,Ht,Ct,0),E(lt,!1);return}I&&I()}function ie(k){var O=k.target,R=O.name,q=O.value;switch(R){case"amPm":le(q);break;case"year":xe(q);break;case"month":G(q);break;case"day":Le(q);break;case"hour12":qe(q?Br(q,Y||"am").toString():"");break;case"hour24":qe(q);break;case"minute":$(q);break;case"second":ye(q);break}Kt()}function Be(k){var O=k.target.value;if(E){var R=function(){if(!O)return null;var q=O.split("T"),_e=q[0],Se=q[1],Ye=_e.split("-"),_t=Ye[0],et=Ye[1],St=Ye[2],pa=Number(_t),Ht=Number(et)-1||0,Ct=Number(St)||1,lt=Se.split(":"),We=lt[0],ki=lt[1],Di=lt[2],Oi=Number(We)||0,Ti=Number(ki)||0,Ai=Number(Di)||0,zs=new Date;return zs.setFullYear(pa,Ht,Ct),zs.setHours(Oi,Ti,Ai,0),zs}();E(R,!1)}}var Ge={className:n,disabled:i,maxDate:x||en,minDate:v||$a,onChange:ie,onKeyDown:Ce,onKeyUp:ke,required:!!(S||Nt)},H={maxTime:Vt,minTime:za};function X(k,O){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var R=k&&k.length===2;return w.createElement(Em,ut({key:"day"},Ge,{ariaLabel:r,autoFocus:O===0&&s,inputRef:yt,month:fe,placeholder:l,showLeadingZeros:R||z,value:Ie,year:Z}))}function Ee(k,O){if(k&&k.length>4)throw new Error("Unsupported token: ".concat(k));if(k.length>2)return w.createElement(Km,ut({key:"month"},Ge,{ariaLabel:p,autoFocus:O===0&&s,inputRef:Fe,locale:m,placeholder:b,short:k.length===3,value:fe,year:Z}));var R=k&&k.length===2;return w.createElement(Lm,ut({key:"month"},Ge,{ariaLabel:p,autoFocus:O===0&&s,inputRef:oa,placeholder:b,showLeadingZeros:R||z,value:fe,year:Z}))}function Me(k,O){return w.createElement(Hm,ut({key:"year"},Ge,{ariaLabel:B,autoFocus:O===0&&s,inputRef:ca,placeholder:V,value:Z,valueType:"day"}))}function be(k,O){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var R=k?k.length===2:!1;return w.createElement(rx,ut({key:"hour12"},Ge,H,{amPm:Y,ariaLabel:c,autoFocus:O===0&&s,inputRef:da,placeholder:u,showLeadingZeros:R,value:De}))}function Xe(k,O){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var R=k?k.length===2:!1;return w.createElement(ix,ut({key:"hour24"},Ge,H,{ariaLabel:c,autoFocus:O===0&&s,inputRef:Ue,placeholder:u,showLeadingZeros:R,value:De}))}function rt(k,O){return/h/.test(k)?be(k,O):Xe(k,O)}function Je(k,O){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var R=k?k.length===2:!1;return w.createElement(ox,ut({key:"minute"},Ge,H,{ariaLabel:_,autoFocus:O===0&&s,hour:De,inputRef:bt,placeholder:y,showLeadingZeros:R,value:je}))}function qa(k,O){if(k&&k.length>2)throw new Error("Unsupported token: ".concat(k));var R=k?k.length===2:!0;return w.createElement(ux,ut({key:"second"},Ge,H,{ariaLabel:A,autoFocus:O===0&&s,hour:De,inputRef:zt,minute:je,placeholder:F,showLeadingZeros:R,value:ve}))}function $t(k,O){return w.createElement(mx,ut({key:"ampm"},Ge,H,{ariaLabel:a,autoFocus:O===0&&s,inputRef:Sa,locale:m,onChange:ie,value:Y}))}function fa(){var k={d:X,M:Ee,y:Me,h:rt,H:rt,m:Je,s:qa,a:$t},O=typeof d<"u";return Cx(wt,k,O)}function ka(){return w.createElement(xx,{key:"datetime",ariaLabel:M,disabled:i,maxDate:x||en,minDate:v||$a,name:P,onChange:Be,required:S,value:ot,valueType:Ut})}return w.createElement("div",{className:n,onClick:ha},ka(),fa())}var Dx=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var n=0,r=a.length,l;n<r;n++)(l||!(n in a))&&(l||(l=Array.prototype.slice.call(a,0,n)),l[n]=a[n]);return t.concat(l||Array.prototype.slice.call(a))},Ox=["hour","minute","second"],Tx=Dx([],Ox,!0),Ax=function(a,s,n){var r=a,l=s,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, minDate cannot be larger than maxDate.")):null},Px=function(a,s,n){var r=a,l=s,i=r[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(n,"`, maxDate cannot be smaller than minDate.")):null};g.oneOf(Tx);var Fx=function(t){return g.arrayOf(t)},Yt=globalThis&&globalThis.__assign||function(){return Yt=Object.assign||function(t){for(var a,s=1,n=arguments.length;s<n;s++){a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},Yt.apply(this,arguments)},an=globalThis&&globalThis.__rest||function(t,a){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&a.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)a.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s},Ex=typeof document<"u",Ve="react-datetime-picker",Ix=["mousedown","focusin","touchstart"],_i=["hour","minute","second"],Si={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Lx=w.createElement("svg",Yt({},Si,{className:"".concat(Ve,"__calendar-button__icon ").concat(Ve,"__button__icon")}),w.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),w.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),w.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),Mx=w.createElement("svg",Yt({},Si,{className:"".concat(Ve,"__clear-button__icon ").concat(Ve,"__button__icon")}),w.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),w.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),xr=function(a){var s=a.amPmAriaLabel,n=a.autoFocus,r=a.calendarAriaLabel,l=a.calendarIcon,i=l===void 0?Lx:l,d=a.className,c=a.clearAriaLabel,u=a.clearIcon,o=u===void 0?Mx:u,m=a.closeWidgets,x=m===void 0?!0:m,f=a["data-testid"],j=a.dayAriaLabel,v=a.dayPlaceholder,_=a.disableCalendar,y=a.disableClock,p=a.disabled,b=a.format,T=a.hourAriaLabel,P=a.hourPlaceholder,M=a.id,E=a.isCalendarOpen,I=E===void 0?null:E,S=a.isClockOpen,A=S===void 0?null:S,F=a.locale,z=a.maxDate,K=a.maxDetail,B=K===void 0?"minute":K,V=a.minDate,N=a.minuteAriaLabel,Y=a.minutePlaceholder,le=a.monthAriaLabel,W=a.monthPlaceholder,Z=a.name,xe=Z===void 0?"datetime":Z,he=a.nativeInputAriaLabel,fe=a.onCalendarClose,G=a.onCalendarOpen,Te=a.onChange,Ie=a.onClockClose,Le=a.onClockOpen,Pe=a.onFocus,De=a.onInvalidChange,qe=a.openWidgetsOnFocus,Ne=qe===void 0?!0:qe,je=a.required,$=a.secondAriaLabel,Q=a.secondPlaceholder,ve=a.shouldCloseWidgets,ye=a.shouldOpenWidgets,ct=a.showLeadingZeros,ot=a.value,ia=a.yearAriaLabel,Sa=a.yearPlaceholder,ca=an(a,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),oa=h.useState(I),Fe=oa[0],yt=oa[1],da=h.useState(A),Ue=da[0],bt=da[1],zt=h.useRef(null),vt=h.useRef(null),Nt=h.useRef(null);h.useEffect(function(){yt(I)},[I]),h.useEffect(function(){bt(A)},[A]);function ua(H){var X=H.reason;ye&&!ye({reason:X,widget:"calendar"})||(bt(Ue&&!1),yt(!0),G&&G())}var qt=h.useCallback(function(H){var X=H.reason;ve&&!ve({reason:X,widget:"calendar"})||(yt(!1),fe&&fe())},[fe,ve]);function Ut(){Fe?qt({reason:"buttonClick"}):ua({reason:"buttonClick"})}function Ca(H){var X=H.reason;ye&&!ye({reason:X,widget:"clock"})||(yt(Fe&&!1),bt(!0),Le&&Le())}var ma=h.useCallback(function(H){var X=H.reason;ve&&!ve({reason:X,widget:"clock"})||(bt(!1),Ie&&Ie())},[Ie,ve]),dt=h.useCallback(function(H){var X=H.reason;qt({reason:X}),ma({reason:X})},[qt,ma]);function wt(H,X){X===void 0&&(X=x),X&&dt({reason:"select"}),Te&&Te(H)}function xa(H,X){var Ee=(Array.isArray(H)?H:[H])[0],Me=(Array.isArray(ot)?ot:[ot])[0];if(Me&&Ee){var be=new Date(Me),Xe=new Date(Ee);Xe.setHours(be.getHours(),be.getMinutes(),be.getSeconds(),be.getMilliseconds()),wt(Xe,X)}else wt(Ee,X)}function Ra(H){if(Pe&&Pe(H),!(p||!Ne||H.target.dataset.select==="true"))switch(H.target.name){case"day":case"month":case"year":{if(Fe)return;ua({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(Ue)return;Ca({reason:"focus"});break}}}var Vt=h.useCallback(function(H){H.key==="Escape"&&dt({reason:"escape"})},[dt]);function za(){wt(null)}function ha(H){H.stopPropagation()}var Ce=h.useCallback(function(H){var X=zt.current,Ee=vt.current,Me=Nt.current,be="composedPath"in H?H.composedPath()[0]:H.target;be&&X&&!X.contains(be)&&(!Ee||!Ee.contains(be))&&(!Me||!Me.contains(be))&&dt({reason:"outsideAction"})},[vt,Nt,dt,zt]),ke=h.useCallback(function(H){H===void 0&&(H=Fe||Ue),Ix.forEach(function(X){H?document.addEventListener(X,Ce):document.removeEventListener(X,Ce)}),H?document.addEventListener("keydown",Vt):document.removeEventListener("keydown",Vt)},[Fe,Ue,Ce,Vt]);h.useEffect(function(){return ke(),function(){ke(!1)}},[ke]);function Kt(){var H=(Array.isArray(ot)?ot:[ot])[0],X={amPmAriaLabel:s,dayAriaLabel:j,hourAriaLabel:T,minuteAriaLabel:N,monthAriaLabel:le,nativeInputAriaLabel:he,secondAriaLabel:$,yearAriaLabel:ia},Ee={dayPlaceholder:v,hourPlaceholder:P,minutePlaceholder:Y,monthPlaceholder:W,secondPlaceholder:Q,yearPlaceholder:Sa};return w.createElement("div",{className:"".concat(Ve,"__wrapper")},w.createElement(kx,Yt({},X,Ee,{autoFocus:n,className:"".concat(Ve,"__inputGroup"),disabled:p,format:b,isWidgetOpen:Fe||Ue,locale:F,maxDate:z,maxDetail:B,minDate:V,name:xe,onChange:wt,onInvalidChange:De,required:je,showLeadingZeros:ct,value:H})),o!==null&&w.createElement("button",{"aria-label":c,className:"".concat(Ve,"__clear-button ").concat(Ve,"__button"),disabled:p,onClick:za,onFocus:ha,type:"button"},typeof o=="function"?w.createElement(o):o),i!==null&&!_&&w.createElement("button",{"aria-label":r,className:"".concat(Ve,"__calendar-button ").concat(Ve,"__button"),disabled:p,onClick:Ut,onFocus:ha,type:"button"},typeof i=="function"?w.createElement(i):i))}function ie(){if(Fe===null||_)return null;var H=a.calendarClassName;a.className,a.maxDetail,a.onChange;var X=a.portalContainer,Ee=a.value,Me=an(a,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),be="".concat(Ve,"__calendar"),Xe=it(be,"".concat(be,"--").concat(Fe?"open":"closed")),rt=w.createElement(lm,Yt({className:H,onChange:function(Je){return xa(Je)},value:Ee},Me));return X?rn.createPortal(w.createElement("div",{ref:vt,className:Xe},rt),X):w.createElement(Vr,null,w.createElement("div",{ref:function(Je){Je&&!Fe&&Je.removeAttribute("style")},className:Xe},rt))}function Be(){if(Ue===null||y)return null;var H=a.clockClassName;a.className;var X=a.maxDetail,Ee=X===void 0?"minute":X;a.onChange;var Me=a.portalContainer,be=a.value,Xe=an(a,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),rt="".concat(Ve,"__clock"),Je=it(rt,"".concat(rt,"--").concat(Ue?"open":"closed")),qa=(Array.isArray(be)?be:[be])[0],$t=_i.indexOf(Ee),fa=w.createElement(xm,Yt({className:H,renderMinuteHand:$t>0,renderSecondHand:$t>1,value:qa},Xe));return Me?rn.createPortal(w.createElement("div",{ref:Nt,className:Je},fa),Me):w.createElement(Vr,null,w.createElement("div",{ref:function(ka){ka&&!Ue&&ka.removeAttribute("style")},className:Je},fa))}var Ge=h.useMemo(function(){return Uo(ca)},[ca]);return w.createElement("div",Yt({className:it(Ve,"".concat(Ve,"--").concat(Fe||Ue?"open":"closed"),"".concat(Ve,"--").concat(p?"disabled":"enabled"),d),"data-testid":f,id:M},Ge,{onFocus:Ra,ref:zt}),Kt(),ie(),Be())},Jr=g.oneOfType([g.string,g.instanceOf(Date)]),Wx=g.oneOfType([Jr,Fx(Jr)]);xr.propTypes={amPmAriaLabel:g.string,autoFocus:g.bool,calendarAriaLabel:g.string,calendarClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),calendarIcon:g.oneOfType([g.node,g.func]),className:g.oneOfType([g.string,g.arrayOf(g.string)]),clearAriaLabel:g.string,clearIcon:g.oneOfType([g.node,g.func]),clockClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),closeWidgets:g.bool,"data-testid":g.string,dayAriaLabel:g.string,dayPlaceholder:g.string,disableCalendar:g.bool,disableClock:g.bool,disabled:g.bool,format:g.string,hourAriaLabel:g.string,hourPlaceholder:g.string,id:g.string,isCalendarOpen:g.bool,isClockOpen:g.bool,locale:g.string,maxDate:Px,maxDetail:g.oneOf(_i),minDate:Ax,minuteAriaLabel:g.string,minutePlaceholder:g.string,monthAriaLabel:g.string,monthPlaceholder:g.string,name:g.string,nativeInputAriaLabel:g.string,onCalendarClose:g.func,onCalendarOpen:g.func,onChange:g.func,onClockClose:g.func,onClockOpen:g.func,onFocus:g.func,openWidgetsOnFocus:g.bool,required:g.bool,secondAriaLabel:g.string,secondPlaceholder:g.string,showLeadingZeros:g.bool,value:Wx,yearAriaLabel:g.string,yearPlaceholder:g.string};Ex&&(xr.propTypes.portalContainer=g.instanceOf(HTMLElement));const Ja=xr,Rx=({onClose:t})=>{const{transfer:a,lastId:s,isChanged:n,isSubmitting:r,error:l,success:i,dateDisplay:d,handleSubmit:c,handleChange:u,handleChangeSelect:o,handleChangeDateTime:m}=jo(),{warehouses:x}=sa(),{auth:f}=pe();return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:j=>{j.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(ne,{name:"id",value:s,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Created by"}),e.jsx(ne,{name:"created_by",placeholder:"User ID",value:f.user.firstname+" "+f.user.lastname,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Source"}),e.jsxs(ce,{onValueChange:j=>o("source",Number(j)),required:!0,name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:x.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):x.map((j,v)=>e.jsxs(U,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},v))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Destination"}),e.jsxs(ce,{onValueChange:j=>o("destination",Number(j)),required:!0,name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose source location..."})}),e.jsx(ue,{className:"bg-white font-medium",children:x.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):x.map((j,v)=>e.jsxs(U,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},j.code))})]})]})]}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12 justify-center",children:e.jsxs("div",{className:"flex flex-col col-span-10 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Schedule"}),e.jsx(Ja,{onChange:j=>m("transfer_schedule",j),format:"yyyy-M-d H:m",minDate:new Date,value:d,required:!0})]})}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12",children:e.jsxs("div",{className:"flex flex-col gap-1 col-span-12 w-full",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Notes:"}),e.jsx(Fn,{name:"notes",onChange:u,value:a.notes||"",placeholder:"Add notes here...."})]})}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:n?"green":null,disabled:!n,onClick:c,children:r?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},zx=({onClose:t})=>{var E,I,S,A,F,z,K,B,V;const{transfer:a,lastId:s,isChanged:n,isSubmitting:r,error:l,success:i,dateDisplay:d,dateDisplayArrived:c,handleSubmit:u,handleChange:o,handleChangeSelect:m,handleChangeDateTime:x}=Al(),{selectedTransfer:f,transferProducts:j}=gt(),{warehouses:v}=sa(),{users:_}=xl(),{auth:y}=pe(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:N=>m("approval_status",N),name:"approval_status",value:a.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(U,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(U,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(N=>N.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(Kn,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),b=e.jsxs(ce,{onValueChange:N=>m("source",Number(N)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=v[a.source-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(I=v[a.source-1])==null?void 0:I.code," ",""," ",(S=v[a.source-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((N,Y)=>e.jsxs(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.source&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},Y))})]}),T=e.jsxs(ce,{onValueChange:N=>m("destination",Number(N)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(A=v[a.destination-1])==null?void 0:A.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=v[a.destination-1])==null?void 0:F.code," ",""," ",(z=v[a.destination-1])==null?void 0:z.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((N,Y)=>e.jsxs(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.destination&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),P=e.jsx(ce,{onValueChange:N=>m("transfer_status",N),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(U,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(U,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),M=e.jsxs(ce,{onValueChange:N=>m("received_by",Number(N)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:_.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?_[Number(a.received_by)-1].firstname+" "+_[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:_.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):_.map((N,Y)=>e.jsx(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.received_by&&"selected"}`,children:N.firstname+" "+N.lastname},Y))})]});return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),b]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),T]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:f.created_by.firstname+" "+f.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((K=a.approval_status)==null?void 0:K.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"})]}),((B=a.approval_status)==null?void 0:B.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"})]}),y.rolePermissions.some(N=>N.permission_id===22)?((V=a.approval_status)==null?void 0:V.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Xt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:_.length>0?_[a.approved_by-1].firstname+" "+_[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:P})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(Ja,{onChange:N=>x("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:M})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(Ja,{onChange:N=>x("date_received",N),value:c,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Fn,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:o})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:n?"green":null,disabled:!n,onClick:u,children:r?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},qx=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:n,selectedTransfer:r,setSelectedTransfer:l,selectedProduct:i,setSelectedProduct:d}=gt();pe();const c=s.filter(m=>m.transfer_id===r.id),u=()=>{t({},"add")},o=[{id:"select",header:({table:m})=>e.jsx("input",{type:"checkbox",checked:m.getIsAllPageRowsSelected(),onChange:x=>m.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:m})=>e.jsx("input",{type:"checkbox",checked:m.getIsSelected(),onChange:x=>m.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{id:"product_name",sortingFn:"text",enableSorting:!0,header:({column:m})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>m.toggleSorting(m.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["PRODUCT NAME ",m.getIsSorted()==="asc"?e.jsx(ee,{}):m.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:m})=>e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:m.original.product.name})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES COUNT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.bundles_count})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES UNIT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.bundles_unit})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY PER BUNDLE"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.quantity_per_bundle})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"text-center",children:"UNIT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.unit})},{accessorKey:"total_quantity",header:()=>e.jsx("div",{className:"text-center",children:"TOTAL QUANTITY"}),cell:({row:m})=>e.jsxs("div",{className:"text-center",children:[m.original.total_quantity," ",m.original.unit]})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:m})=>(m.original,r.transfer_status!="arrived"&&r.approval_status!="rejected"&&e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:e.jsx(D,{fill:"yellow",textColor:"black",children:"Edit Product"})}))}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:c,columns:o,filterWhat:"product_name",dataType:"Transfer Products",openModal:r.transfer_status!="arrived"&&r.approval_status!="rejected"?u:void 0,isLoading:n})})},Ux=({onClose:t})=>{const{product:a,allProducts:s,allInventoryProducts:n,filteredProductsSrc:r,bundlesLimit:l,quantityLimit:i,damagedCount:d,isChanged:c,isSubmitting:u,error:o,success:m,handleSubmit:x,handleChange:f,handleChangeSelect:j}=yo();pe();const v=a.capital_price?a.capital_price:0,_=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(v);return m&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:y=>{y.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Product ID"}),e.jsx(ne,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(ne,{name:"created_by",placeholder:"User ID",value:a.transfer_id,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Product to transfer:"}),e.jsxs(ce,{onValueChange:y=>j("product_id",Number(y.split("-")[0]),Number(y.split("-")[1])),required:!0,name:"product_id",children:[e.jsx(oe,{name:"product_id",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose product..."})}),e.jsx(ue,{className:"bg-white font-medium",children:r.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):r.map((y,p)=>e.jsx(U,{value:y.product.id?y.product.id.toString()+"-"+p.toString():"",className:"text-sm font-medium text-slate-700",children:y.product.name},p))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Capital Price:"}),e.jsx(ne,{name:"capital_price",type:"string",value:_,onChange:f,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES COUNT"}),e.jsx(ne,{name:"bundles_count",type:"number",value:a.bundles_count||"",placeholder:`Available stocks: ${l}`,max:l,onChange:f,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES UNIT"}),e.jsx(ne,{name:"bundles_unit",type:"string",value:a.bundles_unit||"",placeholder:"box, bundle, etc.",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"QUANTITY PER BUNDLE"}),e.jsx(ne,{name:"quantity_per_bundle",type:"number",value:a.quantity_per_bundle||"",placeholder:"Quantity per bundle",onChange:f,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"UNIT"}),e.jsx(ne,{name:"unit",type:"string",value:a.unit||"",placeholder:"box, pieces, etc.",disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"TOTAL QUANTITY"}),e.jsx(ne,{name:"total_quantity",type:"string",value:a.total_quantity&&a.unit?a.total_quantity.toString()+" "+a.unit.toString():"",placeholder:`Available stocks: ${i}`,onChange:f,disabled:!0,readOnly:!0})]}),a.total_quantity!=0&&d!=0&&a.total_quantity==i&&e.jsxs("div",{className:"grid content-center group",children:[e.jsx(Kn,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsxs("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-2 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:["Some damaged goods (",d," ",a.unit,") are included in the transfer."]})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:c?"green":null,disabled:!c,onClick:x,children:u?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[m&&e.jsx("div",{className:"font-bold text-green-700",children:m}),o&&e.jsx("div",{className:"font-bold text-red-700",children:o}),u?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Vx=({onClose:t})=>{const{transfers:a,transferProducts:s,isFetching:n,selectedTransfer:r,setSelectedTransfer:l}=gt(),{isOpen:i,openModal:d,closeModal:c}=Ze(),[u,o]=h.useState("");pe(),s.filter(x=>x.transfer_id===r.id);const m=(x,f)=>{d(),o(f)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(qx,{openModal:m})}),e.jsx(nt,{title:u==="edit"?"Edit Transfer Product":"Add Transfer Product",isOpen:i,onClose:c,children:e.jsx(e.Fragment,{children:u==="add"&&e.jsx(Ux,{onClose:c})})})]})},qh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Transfer",children:e.jsxs(hl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(bo,{openModal:l})})}),e.jsx(nt,{title:n==="details"?"Transfer Details":n==="edit"?"Edit Transfer":n==="add"?"Add Transfer":"Transfer Products",isOpen:t,onClose:s,closeOnOverlayClick:n==="details",children:e.jsxs(e.Fragment,{children:[n==="details"&&e.jsx(No,{onClose:s}),n==="edit"&&e.jsx(zx,{onClose:s}),n==="add"&&e.jsx(Rx,{onClose:s}),n==="products"&&e.jsx(Vx,{onClose:s})]})})]})})})},Kx=[{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Dashboard",icon:e.jsx(Fc,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/dashbard"},{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Add Order",icon:e.jsx(fl,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/pos/add-order"},{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Add Product",icon:e.jsx(Lc,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/pos/add-product"}],$x=({item:t})=>t.navbarProps&&t.path?e.jsx(e.Fragment,{children:e.jsx(En,{children:e.jsxs(In,{children:[e.jsx(Ln,{asChild:!0,children:e.jsx(nn,{to:t.path,className:`flex w-full cursor-pointer flex-row justify-center  ${location.pathname===t.path?"bg-primary-background hover:bg-white":"hover:bg-white/5"}`,children:e.jsx("div",{className:"item-center flex justify-center gap-5 p-4",children:t.navbarProps.icon?e.jsx("div",{className:"flex items-center",children:t.navbarProps.icon}):null})})}),location.pathname===t.path?"":e.jsx(e.Fragment,{children:e.jsx(Mn,{align:"center",className:"bg-pos-primary-background",side:"right",sideOffset:0,children:e.jsx("span",{className:"p-2 text-white",children:t.navbarProps.displayText})})})]})})}):null,Hx=()=>{const{logout:t}=pe();return e.jsx(En,{children:e.jsxs(In,{children:[e.jsx(Ln,{asChild:!0,children:e.jsx("div",{onClick:()=>t(),className:"flex w-full cursor-pointer flex-row justify-center p-4 hover:bg-white/5",children:e.jsx(dc,{size:40,className:"text-[#CCCCCC]"})})}),e.jsx(Mn,{align:"center",className:"bg-pos-primary-background",side:"right",sideOffset:0,children:e.jsx("span",{className:"p-2 text-white",children:"Log out"})})]})})},Bx=({})=>e.jsx(e.Fragment,{children:e.jsxs("nav",{id:"navbar",className:"bg-pos-primary-background flex h-screen min-w-[52px] max-w-[80px] flex-col",children:[e.jsx("div",{children:e.jsxs("ul",{children:[e.jsx("div",{className:"flex justify-center p-3",children:e.jsx("img",{src:uc,alt:"RoyalGlassSupply-Logo",className:"h-11 w-11 rounded-full bg-white p-1"})}),Kx.map((t,a)=>t.navbarProps?e.jsx($x,{item:t},a):null)]})}),e.jsx("div",{className:"mt-auto",children:e.jsx(Hx,{})})]})});function Yx({columns:t,data:a}){var n;const s=Dc({data:a,columns:t,getCoreRowModel:Oc(),defaultColumn:{size:200,minSize:50,maxSize:500}});return e.jsx("div",{className:"rounded-md border",children:e.jsxs(pl,{children:[e.jsx(gl,{children:s.getHeaderGroups().map(r=>e.jsx(fs,{children:r.headers.map(l=>e.jsx(vl,{style:{width:l.index===0?250:500},children:l.isPlaceholder?null:vr(l.column.columnDef.header,l.getContext())},l.id))},r.id))}),e.jsx(jl,{children:((n=s.getRowModel().rows)==null?void 0:n.length)&&s.getRowModel().rows.map(r=>e.jsx(fs,{children:r.getVisibleCells().map(l=>e.jsx(tt,{children:vr(l.column.columnDef.cell,l.getContext())},l.id))},r.id))})]})})}const Qx=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e.jsx(Rc,{width:150,height:150,color:"#888888",strokeWidth:-1}),e.jsx("span",{className:"max-w-[300px] text-center text-[#888]",children:"Start entering products / product code / serial number / brand"})]})}),Zx=({})=>{const{invoiceItemsQueue:t,quantityHandler:a,formatCurrency:s,handleInvoiceItemsChange:n,handleRemoveInvoiceItem:r}=st(),{data:l}=Wn(),{data:i}=es(),d=[{id:"orderItem",enableResizing:!1,header:()=>e.jsx("div",{className:"flex justify-center",children:"Item #"}),cell:({row:c})=>e.jsx("div",{className:"flex justify-center",children:c.index+1}),size:250},{accessorKey:"name",header:()=>e.jsx("div",{className:"justify-center",children:"Product Name"}),cell:({row:c})=>e.jsx("div",{className:"flex ",children:c.original.product_id.name})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"flex justify-center",children:"Quantity"}),cell:({row:c})=>{const u=c.index,o=l.find(m=>m.product.id===c.original.product_id.id);return e.jsx("div",{className:"flex justify-center ",children:e.jsxs("div",{className:"flex flex-row border drop-shadow-sm",children:[e.jsx(me,{className:"rounded-sm bg-red-300 hover:bg-red-500 disabled:opacity-100",onClick:()=>{a(u,c.original.quantity-1,(o==null?void 0:o.remaining_stocks_count)??0)},disabled:c.original.quantity<=1,children:e.jsx("span",{children:"-"})}),e.jsx(L,{id:"quantity",className:"w-20 rounded-none text-center drop-shadow-none",type:"number",value:c.original.quantity||"",onChange:m=>{a(u,Number(m.target.value),o?o.remaining_stocks_count??0:0)},disabled:!(o!=null&&o.remaining_stocks_count)}),e.jsx(me,{className:"rounded-sm bg-slate-500 hover:bg-slate-700 disabled:bg-slate-200",onClick:()=>{a(u,c.original.quantity+1,(o==null?void 0:o.remaining_stocks_count)??0)},disabled:c.original.quantity>=((o==null?void 0:o.remaining_stocks_count)??0),children:e.jsx("span",{children:"+"})})]})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center",children:"Product Price"}),cell:({row:c})=>{const u=i.find(o=>o.product.id===c.original.product_id.id);return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:s(c.original.product_price)}),u!=null&&u.sale_discount?e.jsxs("span",{className:"text-sm font-light",children:["(",s((u==null?void 0:u.sale_discount)??0),")"]}):null]})}},{accessorKey:"item_discount",header:()=>e.jsx("div",{className:"justify-center",children:"Item Discount"}),cell:({row:c})=>e.jsx("div",{children:e.jsx(L,{id:"item_discount",value:c.original.item_discount,type:"number",onChange:u=>{n(c.index,"item_discount",Number(u.target.value))}})},c.index)},{id:"total_price",accessorKey:"total_price",header:()=>e.jsx("div",{className:"justify-center",children:"Total"}),cell:({row:c})=>e.jsx("div",{className:"",children:e.jsx("span",{children:s(c.original.total_price)})}),size:250},{id:"actions",cell:({row:c})=>{const u=c.index;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsx(me,{className:"bg-red-500 hover:bg-red-700",onClick:()=>{r(u)},children:e.jsx(zc,{color:"#FFF"})})})}}];return e.jsx(e.Fragment,{children:t.length===0?e.jsx(Qx,{}):e.jsx(Yx,{data:t,columns:d})})},Gx=()=>{const t=He(),[a,s]=h.useState({}),n=(d,c)=>{s(u=>({...u,[d]:c}))},r=async d=>(console.log("Submitting: ",d),await i(d)),l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["customers"]}),s({})},onError:d=>{console.error("Error adding customer:",d.message)}},{mutateAsync:i}=re({mutationKey:["addCustomer"],mutationFn:mc,...l});return{value:a,setValue:s,handleChange:n,handleSubmit:r}},Xx=({onClose:t})=>{const{value:a,setValue:s,handleChange:n,handleSubmit:r}=Gx(),{setSelectedCustomer:l}=ws();h.useEffect(()=>{s(o=>({...o}))},[]);const[i,d]=h.useState(!1),[c,u]=h.useState(null);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async o=>{d(!i),o.preventDefault();const m=await r(a);(m==null?void 0:m.status)===201?(d(!i),l(m.data.data),t(),console.log(m.data)):(d(!i),u("Failed to add inventory"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2 ",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"firstname",children:"First Name"}),e.jsx(L,{id:"firstname",name:"firstname",required:!0,type:"text",placeholder:"First Name",onChange:o=>n("firstname",o.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"lastname",children:"Last Name"}),e.jsx(L,{id:"lastname",name:"lastname",required:!0,type:"text",placeholder:"Last Name",onChange:o=>n("lastname",o.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(Ec,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(L,{id:"address",name:"address",type:"text",placeholder:"Address",defaultValue:"",className:"pl-10",onChange:o=>n("address",o.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(C,{className:"text-sm font-semibold uppercase",htmlFor:"contact_no",children:"Contact Number"}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Mc,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(L,{required:!0,id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",defaultValue:"",max:11,maxLength:11,onChange:o=>n("contact_no",o.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4",children:[e.jsx(D,{onClick:()=>t(),type:"reset",className:'hover:text-white"  py-2 text-sm font-bold text-slate-700',children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:i||Object.keys(a).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Submitting...":"Add Customer"})]}),c&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:c})})]})})})},Jx=({})=>{const{data:t,isLoading:a,selectedCustomer:s,setSelectedCustomer:n,openSearchCustomer:r,setOpenSearchCustomer:l}=ws(),[i,d]=h.useState(""),{invoice:c,setInvoice:u}=st();h.useEffect(()=>{s&&d("")},[s,r]);const{openModal:o,isOpen:m,closeModal:x}=Ze();return e.jsxs(e.Fragment,{children:[e.jsxs(xc,{open:r,onOpenChange:l,children:[e.jsx(Tt,{value:i,onValueChange:d,placeholder:a?"Loading Customers":s.id?`${s.firstname} ${s.lastname}`:"Enter Customer Name"}),e.jsx(yl,{children:i?e.jsxs(e.Fragment,{children:[e.jsxs(ja,{className:"flex flex-col gap-2 py-4 pb-1 text-center text-sm",children:[e.jsx("span",{className:"font-bold uppercase",children:"Customer Not Found"}),e.jsxs(me,{className:"flex flex-row gap-4",onClick:()=>{o(),l(!1)},children:[e.jsx(qc,{color:"#fff"}),e.jsx("span",{className:"text-white",children:"Add Customer"})]})]}),t.map((f,j)=>e.jsx(mt,{className:"",value:f.id+""+f.firstname+" "+f.lastname,onSelect:()=>{n(f),l(!1),d(""),u({...c,customer_id:f.id})},children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:f.firstname}),e.jsx("span",{children:f.lastname})]})},j))]}):null})]}),e.jsx(nt,{isOpen:m,onClose:x,title:"Add Customer",children:e.jsx(Xx,{onClose:x})})]})},eh=({})=>{const{selectedCustomer:t,setOpenSearchCustomer:a}=ws();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-1 rounded-md bg-white p-3",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(C,{className:"text-lg font-bold uppercase text-slate-900",children:"Customer Info"}),e.jsx(me,{onClick:()=>a(!0),size:"icon",children:e.jsx(hc,{size:18})})]}),Object.keys(t).length===0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(C,{className:"text-slate-900",children:"Full Name: "}),e.jsx("span",{className:"font-medium uppercase text-slate-950",children:t.firstname+" "+t.lastname})]}),e.jsx("div",{children:e.jsxs(C,{className:"text-slate-900",children:["Address: ",t.address]})}),e.jsx("div",{children:e.jsxs(C,{className:"text-slate-900",children:["Contact Number: ",t.contact_no]})})]})})]})})},th=()=>{const{formatCurrency:t,invoiceItemsQueue:a}=st(),s=a.reduce((n,r)=>n+r.total_price,0);return e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs(ht,{children:[e.jsx(ft,{asChild:!0,children:e.jsxs(me,{variant:"outline",className:"justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Wc,{}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:a.length})})]})}),e.jsx(pt,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:a.map((n,r)=>{const l=n.total_price?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.total_price):"";return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("div",{className:"flex w-5 flex-row justify-between",children:[e.jsx("span",{className:"text-sm",children:n.quantity}),e.jsx("span",{className:"text-sm",children:"x"})]}),e.jsx("span",{className:"text-sm",children:n.product_id.name})]}),e.jsx("span",{className:"text-sm",children:l})]},r)})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Amount:"}),e.jsx("span",{className:"border-t border-t-slate-800 text-sm",children:s?t(s):"0.00"})]})]})})]})})},ah=()=>{const{invoice:t,invoiceItemsQueue:a}=st();function s(){return t.paid_amount===0?0:(t.paid_amount??0)-a.reduce((n,r)=>n+r.total_price,0)}return e.jsx(e.Fragment,{children:e.jsxs(me,{variant:"outline",className:"justify-between hover:cursor-default hover:bg-white",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Ac,{}),e.jsx("span",{children:"Change"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:_s(Number(s()))})})]})})},sh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=st(),n=h.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(me,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{n.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(kl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Paid Amount"})]}),e.jsx(L,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:n,id:"paid_amount",name:"paid_amount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:r=>{let l=r.target.value?parseFloat(r.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),r.target.value=`${_s(l)}`,a("paid_amount",l)},onChange:r=>{a("paid_amount",Number(r.target.value)),a("change_amount",Number(Number(Number(r.target.value)-s.reduce((l,i)=>l+i.total_price,0)).toFixed(2))),console.log("change:",t.change_amount)},onFocus:r=>{r.target.value=r.target.value.replace(/[^\d.]/g,"")}})]})})},nh=()=>{const{invoiceItemsQueue:t,invoice:a}=st(),s=t.reduce((n,r)=>n+r.total_price,0)-(a.total_discount??0);return e.jsx(e.Fragment,{children:e.jsxs(me,{variant:"outline",className:"justify-between hover:cursor-default",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(fl,{}),e.jsx("span",{children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:s?_s(s):"0.00"})})]})})},rh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=st(),n=h.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(me,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{n.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(kl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Discount Amount"})]}),e.jsx(L,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:n,id:"total_discount",name:"total_discount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:r=>{let l=r.target.value?parseFloat(r.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),r.target.value=`${_s(l)}`,a("total_discount",l)},onChange:r=>{a("total_discount",Number(r.target.value)),a("change_amount",Number(r.target.value)-s.reduce((l,i)=>l+i.total_price,0)),a("status",Number(r.target.value)>0?"pending":"approved"),console.log("change:",t.change_amount)},onFocus:r=>{r.target.value=r.target.value.replace(/[^\d.]/g,"")}})]})})},lh=()=>{const{handleChange:t,invoice:a}=st();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(C,{htmlFor:"payment_method",className:"text-lg uppercase text-white",children:"Payment Type"}),e.jsx(bs,{id:"type",defaultValue:"payment",onValueChange:s=>{t("type",s)},children:e.jsxs(Ns,{className:"flex flex-row gap-1",children:[e.jsx(ea,{value:"payment",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Payment"}),e.jsx(ea,{value:"exit",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Exit"})]})}),a.type==="payment"&&e.jsx(e.Fragment,{children:e.jsxs(ce,{onValueChange:s=>{t("payment_method",s)},children:[e.jsx(oe,{className:"focus:ring-0 focus:ring-offset-0",children:e.jsx(de,{placeholder:"Select a payment method"})}),e.jsx(ue,{children:e.jsxs(fc,{children:[e.jsx(U,{value:"cash",children:"Cash"}),e.jsx(U,{value:"purchase_order",children:"Purchase Order"}),e.jsx(U,{value:"check",children:"Check"}),e.jsx(U,{value:"voucher",children:"Voucher"}),e.jsx(U,{value:"e-wallet",children:"E-Wallet"})]})})]})})]}),e.jsx(En,{children:e.jsxs(In,{children:[e.jsx(Ln,{asChild:!0,children:e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Pc,{color:"black",className:"absolute top-0 translate-x-4 translate-y-2",size:24}),e.jsx(L,{id:"reference_no",name:"reference_no",type:"text",placeholder:"Reference Number",onChange:s=>{t("reference_no",Number(s.target.value))},disabled:a.payment_method!=="check"&&a.payment_method!=="voucher"&&a.payment_method!=="e-wallet"&&a.payment_method!=="purchase_order",className:"pl-[3rem] text-base font-medium disabled:opacity-100"})]})}),e.jsx(Mn,{align:"center",className:"bg-pos-primary-background",side:"left",sideOffset:2,children:e.jsx("span",{className:"p-2 text-white",children:"Reference Number"})})]})})]})},ih=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(lh,{}),e.jsx(nh,{}),e.jsx(rh,{}),e.jsx(sh,{}),e.jsx(ah,{})]}),ch=({})=>{const{auth:t}=pe(),{setFilter:a}=bl(),{invoiceItemsQueue:s,invoice:n}=st(),{value:r,addInvoiceMutation:l}=Dl(),{selectedCustomer:i}=ws();async function d(){console.log("Invoice:",n),console.log("InvoiceItems:",s);let c=n;c.invoice_items=s.map(u=>({...u,product_id:u.product_id.id})),await l(c)}return e.jsxs("div",{className:"bg-pos-primary-background flex w-full max-w-[350px] flex-col gap-2 p-4",children:[t.role==="admin"?e.jsx(e.Fragment,{children:e.jsx(bs,{defaultValue:"CDO",onValueChange:c=>{c==="ILI"&&a({approval_status:"approved",warehouse_id:2}),c==="CDO"&&a({approval_status:"approved",warehouse_id:1})},children:e.jsxs(Ns,{className:"flex flex-row",children:[e.jsx(ea,{value:"CDO",className:"data-[state=active]:bg-primary w-full rounded-md text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"CDO"}),e.jsx(ea,{value:"ILI",className:"data-[state=active]:bg-primary w-full rounded-md text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"ILI"})]})})}):null,e.jsx(Jx,{}),e.jsx(eh,{}),e.jsx(th,{}),e.jsx(ih,{}),e.jsx(me,{onClick:()=>{console.log(s)},children:"TEST INVOICE ITEMS"}),e.jsx(me,{onClick:()=>{el.info("Coming Soon!")},children:"Print Invoice"}),e.jsx(me,{onClick:()=>{d()},disabled:Object.keys(i).length===0||s.length===0||n.paid_amount===0,children:"Submit"})]})},oh=({})=>{const[t,a]=h.useState(""),{isLoading:s,productListing:n}=bl(),{invoiceItemsQueue:r,setInvoiceItemsQueue:l}=st();return e.jsx("div",{className:"relative z-20 pb-10",children:e.jsx("div",{className:"absolute box-content flex w-full ",children:e.jsxs(Jt,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(Tt,{value:t,onValueChange:a,placeholder:s?"Loading Products":"Enter Serial Number / Brand / Product Name",disabled:n.length===0}),e.jsx(yl,{className:"",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ja,{children:"Product Not Found"}),n.map((i,d)=>e.jsx(mt,{className:"",value:i.type==="retail"?`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Retail)`:`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Wholesale)`,onSelect:()=>{const c=r.findIndex(u=>u.product_price_id===i.id);if(c!==-1){const u=[...r];u[c].quantity++,l(u)}else l([...r,{unit:"",discount_approval_status:null,approved_by:null,item_discount:0,invoice_id:null,product_id:{id:i.product.id,name:i.product.name},product_price_id:i.id,product_price:i.cost,total_price:i.price,quantity:1,source_inventory:i.warehouse.id}]);a("")},children:e.jsxs("div",{className:"flex flex-1 flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.type==="retail"?e.jsx(Cl,{strokeWidth:1}):e.jsx(Pn,{strokeWidth:1}),e.jsx("span",{children:i.product.name}),e.jsx("span",{className:"text-xs text-gray-600 ",children:`(${i.type} ${i.warehouse.code}) ${i.stocks_quantity}`})]}),e.jsx("div",{children:e.jsxs("span",{children:[" ",i.price]})})]})},d))]}):null})]})})})},Uh=({})=>e.jsx(e.Fragment,{children:e.jsx(Nl,{children:e.jsx(tl,{children:e.jsx(ol,{children:e.jsx(pc,{children:e.jsx(gc,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Bx,{}),e.jsxs("div",{id:"main",className:"flex w-screen flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx(oh,{}),e.jsx(Zx,{})]}),e.jsx(ch,{})]})]})})})})})})}),dh=({openModal:t})=>{const{transactions:a,isFetching:s,progress:n}=vc(),r=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"Product ID"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.id})},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-center",children:"Price"}),cell:({row:l})=>{const i=parseFloat(l.getValue("amount")),d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"product_name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["PRODUCT NAME ",l.getIsSorted()==="asc"?e.jsx(ee,{}):l.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.product_name})},{accessorKey:"dimensions",header:()=>e.jsx("div",{className:"text-center",children:"DIMENSIONS"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.dimensions})},{accessorKey:"serial",header:()=>e.jsx("div",{className:"text-center",children:"SERIAL"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.serial})},{accessorKey:"sku",header:()=>e.jsx("div",{className:"text-center",children:"SKU"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.sku})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"INVENTORY STATUS"}),cell:({row:l})=>{const i=l.getValue("status"),d=i==="LOW"?"bg-red-500":i==="MEDIUM"?"bg-amber-500":"bg-lime-600";return e.jsx("div",{className:`flex w-full flex-1 flex-col text-center ${d}`,children:l.getValue("status")})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-center",children:"ORDER TYPE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.quantity})}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:r,filterWhat:"serial",dataType:"Transaction",openModal:()=>t,isLoading:s})})},Vh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Transaction",children:e.jsx(jc,{children:e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(dh,{openModal:l})})})})})})},uh=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:n,progress:r,setSelectedTransfer:l}=gt(),i=s.map(f=>({transfer_id:f.transfer_id})),c=a.filter(f=>{if(i.some(j=>j.transfer_id===f.id))return f}).filter(f=>{if(f.approval_status==="pending")return f}),{auth:u}=pe(),o=f=>{l(f),t(f,"details")},m=f=>{l(f),t(f,"edit")},x=[{id:"select",header:({table:f})=>e.jsx("input",{type:"checkbox",checked:f.getIsAllPageRowsSelected(),onChange:j=>f.toggleAllPageRowsSelected(!!j.target.checked),"aria-label":"Select all"}),cell:({row:f})=>e.jsx("input",{type:"checkbox",checked:f.getIsSelected(),onChange:j=>f.toggleSelected(!!j.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",sortingFn:"basic",enableSorting:!0,header:({column:f})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>f.toggleSorting(f.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER ID ",f.getIsSorted()==="asc"?e.jsx(ee,{}):f.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:f})=>e.jsx("div",{className:"text-center",children:f.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:f})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>f.toggleSorting(f.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",f.getIsSorted()==="asc"?e.jsx(ee,{}):f.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:f})=>e.jsx("div",{className:"text-center",children:f.original.code?f.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:f})=>{const j=f.original.source,v=f.original.destination;return e.jsxs("div",{className:"text-center",children:[j.code,"-",v.code]})}},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:f})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>f.toggleSorting(f.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",f.getIsSorted()==="asc"?e.jsx(ee,{}):f.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:f})=>e.jsx("div",{className:"text-center",children:f.original.transfer_status?f.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:f})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>f.toggleSorting(f.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",f.getIsSorted()==="asc"?e.jsx(ee,{}):f.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:f})=>{const j=f.getValue("transfer_schedule");if(j.toString()!=="0000-00-00 00:00:00"){const v={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},_=new Date(j).toLocaleDateString([],v);return e.jsx("div",{className:"text-center",children:_})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:f})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>f.toggleSorting(f.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",f.getIsSorted()==="asc"?e.jsx(ee,{}):f.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:f})=>{const j=f.getValue("date_received");if(j){const v={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},_=new Date(j).toLocaleDateString([],v);return e.jsx("div",{className:"text-center",children:_})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:f})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:f.original.approval_status.toLowerCase()==="approved"?e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"}):f.original.approval_status.toLowerCase()==="rejected"?e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Xt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"approved_by",header:()=>e.jsx("div",{className:"text-center",children:"APPROVED / REJECTED BY"}),cell:({row:f})=>{const j=f.getValue("approved_by");if(j){const v=j.firstname+" "+j.lastname;return e.jsx("div",{id:j.id,className:"text-center",children:v})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:f})=>{var v;const j=f.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>o(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),((v=u.role)==null?void 0:v.toLowerCase())!="encoder"&&e.jsxs(Oe,{onClick:()=>m(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:j.transfer_status!="arrived"&&j.approval_status!="rejected"?e.jsx(ta,{size:16,strokeWidth:2.25}):e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:c,columns:x,filterWhat:"approval_status",dataType:"",openModal:void 0,isLoading:n})})},mh=({onClose:t})=>{const{selectedTransfer:a}=gt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Ke(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Ke(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Ke(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})},xh=({onClose:t})=>{var E,I,S,A,F,z,K,B,V;const{transfer:a,lastId:s,isChanged:n,isSubmitting:r,error:l,success:i,dateDisplay:d,dateDisplayArrived:c,handleSubmit:u,handleChange:o,handleChangeSelect:m,handleChangeDateTime:x}=Al(),{selectedTransfer:f,transferProducts:j}=gt(),{warehouses:v}=sa(),{users:_}=xl(),{auth:y}=pe(),p=e.jsxs(e.Fragment,{children:[e.jsx(ce,{onValueChange:N=>m("approval_status",N),name:"approval_status",value:a.approval_status||"",children:e.jsxs(oe,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(U,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(U,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(N=>N.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(Kn,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),b=e.jsxs(ce,{onValueChange:N=>m("source",Number(N)),name:"source",children:[e.jsx(oe,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=v[a.source-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(I=v[a.source-1])==null?void 0:I.code," ",""," ",(S=v[a.source-1])==null?void 0:S.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((N,Y)=>e.jsxs(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.source&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},Y))})]}),T=e.jsxs(ce,{onValueChange:N=>m("destination",Number(N)),name:"destination",children:[e.jsx(oe,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(A=v[a.destination-1])==null?void 0:A.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=v[a.destination-1])==null?void 0:F.code," ",""," ",(z=v[a.destination-1])==null?void 0:z.location]})]})})}),e.jsx(ue,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((N,Y)=>e.jsxs(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.destination&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),P=e.jsx(ce,{onValueChange:N=>m("transfer_status",N),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(oe,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(de,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(U,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(U,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),M=e.jsxs(ce,{onValueChange:N=>m("received_by",Number(N)),name:"received_by",children:[e.jsx(oe,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:_.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?_[Number(a.received_by)-1].firstname+" "+_[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ue,{className:"bg-white font-medium",children:_.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):_.map((N,Y)=>e.jsx(U,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.received_by&&"selected"}`,children:N.firstname+" "+N.lastname},Y))})]});return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),b]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),T]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:f.created_by.firstname+" "+f.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((K=a.approval_status)==null?void 0:K.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Gt,{size:20,strokeWidth:2,className:"text-green-600"})]}),((B=a.approval_status)==null?void 0:B.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Ea,{size:20,strokeWidth:2,className:"text-red-600"})]}),y.rolePermissions.some(N=>N.permission_id===22)?((V=a.approval_status)==null?void 0:V.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Xt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:_.length>0?_[a.approved_by-1].firstname+" "+_[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:P})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(Ja,{onChange:N=>x("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:M})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(Ja,{onChange:N=>x("date_received",N),value:c,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Fn,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:o})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(D,{type:"submit",fill:n?"green":null,disabled:!n,onClick:u,children:r?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(na,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(D,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Kh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Pending Transfer",children:e.jsxs(hl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(uh,{openModal:l})})}),e.jsx(nt,{title:n==="details"?"Transfer Details":"Edit Transfer",isOpen:t,onClose:s,closeOnOverlayClick:n==="details",children:e.jsxs(e.Fragment,{children:[n==="details"&&e.jsx(mh,{onClose:s}),n==="edit"&&e.jsx(xh,{onClose:s})]})})]})})})},hh=({openModal:t})=>{const{invoices:a,isFetching:s,users:n,userSales:r,setSelectedInvoice:l}=wl(),i=()=>{t({},"add")},d=u=>{l(u.invoices),t(u,"details")},c=[{id:"select",header:({table:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsAllPageRowsSelected(),onChange:o=>u.toggleAllPageRowsSelected(!!o.target.checked),"aria-label":"Select all"}),cell:({row:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsSelected(),onChange:o=>u.toggleSelected(!!o.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"ID"}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.id})},{accessorKey:"issued_by",sortingFn:"text",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{u.toggleSorting(u.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FULL NAME ",u.getIsSorted()==="asc"?e.jsx(ee,{}):u.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.invoices[0].issued_by.firstname+" "+u.original.invoices[0].issued_by.lastname})},{id:"total_sales",sortingFn:"basic",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{u.toggleSorting(u.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["NUMBER OF SALES ",u.getIsSorted()==="asc"?e.jsx(ee,{}):u.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.invoices.length})},{id:"amount_sales",sortingFn:"basic",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{u.toggleSorting(u.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TOTAL AMOUNT OF SALES ",u.getIsSorted()==="asc"?e.jsx(ee,{}):u.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:u})=>{const o=u.original.invoices.reduce((x,f)=>x+f.total_amount_due,0),m=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(o);return e.jsx("div",{className:"text-center",children:m})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:u})=>{const o=u.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>d(o),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:r,columns:c,filterWhat:"issued_by",dataType:"",openModal:i,isLoading:s})})},fh=({onClose:t,openModal:a})=>{const{selectedInvoice:s,isFetching:n}=wl(),r=()=>{a({},"add")},l=s[0];console.log(s);const i=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:c=>d.toggleAllPageRowsSelected(!!c.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:c=>d.toggleSelected(!!c.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"ID"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CODE ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.code})},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>{const c=d.getValue("created_at");if(c.toString()!=="0000-00-00 00:00:00"){const u={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},o=new Date(c).toLocaleDateString([],u);return e.jsx("div",{className:"text-center",children:o})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.customer.firstname+" "+d.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",d.getIsSorted()==="asc"?e.jsx(ee,{}):d.getIsSorted()==="desc"?e.jsx(te,{}):e.jsx(ae,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.type})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:d})=>{const c=d.original.subtotal,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:d})=>{const c=d.original.total_discount,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:d})=>{const c=d.original.total_tax,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:d})=>{const c=d.original.delivery_charge,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:d})=>{const c=d.original.total_amount_due,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:d})=>{const c=d.original.paid_amount,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:d})=>{const c=d.original.change_amount,u=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:u})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:d})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-6xl flex-col gap-4",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Issuer: ",l.issued_by.firstname+" "+l.issued_by.lastname]}),e.jsx(Qe,{data:s,columns:i,filterWhat:"or_no",dataType:"",openModal:r,isLoading:n})]})})},$h=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[n,r]=h.useState(""),l=(i,d)=>{a(),r(d)};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"User Sales",children:e.jsxs(yc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(hh,{openModal:l})})}),e.jsx(nt,{isOpen:t,onClose:s,title:n==="details"?"Invoice Details":"",closeOnOverlayClick:n==="details",children:e.jsx(e.Fragment,{children:n==="details"&&e.jsx(fh,{onClose:s})})})]})})})},ph=()=>{const{roles:t,roleSelect:a,permissions:s,allPermissions:n,permissionChange:r,roleId:l,isChanged:i,isSubmitting:d,error:c,success:u,handleChange:o,handleChangeSelect:m,handleSubmit:x}=Zc(),{auth:f}=pe(),j=n.filter(p=>Object.keys(p).some(b=>!p.title.includes("view".toLowerCase())&&p.title.includes("users".toLowerCase()))),v=n.filter(p=>Object.keys(p).some(b=>!p.title.includes("view".toLowerCase())&&!p.title.includes("transfer".toLowerCase())&&p.title.includes("product".toLowerCase())||p.title.includes("catalog".toLowerCase()))),_=n.filter(p=>Object.keys(p).some(b=>!p.title.includes("view".toLowerCase())&&p.title.includes("transfer".toLowerCase()))),y=n.filter(p=>Object.keys(p).some(b=>p.title.includes("view".toLowerCase())));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-full max-h-full w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:t?t.map(p=>p.title!=="super_admin"&&e.jsx(me,{variant:"ghost",className:`w-full justify-start capitalize text-slate-700 ${(a==null?void 0:a.title)===p.title&&"bg-slate-300/40"}`,onClick:()=>m("roles",p.title),children:p.title.split("_").join(" ")},p.id+p.title)):e.jsx("div",{className:"flex h-16 w-full items-center justify-center text-slate-500",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})})}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),(a==null?void 0:a.title)===f.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[u&&e.jsx("p",{className:"text-green-600",children:u}),c&&e.jsx("p",{className:"text-red-600",children:c})]}),i&&e.jsx(me,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!d,onClick:x,children:d?"Saving...":"Save changes"})]})]}),a?e.jsx(At,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${!a||d?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:`${!((a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin")&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:p.title.split("_").join(" ")}),e.jsx(Oa,{id:p.title,name:p.title,value:p.id,disabled:(a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(b=>b.permission_id===p.id),onCheckedChange:b=>o(b,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:v.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):v.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(Oa,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(b=>b.permission_id===p.id),onCheckedChange:b=>o(b,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:_.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):_.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(Oa,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(b=>b.permission_id===p.id),onCheckedChange:b=>o(b,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(J,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(C,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(Oa,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:r.some(b=>b.permission_id===p.id),onCheckedChange:b=>o(b,p.id)})]},p.id))})]})]})}):e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-slate-700/50",children:"Select a role to view and modify permissions"})})]})})},Hh=()=>e.jsx(e.Fragment,{children:e.jsx(at,{title:"Role Permissions",children:e.jsx(ll,{children:e.jsx("div",{className:"flex h-full max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ph,{})})})})})}),gh=({handleViewItems:t,handleViewDetails:a,handleEditInventory:s})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:l=>r.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:l=>r.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"code",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Code"," ",r.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",r.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"date_received",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Received"})},{accessorKey:"transfer_id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transer Id"}),cell:({row:r})=>e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:r.original.transfer_id?r.original.transfer_id:""})})},{accessorKey:"created_by",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created by"}),cell:({row:r})=>e.jsx("div",{className:"uppercase",children:e.jsxs("span",{className:"max-w-[25ch] truncate",children:[r.original.created_by.firstname," ",r.original.created_by.lastname]})})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"}),cell:({row:r})=>e.jsx("div",{children:e.jsx("p",{className:"max-w-[25ch] truncate",children:r.original.notes?r.original.notes:""})})},{id:"actions",cell:({row:r})=>{const l=r.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>{t(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pn,{size:16,strokeWidth:2})}),e.jsx("span",{children:"View items"})]}),e.jsxs(Oe,{onClick:()=>{a(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Oe,{onClick:()=>{s(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],vh=({openModal:t,filterWarehouse:a,setTotalInventories:s})=>{const[n,r]=h.useState([]),{data:l,isLoading:i,setSelectedInventory:d}=Rn(),c=zn();h.useEffect(()=>{r(a?l.filter(f=>f.warehouse.id===a):l),s(l.length)},[l,a]);const u=()=>{t({},"add")},o=f=>{d(f),t(f,"edit")},m=f=>{d(f),c(`/inventory/items/${f.id}`)},x=f=>{d(f),t(f,"view_details")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:gh({handleViewItems:m,handleViewDetails:x,handleEditInventory:o}),data:n,filterWhat:"code",dataType:"Inventory",openModal:u,isLoading:i})})},jh=({FormValue:t,handleChange:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(me,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx($n,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(qn,{mode:"single",initialFocus:!0,required:!0,onDayClick:s=>{const n=new Date(s),r=`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`;a("date_received",r)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:s=>a("notes",s.target.value)})]})]})}),yh=({FormValue:t,handleChange:a})=>{const{transfers:s,isFetching:n}=Un(),[r,l]=h.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(ht,{open:r,onOpenChange:l,children:[e.jsx(ft,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(me,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[t.transfer_id?(()=>{const i=s.find(d=>d.id===t.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:e.jsx("span",{children:i==null?void 0:i.code})})})():"Select a transfer item...",e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{children:[e.jsx(Tt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),n&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(At,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(kt,{children:s.map(i=>e.jsxs(mt,{value:i.id.toString()+i.code,onSelect:()=>{a("transfer_id",i.id),l(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:i.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[i.approval_status,"  ",i.source.code,"->",i.destination.code,"  ",i.transfer_status]})]},i.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(me,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx($n,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(qn,{mode:"single",initialFocus:!0,required:!0,onDayClick:i=>{const d=new Date(i),c=`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}-${d.getDate().toString().padStart(2,"0")}`;a("date_received",c)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:i=>a("notes",i.target.value)})]})]})})},Ci=(t,a,s)=>{const n=s||new Date,r=("0"+(n.getMonth()+1)).slice(-2)+("0"+n.getDate()).slice(-2)+n.getFullYear(),l=t.slice(0,3),i=a.toString().padStart(4,"0");return`${l}-${r}-${i}`.toUpperCase()},bh=({onClose:t,totalInventories:a,warehouses:s})=>{const{auth:n}=pe(),{value:r,setValue:l,handleChange:i,handleSubmit:d}=Tl(),[c,u]=h.useState(!1),[o,m]=h.useState(null);h.useEffect(()=>{i("created_by",n.user.id),i("type","supplier")},[]);const[x,f]=h.useState();return h.useEffect(()=>{if(x){const j=Ci(x,a+1);i("code",j)}},[x]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:async j=>{if(j.preventDefault(),r.date_received===void 0)m("Please select a date for date received.");else{u(!c);const v=await d({action:"add",data:r});(v==null?void 0:v.status)===201?(u(!c),t()):(u(!c),m("Failed to add inventory"))}},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(L,{id:"code",name:"code",type:"text",value:r.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:j=>{var v;i("warehouse_id",Number(j)),f((v=s.find(_=>_.id===Number(j)))==null?void 0:v.code)},required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:s.map((j,v)=>e.jsxs(U,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},v))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(bs,{id:"type",defaultValue:r.type?r.type:"supplier",className:"w-full space-y-4",onValueChange:j=>{const{date_received:v,transfer_id:_,...y}=r;l(y),i("type",j)},children:[e.jsxs(Ns,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(ea,{value:"supplier",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Supplier"}),e.jsx(ea,{value:"transfer",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Transfer"})]}),e.jsx(hs,{value:"supplier",children:e.jsx(jh,{FormValue:r,handleChange:i})}),e.jsx(hs,{value:"transfer",children:e.jsx(yh,{FormValue:r,handleChange:i})})]})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:c||Object.keys(r).length<=2||!x,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Submitting...":"Add inventory"})]})}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:o})})]})})},Nh=({onClose:t})=>{const{selectedInventory:a}=Rn(),{transfers:s,isFetching:n}=Un(),r=s.find(l=>l.id===a.transfer_id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:a.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"ID"}),e.jsx("p",{className:"text-sm",children:a.id})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs("p",{className:"text-sm",children:[a.warehouse.name," (",a.warehouse.code,")"]})]}),a.type==="transfer"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm capitalize",children:n?"Loading...":r==null?void 0:r.code})]}),e.jsxs("div",{className:`flex flex-col justify-center gap-1 ${a.type==="supplier"?"col-span-7":"col-span-3"}`,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("p",{className:"text-sm capitalize",children:a.date_received?a.date_received:""})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx("p",{className:"text-sm capitalize",children:a.notes?a.notes:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsxs("p",{className:"text-sm capitalize",children:[a.created_by.firstname," ",a.created_by.lastname]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm capitalize",children:Ke(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm capitalize",children:a.updated_at?Ke(a.updated_at):""})]})]})]})})},wh=({onClose:t,warehouses:a})=>{const{selectedInventory:s}=Rn(),{value:n,handleChange:r,handleSubmit:l}=Tl(),{transfers:i,isFetching:d}=Un(),[c,u]=h.useState(!1),[o,m]=h.useState(!1),[x,f]=h.useState(null),j=y=>i.find(p=>y===p.id),[v,_]=h.useState();return h.useEffect(()=>{if(v){const y=Ci(v,s.id,new Date(s.created_at));r("code",y)}},[v]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async y=>{m(!o),y.preventDefault();const p=await l({action:"update",id:s.id,data:n});(p==null?void 0:p.status)===200?(m(!o),t()):(m(!o),f("Failed to update inventory item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(L,{id:"code",name:"code",type:"text",value:n.code||s.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ce,{onValueChange:y=>{var p;r("warehouse_id",Number(y)),_((p=a.find(b=>b.id===Number(y)))==null?void 0:p.code)},defaultValue:s.warehouse.id.toString(),required:!0,children:[e.jsx(oe,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(de,{placeholder:"Choose warehouse..."})}),e.jsx(ue,{className:"bg-white font-medium",children:a.map((y,p)=>e.jsxs(U,{value:y.id.toString(),className:"text-sm font-medium text-slate-700",children:[y.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+y.code+"  "+y.location})]},p))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ce,{defaultValue:s.type,onValueChange:y=>r("type",y),children:[e.jsx(oe,{name:"type",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm capitalize",children:e.jsx(de,{placeholder:"Choose type..."})}),e.jsxs(ue,{className:"bg-white font-medium",children:[e.jsx(U,{value:"supplier",className:"text-sm font-medium text-slate-700",children:"Supplier"}),e.jsx(U,{value:"transfer",className:"text-sm font-medium text-slate-700",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(ht,{children:[e.jsx(ft,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(me,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx($n,{size:18,strokeWidth:1.5}),n.date_received?n.date_received:s.date_received]})}),e.jsx(pt,{className:"w-auto p-0",children:e.jsx(qn,{mode:"single",initialFocus:!0,required:!0,month:n.date_received?new Date(n.date_received):new Date(s.date_received),onDayClick:y=>{const p=new Date(y),b=`${p.getFullYear()}-${(p.getMonth()+1).toString().padStart(2,"0")}-${p.getDate().toString().padStart(2,"0")}`;r("date_received",b)},selected:n.date_received?new Date(n.date_received):new Date(s.date_received)})})]})]}),(s.type==="transfer"||n.type==="transfer")&&e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(ht,{open:c,onOpenChange:u,children:[e.jsx(ft,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(me,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[i?n.transfer_id?(()=>{const y=j(n.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:y==null?void 0:y.code})})():s.transfer_id?(()=>{const y=j(s.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:y?y.code:"Loading..."})})():"Select inventory item...":"Loading...",e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{children:[e.jsx(Tt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(At,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(kt,{children:i.map(y=>e.jsxs(mt,{value:y.id.toString()+y.code,onSelect:()=>{r("transfer_id",y.id),u(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:y.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[y.approval_status,"  ",y.source.code,"->",y.destination.code,"  ",y.transfer_status]})]},y.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(L,{id:"notes",name:"notes",type:"text",defaultValue:n.notes?n.notes:s.notes?s.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:y=>r("notes",y.target.value)})]})]}),e.jsx("div",{className:"flex w-full flex-row pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(D,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:o||Object.keys(n).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Applying changes...":"Apply changes"})]})}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:x})})]})})})},Bh=()=>{const{warehouses:t}=sa(),[a,s]=h.useState(0),[n,r]=h.useState(0),{openModal:l,isOpen:i,closeModal:d}=Ze(),[c,u]=h.useState(""),o=(m,x)=>{u(x),l()};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Inventory",children:e.jsxs(bc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ce,{defaultValue:"0",onValueChange:m=>s(Number(m)),children:[e.jsx(oe,{className:"w-[300px] text-sm font-medium",children:e.jsx(de,{placeholder:"All"})}),e.jsxs(ue,{className:"text-sm font-medium capitalize",children:[e.jsx(U,{value:"0",children:"All"},"all"),t.map(m=>e.jsxs(U,{value:m.id.toString(),children:[m.name," (",m.code,")"]},m.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(vh,{filterWarehouse:a>0?a:void 0,openModal:o,setTotalInventories:r})})]}),e.jsx(nt,{isOpen:i,onClose:d,title:c==="add"?"Add Inventory":c==="view_details"?"Details":c==="edit"?"Edit Inventory":"",closeOnOverlayClick:c==="view_details",children:e.jsxs(e.Fragment,{children:[c==="add"&&e.jsx(bh,{warehouses:t,totalInventories:n,onClose:d}),c==="view_details"&&e.jsx(Nh,{onClose:d}),c==="edit"&&e.jsx(wh,{warehouses:t,onClose:d})]})})]})})})},_h=({handleEditInventoryProduct:t,handleToggleStatus:a})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:r=>n.toggleAllPageRowsSelected(!!r.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:r=>n.toggleSelected(!!r.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"product",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(D,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center whitespace-nowrap bg-transparent uppercase text-slate-700",children:["Name"," ",n.getIsSorted()==="asc"?e.jsx(ee,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(te,{size:18,strokeWidth:2}):e.jsx(ae,{size:18,strokeWidth:2})]})})},{accessorKey:"supplier_id.name",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Supplier"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Cap. Price"}),cell:({row:n})=>{const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.capital_price?r:""})})}},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bundles"})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bund. unit"})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Qty/Bund."})},{accessorKey:"stocks_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Stocks"})},{accessorKey:"damage_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Damaged"})},{accessorKey:"total_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Total"})},{accessorKey:"transferred_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transferred"})},{accessorKey:"sold_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sold"})},{accessorKey:"miscellaneous_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Misc"})},{accessorKey:"remaining_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Remaining"})},{accessorKey:"status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Status"}),cell:({row:n})=>e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[n.original.status===1?e.jsx(Ha,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Xt,{size:20,strokeWidth:2,className:"text-gray-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:n.original.status?"Approved":"Pending"})]})},{id:"actions",cell:({row:n})=>{const r=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>{t(r)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsxs(Oe,{onClick:()=>a(r.id,+!r.status),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:r.status?e.jsx(Xt,{size:16,strokeWidth:2.25}):e.jsx(Ha,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:r.status?"Set pending":"Set approved"})]})]})]})})},enableGlobalFilter:!1}],Sh=({id:t,openModal:a})=>{const{data:s,isLoading:n}=Nc(t),{setSelectedInventoryProduct:r}=Wn(),{handleSubmit:l}=Ss(),i=()=>{a({},"add")},d=u=>{r(u),a(u,"edit")},c=(u,o)=>{l({action:"update",id:u,data:{status:o}})};return e.jsx("div",{className:"w-full rounded-lg border bg-white",children:e.jsx(Qe,{columns:_h({handleEditInventoryProduct:d,handleToggleStatus:c}),data:s||[],filterWhat:"product",dataType:"Items",openModal:i,isLoading:n})})},Ch=({setInventoryProductsQueue:t,inventoryId:a,products:s,productsLoading:n,suppliers:r,suppliersLoading:l,currentId:i,handleNavigation:d,selectedProduct:c})=>{var E,I;const{auth:u}=pe(),{value:o,handleChange:m}=Ss(),[x,f]=h.useState(!1),[j,v]=h.useState(!1),[_,y]=h.useState(null),p=zn();h.useEffect(()=>{m("inventory_id",a),(u.role==="admin"||u.role==="super_admin")&&m("status",1),c&&(m("product_id",c.data.product_id),m("supplier_id",c.data.supplier_id),m("capital_price",c.data.capital_price),m("unit",c.data.unit),m("bundles_count",c.data.bundles_count),m("bundles_unit",c.data.bundles_unit),m("quantity_per_bundle",c.data.quantity_per_bundle),m("stocks_count",c.data.stocks_count),m("damage_count",c.data.damage_count),m("total_count",c.data.total_count)),!c&&u.role!=="admin"&&m("capital_price",0)},[]);const[b,T]=h.useState();h.useEffect(()=>{const S=o.bundles_count!==void 0?o.bundles_count:(c==null?void 0:c.data.bundles_count)||0,A=o.quantity_per_bundle!==void 0?o.quantity_per_bundle:(c==null?void 0:c.data.quantity_per_bundle)||0,F=S*A;T(F),m("stocks_count",F)},[o.bundles_count,o.quantity_per_bundle]);const[P,M]=h.useState();return h.useEffect(()=>{const S=o.damage_count!==void 0?o.damage_count:(c==null?void 0:c.data.damage_count)||0,F=(o.stocks_count!==void 0?o.stocks_count:(c==null?void 0:c.data.stocks_count)||0)-S;M(F),m("total_count",F)},[o.damage_count,o.stocks_count,P]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:S=>{S.preventDefault(),o.product_id===void 0?y("Please select a product first."):o.supplier_id===void 0?y("Please select a supplier first."):(t(c?A=>[...A.filter(F=>F.id!==c.id),{id:c.id,data:o}]:A=>[...A,{id:i+1,data:o}]),d())},children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${u.role==="admin"||u.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(C,{htmlFor:"product_id",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(ht,{open:x,onOpenChange:f,children:[e.jsx(ft,{id:"product_id",className:"relative w-full",asChild:!0,children:e.jsxs(me,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[o.product_id?e.jsx(e.Fragment,{children:(()=>{const S=s.find(A=>A.id===o.product_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:S==null?void 0:S.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.serial_no})]})})()}):e.jsx("span",{children:"Select a product..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:`${u.role==="admin"||u.role==="super_admin"?"min-w-[642px]":"min-w-[315px]"}  p-0 text-sm font-medium text-slate-700`,children:e.jsxs(Jt,{children:[e.jsx(Tt,{placeholder:"Product name or serial number..."}),n&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsxs(At,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(kt,{forceMount:!0,children:e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/products"),v(!1)},forceMount:!0,children:[e.jsx("span",{children:"Add new product..."}),e.jsx(hr,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-product")}),e.jsx(fr,{}),e.jsx(kt,{children:s.map((S,A)=>e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{m("product_id",S.id),f(!1)},children:[e.jsx("span",{children:S.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:S.serial_no})]},A))})]})]})})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(ht,{open:j,onOpenChange:v,children:[e.jsx(ft,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(me,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[o.supplier_id?e.jsx(e.Fragment,{children:(()=>{const S=r.find(A=>A.id===o.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:S==null?void 0:S.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:S==null?void 0:S.address})]})})()}):e.jsx("span",{children:"Select a supplier..."}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{children:[e.jsx(Tt,{placeholder:"Supplier name or address..."}),l&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsxs(At,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(kt,{forceMount:!0,children:e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/supplier"),v(!1)},children:[e.jsx("span",{children:"Add new supplier..."}),e.jsx(hr,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-supplier")}),e.jsx(fr,{}),e.jsx(kt,{children:r.map((S,A)=>e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{m("supplier_id",S.id),v(!1)},children:[e.jsx("span",{children:S.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:S.address})]},A))})]})]})})]})]}),(u.role==="admin"||u.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:((E=o.status)==null?void 0:E.toString())||"",required:!0,onValueChange:S=>m("status",Number(S)),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(U,{value:"1",children:"Approved"}),e.jsx(U,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",disabled:u.role!=="admin",defaultValue:((I=o.capital_price)==null?void 0:I.toFixed(2))||"",onBlur:S=>{o.capital_price!==void 0&&(S.target.value=Number(S.target.value).toFixed(2))},onChange:S=>{m("capital_price",Number(Number(S.target.value).toFixed(2)))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,value:o.unit||"",onChange:S=>m("unit",S.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(L,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,required:!0,value:o.bundles_count!==void 0?o.bundles_count:"",onBlur:S=>{S.target.value!==""&&(S.target.value=Number(S.target.value).toFixed(0))},onChange:S=>{m("bundles_count",Number(Number(S.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(L,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,value:o.bundles_unit||"",onChange:S=>m("bundles_unit",S.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(L,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,required:!0,value:o.quantity_per_bundle!==void 0?o.quantity_per_bundle:"",onBlur:S=>{S.target.value!==""&&(S.target.value=Number(S.target.value).toFixed(0))},onChange:S=>m("quantity_per_bundle",Number(Number(S.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(L,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:b||"0",readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(L,{id:"damage_count",name:"damage_count",type:"number",min:0,max:b||9999999,step:1,required:!0,value:o.damage_count!==void 0?o.damage_count:"",onBlur:S=>{o.damage_count!==void 0&&(S.target.value=Number(o.damage_count).toFixed(0))},onChange:S=>m("damage_count",Number(Number(S.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(L,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,readOnly:!0,value:P||"0"})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsx("div",{className:"ml-auto flex flex-row gap-4",children:e.jsx(D,{type:"submit",fill:"green",disabled:o.product_id===void 0||o.supplier_id===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Save changes":"Add item to queue"})})}),_&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:_})})]})})})},kh=["","Product name","Supplier","Capital price","Unit","Bundles count","Bundles unit","Qty/bundle","Stocks","Damaged","Total"],Dh=({data:t,products:a,suppliers:s,handleEditItem:n,handleRemoveItem:r,handleSubmit:l,onClose:i})=>{const[d,c]=h.useState(!1),[u,o]=h.useState(null),m=async()=>{c(!0);const x=await l({action:"batch-add",data:t.map(j=>j==null?void 0:j.data)});(Array.isArray(x)?x.filter(j=>j!==201):[]).length>0?o("Error adding items to inventory"):(c(!1),i())};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsxs(At,{type:"always",className:"flex-1 rounded-md border border-gray-200 bg-white",style:{"--border":"216 12% 84%"},children:[t.length<=0&&e.jsx("div",{className:"absolute z-10 flex h-full w-full items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-gray-500/50",children:"No items in queue"})}),e.jsx(pr,{orientation:"horizontal",className:"z-50 h-3"}),e.jsx(pr,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),e.jsxs(pl,{children:[e.jsx(gl,{children:e.jsx(fs,{id:"tHeaderRow",className:"hover:bg-white",children:kh.map(x=>e.jsx(vl,{className:"whitespace-nowrap px-5 py-3 text-center text-xs font-bold uppercase",children:x},x+"_head"))},"tHeaderRow")}),e.jsx(jl,{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(odd)]:bg-gray-50",children:t.length>0&&t.map(x=>{var f,j;return e.jsxs(fs,{className:"text-sm font-medium text-gray-700",children:[e.jsx(tt,{className:"p-3 pr-0",children:e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(Et,{children:[e.jsx(It,{className:"overflow-clip rounded-full bg-gray-200/70 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Lt,{className:"relative z-50 w-44 bg-white font-medium",children:[e.jsx(Mt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Oe,{onClick:()=>{x!=null&&x.id&&n(x)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ta,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Edit"})]},(x==null?void 0:x.id)+"edit"),e.jsxs(Oe,{onClick:()=>{x!=null&&x.id&&r(x.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 focus:bg-red-50 focus:text-red-700",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ic,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Remove"})]},(x==null?void 0:x.id)+"remove")]})]})})},(x==null?void 0:x.id)+"action"),e.jsx(tt,{className:"max-w-[200px] truncate px-5 py-3",children:x!=null&&x.data.product_id?(f=a.find(v=>v.id===x.data.product_id))==null?void 0:f.name:x==null?void 0:x.data.product_id},(x==null?void 0:x.id)+"product_id"),e.jsx(tt,{className:"max-w-[200px] truncate px-5 py-3",children:x!=null&&x.data.supplier_id?(j=s.find(v=>v.id===x.data.supplier_id))==null?void 0:j.name:x==null?void 0:x.data.supplier_id},(x==null?void 0:x.id)+"supplier_id"),e.jsx(tt,{className:"px-5 py-3",children:x!=null&&x.data.status?e.jsx(Ha,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Xt,{size:20,strokeWidth:2,className:"text-gray-600"})},(x==null?void 0:x.id)+"status"),e.jsx(tt,{className:"px-5 py-3",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format((x==null?void 0:x.data.capital_price)||0)},(x==null?void 0:x.id)+"capital_price"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.unit},(x==null?void 0:x.id)+"unit"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.bundles_count},(x==null?void 0:x.id)+"bundles_count"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.bundles_unit},(x==null?void 0:x.id)+"bundles_unit"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.quantity_per_bundle},(x==null?void 0:x.id)+"quantity_per_bundle"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.stocks_count},(x==null?void 0:x.id)+"stocks_count"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.damage_count},(x==null?void 0:x.id)+"damage_count"),e.jsx(tt,{className:"px-5 py-3",children:x==null?void 0:x.data.total_count},(x==null?void 0:x.id)+"total_count")]},(x==null?void 0:x.id)+"row")})})]})]}),e.jsxs("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:[u&&e.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:u})}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>i(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:t.length<=0||d,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:x=>{x.preventDefault(),m()},children:t.length<=1?"Add item to inventory":`Add ${t.length} items to inventory`})]})]})]})})},Oh={hidden:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"-100%",transition:{duration:.3,ease:"easeInOut"}}},Th={hidden:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}}},Ah=({onClose:t,inventoryId:a})=>{const{auth:s}=pe(),{data:n,isLoading:r}=ul(),{suppliers:l,isFetching:i}=_l(),{handleSubmit:d}=Ss(),[c,u]=h.useState([]),[o,m]=h.useState({}),[x,f]=h.useState("main"),j=()=>{m({}),f(x==="main"?"form":"main")},v=y=>{m(y),f("form")},_=y=>{u(p=>p.filter(b=>b.id!==y))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:x==="main"?"ml-auto":"",children:e.jsx(me,{className:"flex flex-row items-center gap-2 bg-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",onClick:()=>{j()},children:e.jsxs(e.Fragment,{children:[x==="main"?e.jsx(Tc,{size:20,strokeWidth:2.5}):e.jsx(Sl,{size:20,strokeWidth:2.5}),x==="main"?"Add an item":"Back"]})})}),e.jsx("div",{className:`relative min-w-[650px] overflow-x-clip transition-all duration-300 
					${x==="form"&&(s.role==="admin"||s.role==="super_admin")?"min-h-[558px]":"min-h-[490px]"}`,children:e.jsx(wc,{initial:!1,children:x==="main"?e.jsx(gr.div,{variants:Oh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute h-full w-full overflow-x-auto antialiased",children:e.jsx(Dh,{data:c,products:n,suppliers:l,handleEditItem:v,handleRemoveItem:_,handleSubmit:d,onClose:t})},"main"):e.jsx(gr.div,{variants:Th,initial:"hidden",animate:"animate",exit:"exit",className:"absolute max-h-[642px] w-full p-1",children:e.jsx(Ch,{setInventoryProductsQueue:u,inventoryId:a,products:n,productsLoading:r,suppliers:l,suppliersLoading:i,currentId:c.reduce((y,p)=>p.id>y?p.id:y,0),handleNavigation:j,selectedProduct:Object.keys(o).length?o:void 0})},"form")})})]})})},Ph=({onClose:t})=>{var p;const{auth:a}=pe(),{selectedInventoryProduct:s}=Wn(),{value:n,handleChange:r,handleSubmit:l}=Ss(),{suppliers:i,isFetching:d}=_l(),[c,u]=h.useState(!1),[o,m]=h.useState(!1),[x,f]=h.useState(null),[j,v]=h.useState();h.useEffect(()=>{const b=n.bundles_count!==void 0?n.bundles_count:(s==null?void 0:s.bundles_count)||0,T=n.quantity_per_bundle!==void 0?n.quantity_per_bundle:(s==null?void 0:s.quantity_per_bundle)||0,P=b*T;v(P),r("stocks_count",P)},[n.bundles_count,n.quantity_per_bundle]);const[_,y]=h.useState();return h.useEffect(()=>{const b=n.damage_count!==void 0?n.damage_count:(s==null?void 0:s.damage_count)||0,P=(n.stocks_count!==void 0?n.stocks_count:(s==null?void 0:s.stocks_count)||0)-b;y(P),r("total_count",P)},[n.damage_count,n.stocks_count,_]),e.jsx(e.Fragment,{children:e.jsx("form",{action:"",onSubmit:async b=>{m(!o),b.preventDefault();const T=await l({action:"update",id:s.id,data:n});typeof T=="object"&&"status"in T&&T.status===200?(m(!o),t()):(m(!o),f("Failed to update item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${a.role==="admin"||a.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(C,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsx(L,{id:"product",name:"product",type:"text",readOnly:!0,value:s==null?void 0:s.product.name})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(ht,{open:c,onOpenChange:u,children:[e.jsx(ft,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(me,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[n.supplier_id?e.jsx(e.Fragment,{children:(()=>{const b=i.find(T=>T.id===n.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:b==null?void 0:b.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:b==null?void 0:b.address})]})})()}):e.jsx("span",{children:s.supplier_id.name}),e.jsx(ya,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(pt,{className:"p-0 text-sm font-medium text-slate-700",children:e.jsxs(Jt,{children:[e.jsx(Tt,{placeholder:"Supplier name or address..."}),i===void 0&&d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(J,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ja,{children:"No match found"}),e.jsx(At,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(kt,{children:i.map((b,T)=>e.jsxs(mt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{r("supplier_id",b.id),u(!1)},children:[e.jsx("span",{children:b.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:b.address})]},T))})})]})})]})]}),(a.role==="admin"||a.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ce,{value:((p=s.status)==null?void 0:p.toString())||"",required:!0,onValueChange:b=>r("status",Number(b)),children:[e.jsx(oe,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(de,{placeholder:"Select status..."})}),e.jsxs(ue,{className:"text-sm font-medium",children:[e.jsx(U,{value:"1",children:"Approved"}),e.jsx(U,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(L,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",readOnly:a.role!=="admin",defaultValue:s==null?void 0:s.capital_price.toFixed(2),onBlur:b=>{b.target.value=Number(b.target.value).toFixed(2)},onChange:b=>{const T=Number(b.target.value).toFixed(2);r("capital_price",Number(T))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(L,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,defaultValue:s==null?void 0:s.unit,onChange:b=>r("unit",b.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(L,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,required:!0,value:n.bundles_count!==void 0?n.bundles_count:(s==null?void 0:s.bundles_count)||"",onBlur:b=>{b.target.value=Number(b.target.value).toFixed(0)},onChange:b=>r("bundles_count",Number(Number(b.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(L,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,value:n.bundles_unit!==void 0?n.bundles_unit:(s==null?void 0:s.bundles_unit)||"",onChange:b=>r("bundles_unit",b.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(L,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,required:!0,value:n.quantity_per_bundle!==void 0?n.quantity_per_bundle:(s==null?void 0:s.quantity_per_bundle)||"",onBlur:b=>{b.target.value=Number(b.target.value).toFixed(0)},onChange:b=>r("quantity_per_bundle",Number(Number(b.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(L,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:j||0,readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(L,{id:"damage_count",name:"damage_count",type:"number",min:0,max:j||9999999,step:1,required:!0,value:n.damage_count!==void 0?n.damage_count:(s==null?void 0:s.damage_count)||"",onBlur:b=>{b.target.value=Number(b.target.value).toFixed(0)},onChange:b=>r("damage_count",Number(Number(b.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(C,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(L,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,value:_||0,readOnly:!0})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(D,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(D,{type:"submit",fill:"green",disabled:o||Object.keys(n).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Applying...":"Apply changes"})]})}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:x})})]})})})},Yh=()=>{const{id:t}=_c(),{data:a,isLoading:s}=Sc(Number(t)),n=zn(),r=()=>{n(-1)},{openModal:l,isOpen:i,closeModal:d}=Ze(),[c,u]=h.useState(""),o=(m,x)=>{u(x),l()};return e.jsx(e.Fragment,{children:e.jsx(at,{title:"Inventory items",children:e.jsxs(Nl,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"text-primary-dark-gray flex flex-row items-center gap-6 text-sm font-medium",children:[e.jsxs(me,{onClick:()=>r(),className:"flex flex-row items-center gap-3 whitespace-nowrap bg-gray-200 pr-6 font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",children:[e.jsx(Sl,{size:22,strokeWidth:2.25}),e.jsx("span",{children:"Go back"})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("h2",{className:"font-bold",children:"Inventory code:"}),e.jsx("span",{children:s?"Loading...":a==null?void 0:a.code})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg",children:e.jsx(Sh,{id:Number(t),openModal:o})})]}),e.jsx(nt,{isOpen:i,onClose:d,title:c==="add"?"Add Items":c==="edit"?"Edit Item":"",children:e.jsxs(e.Fragment,{children:[c==="add"&&e.jsx(Ah,{inventoryId:Number(t),onClose:d}),c==="edit"&&e.jsx(Ph,{onClose:d})]})})]})})})};export{Bh as Inventory,Yh as InventoryItemsPage,Lh as Invoice,Gh as Login,Kh as PendingTransfer,Uh as PointOfSalePage,zh as ProductPrices,Rh as Products,Hh as RolePermissions,Wh as Supplier,Vh as Transaction,qh as Transfer,Mh as UserInfo,$h as UserSales,Ih as Warehouse};
