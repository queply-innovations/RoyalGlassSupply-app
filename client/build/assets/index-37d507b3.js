import{j as e,R as Ai,h as Ne,r as h,X as Sr,f as $e,i as Cr,k as Ii,l as Fi,m as Ei,B as k,M as ct,W as Li,u as we,n as tt,o as Mi,p as Wi,q as Ri,t as Yn,L as D,S as ue,v as me,w as xe,x as he,y as B,I as A,z as Qn,C as qi,D as Gt,E as zi,d as Js,H as Zn,J as Gn,K as Xn,O as Jn,Q as It,T as Ft,U as Et,V as Lt,Y as xt,Z as Ae,_ as ae,$ as el,a0 as tl,a1 as Ui,a2 as Vi,a3 as Ki,a4 as Hi,a5 as $i,a6 as Bi,a7 as Yi,a8 as kr,a9 as Pe,aa as Dt,ab as Ja,ac as al,ad as es,ae as vt,af as yt,ag as je,ah as jt,ai as Xt,aj as Jt,ak as ea,al as ta,am as Bt,an as gt,ao as ya,ap as sl,aq as Dr,ar as Ka,as as Ha,at as lt,au as hs,av as Qi,aw as rl,ax as ht,ay as Zi,az as Gi,aA as Xi,aB as Ji,aC as ec,aD as tc,aE as nl,aF as ac,aG as sc,aH as rc,aI as nc,aJ as lc,aK as ic,aL as ll,aM as ns,aN as w,aO as it,aP as er,aQ as Tr,aR as il,aS as cl,aT as ol,aU as dl,aV as ul,aW as ml,aX as cc,aY as xl,aZ as oc,a_ as hl,a$ as fl,b0 as fs,b1 as pl,b2 as gl,b3 as nt,b4 as Or,b5 as dc,b6 as Pr,b7 as vl,b8 as yl,b9 as jl,ba as uc,bb as mc,bc as xc,bd as hc,be as bl,bf as fc,bg as tr,bh as Ar,b as Ir,bi as Fr,bj as Er,bk as pc,bl as gc,bm as on,bn as dn,bo as Nl,bp as wl,bq as vc,br as un,bs as yc,bt as jc}from"./index-9821b9c7.js";import{bu as Kh}from"./index-9821b9c7.js";import{a as ne,I as se,D as Qe,A as J,b as ee,c as te,F as Lr,u as Ze,f as ze,d as bc,S as Nc,P as g,e as wc,h as _c,i as mn,L as Sc,j as Cc}from"./Layout-99e8e518.js";const Mt=t=>e.jsx(Ai,{className:"flex loading",type:"spin",color:"#16A116",height:t.height,width:t.width});/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Ne("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=Ne("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ne("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=Ne("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ne("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aa=Ne("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ne("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Ne("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=Ne("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ne("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Ne("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=Ne("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=Ne("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wt=Ne("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=Ne("PackageMinus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=Ne("PackagePlus",[["path",{d:"M16 16h6",key:"100bgy"}],["path",{d:"M19 13v6",key:"85cyf1"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=Ne("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Ne("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=Ne("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ne("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ne("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=Ne("UserRoundPlus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),at=({children:t,title:a,isOpen:s,onClose:r,closeOnOverlayClick:n})=>{const l=h.useRef(null),[i,o]=h.useState(!1),c=s?"animate-fade-in":"animate-fade-out";return h.useEffect(()=>{var d;if(s)o(!0);else{(d=l.current)==null||d.classList.add("fade-out");const u=setTimeout(()=>{o(!1),r()},300);return()=>clearTimeout(u)}},[s,r]),e.jsx(e.Fragment,{children:i&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:l,className:`modal-content ${c} absolute left-1/2 top-1/2 z-50 flex -translate-x-1/2 -translate-y-1/2 transform flex-col gap-5 rounded-md bg-white stroke-1 p-5 pb-10 shadow-2xl`,children:[e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsx("span",{className:"text-lg font-bold uppercase tracking-tight text-gray-800",children:a}),e.jsx("span",{className:"close-button relative right-0 top-0 flex-none cursor-pointer justify-end",onClick:r,children:e.jsx(Sr,{strokeWidth:2,size:28})})]}),t]}),e.jsx("div",{className:`modal-overlay fixed left-0 top-0 z-30 h-full w-full bg-black bg-opacity-70 ${c}`,onClick:n?r:()=>{}})]})})},Lc=()=>{const t=$e(),{warehouses:a}=Cr(),[s,r]=h.useState({id:a.length+1||0,code:"",name:"",location:""}),n=d=>{const{name:u,value:x}=d.target;r(m=>({...m,[u]:x}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["warehouses"]}),r({id:a.length+1||0,code:"",name:"",location:""})},onError:d=>{console.error("Warehouse Data failed",d)}},{mutateAsync:i}=ne({mutationKey:["removeWarehouse"],mutationFn:Ii,...l}),{mutateAsync:o}=ne({mutationKey:["addWarehouse"],mutationFn:Fi,...l}),{mutateAsync:c}=ne({mutationKey:["updateWarehouse"],mutationFn:Ei,...l});return{value:s,setValue:r,handleChange:n,removeWarehouseMutation:i,addWarehouseMutation:o,updateWarehouseMutation:c}},Mc=({isUpdate:t=!1,onClose:a,isDelete:s})=>{const{warehouseSelected:r}=Cr(),{value:n,setValue:l,handleChange:i,addWarehouseMutation:o,updateWarehouseMutation:c,removeWarehouseMutation:d}=Lc();h.useEffect(()=>{(t||s)&&l(r)},[t,s,r,l]);const u=async()=>{console.log("warehouseForm:",n);try{await new Promise(x=>setTimeout(x,1e3)),t&&(console.log("Update Warehouse:",n.id),await c(n),a()),s?(console.log("Remove Warehouse:",n.id),await d(n.id),a()):!t&&!s&&(console.log("Add Warehouse:",n.id),await o(n),a())}catch(x){console.error("Warehouse Data submission failed",x)}};return e.jsx(e.Fragment,{children:s?e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),u()},children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(k,{type:"submit",fill:"red",children:s?"Delete Warehouse":"Add Warehouse"})})})}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:x=>{x.preventDefault(),u()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse ID"}),e.jsx(se,{name:"id",value:(n==null?void 0:n.id)||0,type:"number",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Code"}),e.jsx(se,{name:"code",placeholder:"Warehouse Code",value:(n==null?void 0:n.code)||"",onChange:i,maxLength:3})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Name"}),e.jsx(se,{name:"name",placeholder:"Warehouse Name",value:(n==null?void 0:n.name)||"",onChange:i,required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Location"}),e.jsx(se,{name:"location",placeholder:"Warehouse Location",type:"string",value:(n==null?void 0:n.location)||"",onChange:i,required:!0})]}),e.jsxs("div",{className:"flex flex-row justify-center gap-1",children:[e.jsx(k,{fill:"green",className:"",type:"submit",children:t?"Update Warehouse":"Add Warehouse"}),e.jsx(k,{fill:"red",className:"",onClick:a,type:"reset",children:"Cancel"}),e.jsx(k,{onClick:()=>console.log(n),type:"button",children:"console form"})]})]})})})})},Wc=({openModal:t})=>{const{warehouses:a,setWarehouseSelected:s,isFetching:r,progress:n}=Cr(),l=()=>{t({},"add")},i=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:d=>c.toggleAllPageRowsSelected(!!d.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:d=>c.toggleSelected(!!d.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE ID"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.id})},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{className:"items-center",children:e.jsxs(k,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["WAREHOUSE NAME ",c.getIsSorted()==="asc"?e.jsx(J,{}):c.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.name})},{accessorKey:"code",header:()=>e.jsx("div",{className:"text-center",children:"code"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.code})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-center",children:"LOCATION"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.location})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:c})=>{const d=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(k,{fill:"empty",textColor:"black",onClick:()=>o(d),className:"flex flex-row items-center gap-2",children:[e.jsx(Lr,{})," Edit"]})})}}],o=c=>{s(c),t(c,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:i,filterWhat:"location",dataType:"",isLoading:r,openModal:l})})},Dh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Warehouse",children:e.jsxs(Li,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Wc,{openModal:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="edit"?"Edit Warehouse":r==="remove"?"Remove Warehouse":"Add Warehouse",children:e.jsx(Mc,{onClose:s,isUpdate:r==="edit",isDelete:r==="remove"})})]})})})},Tl=()=>{const t=$e();we(),tt();const[a,s]=h.useState({}),r=(d,u)=>{s(x=>({...x,[d]:u}))},n=d=>{s(u=>({...u,...d}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["invoices"]}),s({}),Yn.success("Submitted successfully!")},onError:d=>{console.error("Invoices Data failed",d.message)}},{mutateAsync:i}=ne({mutationKey:["addInvoice"],mutationFn:Mi,...l}),{mutateAsync:o}=ne({mutationKey:["updateInvoice"],mutationFn:Wi,...l}),{mutateAsync:c}=ne({mutationKey:["removeInvoice"],mutationFn:Ri,...l});return{value:a,setValue:s,selectChange:n,handleChange:r,addInvoiceMutation:i,updateInvoiceMutation:o,removeInvoiceMutation:c}},Rc=({formAction:t="add"})=>{const{invoices:a,invoiceSelected:s}=tt(),{auth:r}=we(),n=async()=>{console.log("invoiceForm:",l);try{await new Promise(u=>setTimeout(u,1e3)),t==="update"&&console.log("Update Invoice:",l.id),t==="remove"?(console.log("Remove Invoice:",l.id),await d(l.id)):t==="add"&&console.log("Add Invoice:",l.id)}catch(u){console.error("Invoice Data submission failed",u.message)}},{value:l,setValue:i,handleChange:o,selectChange:c,removeInvoiceMutation:d}=Tl();return h.useEffect(()=>{t==="update"&&(i(s),console.log("update",s.id)),t==="remove"&&(i(s),console.log("remove",s.id)),t==="add"&&i({})},[s,t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:u=>{u.preventDefault(),n()},children:[t==="remove"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(k,{type:"submit",fill:"red",children:"Delete Invoice"})})}),t==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex min-w-[700px] max-w-2xl  flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Invoice ID:"}),t==="update"?s.id:""]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Issued By:"}),t==="update"?s.issued_by.firstname.toUpperCase():r.user.firstname.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Created At:"}),e.jsx("span",{className:"text-base",children:ze(s.created_at)})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"OR #:"}),e.jsx("span",{className:"text-base",children:s.or_no})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Reference #:"}),e.jsx("span",{className:"text-base",children:s.reference_no?s.reference_no:"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"type",className:"text-sm font-bold uppercase ",children:"Type"}),e.jsxs(ue,{id:"type",name:"type",onValueChange:u=>c({type:u}),defaultValue:t==="update"?s.type:"",children:[e.jsx(me,{children:e.jsx(xe,{placeholder:"Select Payment"})}),e.jsxs(he,{className:"bg-white",id:"type",children:[e.jsx(B,{value:"payment",children:"Payment"},"payment"),e.jsx(B,{value:"exit",children:"Exit"},"exit")]})]},"type")]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"payment_method",className:"text-sm font-bold uppercase ",children:"Payment Method"}),e.jsxs(ue,{id:"payment_method",name:"type",onValueChange:u=>c({payment_method:u}),defaultValue:t==="update"?s.payment_method:"",children:[e.jsx(me,{children:e.jsx(xe,{placeholder:"Select Payment Method"})}),e.jsxs(he,{className:"bg-white",id:"type",children:[e.jsx(B,{value:"cash",children:"Cash"}),e.jsx(B,{value:"credit",children:"Credit"}),e.jsx(B,{value:"debit",children:"Debit"}),e.jsx(B,{value:"wallet",children:"Wallet"})]})]},"type")]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"subtotal",className:"text-sm font-bold uppercase",children:"Subtotal"}),e.jsx(A,{name:"subtotal",id:"subtotal",value:t==="update"?s.subtotal:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"total_tax",className:"text-sm font-bold uppercase",children:"Total Tax"}),e.jsx(A,{name:"total_tax",id:"total_tax",value:t==="update"?s.total_tax:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"total_discount",className:"text-sm font-bold uppercase",children:"Total Discount"}),e.jsx(A,{name:"total_discount",id:"total_discount",value:t==="update"?s.total_discount:"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(D,{htmlFor:"total_amount_due",className:"text-sm font-bold uppercase",children:"Total Amount Due"}),e.jsx(A,{name:"total_amount_due",id:"total_amount_due",value:t==="update"?s.total_amount_due:"",onChange:o,required:!0})]})]})]}),e.jsx(k,{onClick:()=>{console.log("InvoiceFORMDATA:",l)},children:"console form"})]})]})})},qc=({modalHandler:t})=>{const{invoices:a,setInvoiceSelected:s}=tt(),r=(l,i)=>{i==="update"?(s(l),t(l,"update")):i==="remove"?(s(l),t(l,"remove")):(t(l,"add"),console.log("add"))};console.log("invoices:",a);const n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"justify-center",children:"Invoice ID"})},{id:"or_no",accessorKey:"or_no",header:()=>e.jsx("div",{className:"justify-center",children:"OR #"})},{accessorKey:"reference_no",header:()=>e.jsx("div",{className:"justify-center",children:"Reference #"}),cell:({row:l})=>{const i=l.original;return e.jsx(e.Fragment,{children:i.reference_no===null?"N/A":i.reference_no})}},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"justify-center",children:"Sub Total Price"})},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"justify-center",children:"Amount Due"})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:l})=>{const i=l.original;return e.jsxs("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:[e.jsxs(k,{fill:"empty",textColor:"black",onClick:()=>r(i,"update"),className:"flex flex-row items-center gap-2",children:[e.jsx(Lr,{})," Edit"]}),e.jsx(k,{fill:"red",onClick:()=>r(i,"remove"),children:"Remove"})]})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,filterWhat:"or_no",columns:n,dataType:"Invoice",openModal:()=>r})})},Th=({})=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o),console.log("modalAction:",r)};return console.log(bc()),e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Invoice",children:e.jsxs(Qn,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(qc,{modalHandler:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="update"?"Edit Invoice":r==="remove"?"Remove Invoice":"Add Invoice",children:e.jsx(Rc,{onClose:s,formAction:r})})]})})})},zc=(t,a)=>{const s=$e(),[r,n]=h.useState({firstname:t.firstname,lastname:t.lastname,username:t.username,email:t.email,contact_no:t.contact_no,position:t.position,user_id:t.id,role_id:0});h.useEffect(()=>{a&&n(f=>{var S;return{...f,role_id:(S=a.find(P=>P.title===t.position))==null?void 0:S.id}})},[a]);const[l,i]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(null),[x,m]=h.useState(null),p=(f,S)=>{i(!0),m(null),u(null),n(P=>({...P,[f]:S}))},j=f=>{i(!0),m(null),n(S=>({...S,[f.target.name]:f.target.value})),f.target.name==="position"&&n(S=>{var P;return{...S,role_id:(P=a.find(I=>I.title===f.target.value))==null?void 0:P.id}})},v=async()=>{var f,S;if(c(!0),((f=r.contact_no)==null?void 0:f.length)>11||((S=r.contact_no)==null?void 0:S.length)<11)u("Contact number must be 11 digits"),c(!1);else return await y(r)},N={onSuccess:async()=>{await s.invalidateQueries({queryKey:["user"]}),c(!1),i(!1),m("User info has been updated")},onError:f=>{console.error(f),u(f.message),c(!1)}},{mutateAsync:y}=ne({mutationKey:["editUser"],mutationFn:qi,...N});return{user:r,isChanged:l,isSubmitting:o,error:d,success:x,handleSubmit:v,handleChangeSelect:p,handleChange:j,editUserMutation:y}},Uc=()=>{const t=$e(),{users:a}=Gt(),{roles:s}=Gt(),r=a[a.length-1].id+1,[n,l]=h.useState({});h.useEffect(()=>{l(S=>({...S,active_status:"active",id:r}))},[]);const[i,o]=h.useState(!1),[c,d]=h.useState(!1),[u,x]=h.useState(null),[m,p]=h.useState(null),j=()=>{var I,E;const P=Object.keys(n).map(_=>({text:_})).length===11;if(P){const _=n.password===n.password_confirmation;if(!_)return[_,"Passwords do not match"];const T=!(((I=n.contact_no)==null?void 0:I.length)>11||((E=n.contact_no)==null?void 0:E.length)<11);return T?[P&&_&&T,""]:[T,"Please input a valid contact number"]}else{const _=!!n.position;return _?[P,"Please correctly fill up all fields"]:[_,"Please choose a position"]}},v=S=>{o(!0),p(null),x(null),l(P=>({...P,[S.target.name]:S.target.value})),S.target.name==="position"&&l(P=>{var I;return{...P,role_id:(I=s.find(E=>E.title===S.target.value))==null?void 0:I.id}})},N=async()=>{const S=j();if(d(!0),S[0])return await f(n);x(S[1]),d(!1)},y={onSuccess:async()=>{await t.invalidateQueries({queryKey:["user"]}),d(!1),o(!1),p("User info has been added")},onError:S=>{console.error(S),x(S.message),d(!1)}},{mutateAsync:f}=ne({mutationKey:["addUser"],mutationFn:zi,...y});return{user:n,isChanged:i,isSubmitting:c,error:u,success:m,handleSubmit:N,handleChange:v,addUserMutation:f}},Vc=()=>{const t=$e(),{roles:a,selectedUser:s}=Gt(),r=a.filter(L=>L.title===s.position),[n,l]=h.useState([]),[i,o]=h.useState([]),[c,d]=h.useState([]),{data:u}=Js({queryKey:["all-permissions"],queryFn:()=>Xn(),refetchOnWindowFocus:!1});h.useEffect(()=>{const L=u;L&&o(L)},[u]);const{isFetching:x,data:m}=Js({queryKey:["permissions"],queryFn:()=>Jn(r[0].id),refetchOnWindowFocus:!1});h.useEffect(()=>{const L=m;L&&(l(L),d(L))},[m]);const[p,j]=h.useState(!1),[v,N]=h.useState(!1),[y,f]=h.useState(null),[S,P]=h.useState(null),I=L=>{j(!0),P(null),f(null),L.target.checked===!1?d(c.filter(F=>F.permission_id!==Number(L.target.value))):d([...c,{id:null,role_id:r[0].id,permission_id:Number(L.target.value)}])},E=async()=>{if(N(!0),c.length>n.length){const L=c.filter(F=>F.id===null);if(L.length>1)L.forEach(async F=>{await T(F)});else return await T(L)}else if(c.length<n.length){const L=n.filter(F=>c.find(z=>z.permission_id===F.permission_id)===void 0);if(L.length>1)L.forEach(async F=>{await M(F)});else return await M(L[0])}else N(!1),j(!1),P("No changes made")},_={onSuccess:async()=>{await t.invalidateQueries({queryKey:["role-permission"]}),N(!1),j(!1),P("Role permissions have been updated")},onError:L=>{console.error(L),f(L.message),N(!1)}},{mutateAsync:T}=ne({mutationKey:["addpermission"],mutationFn:Zn,..._}),{mutateAsync:M}=ne({mutationKey:["deletepermission"],mutationFn:Gn,..._});return{permissions:n,allPermissions:i,permissionChange:c,isChanged:p,isSubmitting:v,error:y,success:S,handleSubmit:E,handleChange:I}},Kc=()=>{const t=$e(),{roles:a}=Gt(),[s,r]=h.useState(),[n,l]=h.useState(0);h.useState();const[i,o]=h.useState([]),[c,d]=h.useState([]),[u,x]=h.useState([]),{data:m}=Js({queryKey:["all-permissions"],queryFn:()=>Xn(),refetchOnWindowFocus:!1});h.useEffect(()=>{const F=m;F&&d(F)},[m]);const[p,j]=h.useState(!1),[v,N]=h.useState(!1),[y,f]=h.useState(null),[S,P]=h.useState(null),I=(F,z)=>{P(null),f(null),r(a.find(V=>V.title===z)),l(a.find(V=>V.title===z).id)};h.useEffect(()=>{async function F(){const z=await Jn(n);o(z),x(z)}F()},[n]);const E=F=>{j(!0),P(null),f(null),F.target.checked===!1?x(u.filter(z=>z.permission_id!==Number(F.target.value))):x([...u,{id:null,role_id:n,permission_id:Number(F.target.value)}])},_=async()=>{if(N(!0),u.length>i.length){const F=u.filter(z=>z.id===null);if(F.length>1)F.forEach(async z=>{await M(z)});else return await M(F)}else if(u.length<i.length){const F=i.filter(z=>u.find(V=>V.permission_id===z.permission_id)===void 0);if(F.length>1)F.forEach(async z=>{await L(z)});else return await L(F[0])}else N(!1),j(!1),P("No changes made")},T={onSuccess:async()=>{await t.invalidateQueries({queryKey:["role-permission"]}),N(!1),j(!1),P("Role permissions have been updated")},onError:F=>{console.error(F),f(F.message),N(!1)}},{mutateAsync:M}=ne({mutationKey:["addpermission"],mutationFn:Zn,...T}),{mutateAsync:L}=ne({mutationKey:["deletepermission"],mutationFn:Gn,...T});return{roles:a,roleSelect:s,permissions:i,allPermissions:c,permissionChange:u,roleId:n,isChanged:p,isSubmitting:v,error:y,success:S,handleSubmit:_,handleChange:E,handleChangeSelect:I}},Hc=({openModal:t})=>{const{users:a,isFetching:s,progress:r,progress2:n,setSelectedUser:l}=Gt(),i=u=>{l(u),t(u,"edit")},o=u=>{l(u),t(u,"editPerms")},c=()=>{t({},"add")},d=[{id:"select",header:({table:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsAllPageRowsSelected(),onChange:x=>u.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsSelected(),onChange:x=>u.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"lastname",sortingFn:"text",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{u.toggleSorting(u.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["LAST NAME ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.lastname})},{accessorKey:"firstname",sortingFn:"text",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FIRST NAME ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.firstname})},{accessorKey:"position",sortingFn:"text",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["ROLE ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.position})},{accessorKey:"username",header:()=>e.jsx("div",{className:"text-center",children:"USERNAME"}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.username})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT"}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.contact_no})},{accessorKey:"email",header:()=>e.jsx("div",{className:"text-center",children:"EMAIL ADDRESS"}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.email})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:u})=>{const x=u.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User"})]}),e.jsxs(Ae,{onClick:()=>o(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User Permission"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:d,filterWhat:"username",dataType:"User",openModal:c,isLoading:s})})},$c=({onClose:t})=>{const{user:a,isChanged:s,isSubmitting:r,error:n,success:l,handleSubmit:i,handleChange:o}=Uc(),{roles:c}=Gt(),d=c?c.map(u=>u.title):[];return l&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:u=>{u.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User ID"}),e.jsx(se,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User First Name"}),e.jsx(se,{name:"firstname",placeholder:"User First Name",value:a.firstname||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Last Name"}),e.jsx(se,{name:"lastname",placeholder:"User Last Name",value:a.lastname||"",onChange:o,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Email Address"}),e.jsx(se,{name:"email",placeholder:"User Email Address",type:"email",value:a.email||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Contact Number"}),e.jsx(se,{name:"contact_no",placeholder:"User Contact Number",type:"number",value:a.contact_no||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Position"}),e.jsx(Nc,{name:"position",className:"text-lg",placeholder:"---Select Position---",onChange:o,options:d,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Username"}),e.jsx(se,{name:"username",placeholder:"User Username",type:"string",value:a.username||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Password"}),e.jsx(se,{name:"password",placeholder:"User Password",type:"password",value:a.password||"",onChange:o,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Confirm Password"}),e.jsx(se,{name:"password_confirmation",placeholder:"Confirm Password",type:"password",value:a.password_confirmation||"",onChange:o,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:s?"green":null,disabled:!s,onClick:i,children:r?"Submitting":"Add User"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),n&&e.jsx("div",{className:"font-bold text-red-700",children:n}),r?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Bc=({onClose:t})=>{const{selectedUser:a,roles:s}=Gt(),{auth:r}=we(),{user:n,isChanged:l,isSubmitting:i,error:o,success:c,handleSubmit:d,handleChange:u,handleChangeSelect:x}=zc(a,s);return c&&setTimeout(()=>{t()},3e3),e.jsxs(e.Fragment,{children:[a.id===r.user.id&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing your own account.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("form",{onSubmit:async m=>{m.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"id",children:"User ID"}),e.jsx(se,{type:"text",name:"id",placeholder:"User ID",className:"inputbox",value:n.user_id,disabled:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"First name"}),e.jsx(se,{type:"text",name:"firstname",placeholder:"First name",className:"inputbox rounded-md bg-slate-100",value:n.firstname,onChange:u})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Last name"}),e.jsx(se,{type:"text",name:"lastname",placeholder:"Last name",className:"inputbox rounded-md bg-slate-100",value:n.lastname,onChange:u})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(se,{type:"text",name:"username",placeholder:"Username",className:"inputbox rounded-md bg-slate-100",value:n.username,onChange:u})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx(se,{type:"email",name:"email",placeholder:"Email address",className:"inputbox rounded-md bg-slate-100",value:n.email,onChange:u})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Contact number"}),e.jsx(se,{type:"number",name:"contact_no",placeholder:"09XXXXXXXXX",className:"inputbox rounded-md bg-slate-100",value:n.contact_no,onChange:u})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"position",children:"Position"}),e.jsxs(ue,{onValueChange:m=>x("position",m),required:!0,children:[e.jsx(me,{name:"position",className:"flex flex-row items-center gap-3 truncate text-md rounded-md bg-slate-100",children:e.jsx(xe,{placeholder:n.position?n.position.charAt(0).toUpperCase()+n.position.slice(1):"Choose position..."})}),e.jsx(he,{className:"bg-white font-medium text-md",children:s.length>0?s.map(m=>e.jsx(B,{value:m.title,children:m.title.charAt(0).toUpperCase()+m.title.slice(1)},m.id)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:l?"green":null,disabled:!l,onClick:d,children:i?"Submitting":"Edit User"})}),e.jsxs("div",{className:"flex flex-col col-span-3 items-start",children:[c&&e.jsx("div",{className:"font-bold text-green-700",children:c}),o&&e.jsx("div",{className:"font-bold text-red-700",children:o}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})]})},Yc=({onClose:t})=>{const{selectedUser:a}=Gt(),{permissions:s,allPermissions:r,permissionChange:n,isChanged:l,isSubmitting:i,error:o,success:c,handleChange:d,handleSubmit:u}=Vc(),{auth:x}=we(),m=r.filter(v=>Object.keys(v).some(N=>!v.title.includes("view".toLowerCase())&&v.title.includes("users".toLowerCase()))),p=r.filter(v=>Object.keys(v).some(N=>!v.title.includes("view".toLowerCase())&&v.title.includes("product".toLowerCase())||v.title.includes("catalog".toLowerCase()))),j=r.filter(v=>Object.keys(v).some(N=>v.title.includes("view".toLowerCase())));return c&&setTimeout(()=>{t()},3e3),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col grid-cols-12",children:[e.jsxs("p",{className:"text-xl font-bold",children:["Current user role: ",a.position.toUpperCase()]}),a.position===x.role&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing a user with the same role as you.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("br",{}),e.jsxs("p",{className:"text-lg",children:["Note: After saving changes, the affected user(s) need to log out",e.jsx("br",{}),"and log in again for changes to take effect."]}),e.jsx("br",{}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	User Management "}),e.jsx("div",{className:"flex flex-row mt-4 mx-2 justify-evenly",children:m.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):m.map((v,N)=>e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:d,checked:n.some(y=>y.permission_id===v.id)}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},N))})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	Products "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:p.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):p.map((v,N)=>{const y=n.some(f=>f.permission_id===v.id);return e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:d,checked:y}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},N)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12",children:[e.jsx("p",{className:"text-lg",children:"	Views "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map((v,N)=>{const y=n.some(f=>f.permission_id===v.id);return e.jsxs("div",{className:"flex rounded-lg items-center content-center p-2",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:v.title,value:v.id,onChange:d,checked:y}),e.jsx("label",{htmlFor:v.title,className:"self-center",children:v.title})]},N)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(k,{type:"submit",fill:l?"green":null,disabled:!l,onClick:u,children:i?"Submitting":"Edit Permission"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start align-center",children:[c&&e.jsx("div",{className:"font-bold text-green-700",children:c}),o&&e.jsx("div",{className:"font-bold text-red-700",children:o}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})},Oh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"User Information",children:e.jsxs(el,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Hc,{openModal:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="edit"?"Edit User":r==="add"?"Add User":"Edit User Role Permissions",children:e.jsxs(e.Fragment,{children:[r==="add"&&e.jsx($c,{onClose:s}),r==="edit"&&e.jsx(Bc,{onClose:s}),r==="editPerms"&&e.jsx(Yc,{onClose:s})]})})]})})})},Qc=()=>{const t=$e(),{selectedSupplier:a,setSelectedSupplier:s}=tl(),[r,n]=h.useState({});h.useEffect(()=>{a&&n(a)},[a]);const[l,i]=h.useState({}),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[x,m]=h.useState(null),[p,j]=h.useState(null),v=E=>{var _,T,M,L;if(E){const F=Object.keys(r).map(V=>({text:V})),z=F.length===3||F.length>3;if(z){const V=!(((_=r.contact_no)==null?void 0:_.length)>11||((T=r.contact_no)==null?void 0:T.length)<11);return V?[V,""]:[V,"Contact number must be 11 digits"]}else return[z,"Please fill up all fields"]}else{const F=Object.keys(l).map(V=>({text:V})),z=F.length===3||F.length>3;if(z){const V=!(((M=l.contact_no)==null?void 0:M.length)>11||((L=l.contact_no)==null?void 0:L.length)<11);return V?[V,""]:[V,"Contact number must be 11 digits"]}else return[z,"Please fill up all fields"]}},N=(E,_)=>{c(!0),j(null),m(null),_?n(T=>({...T,[E.target.name]:E.target.value})):i(T=>({...T,[E.target.name]:E.target.value}))},y=async E=>{const _=v(E);if(u(!0),_[0])return E?await S(r):await I(l);m(_[1]),u(!1),console.log(l)},f={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),u(!1),c(!1),j("Supplier info has been edited")},onError:E=>{console.error(E),m(E.message),u(!1)}},{mutateAsync:S}=ne({mutationKey:["updateSupplier"],mutationFn:Ui,...f}),P={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),u(!1),c(!1),j("Supplier info has been added")},onError:E=>{console.error(E),m(E.message),u(!1)}},{mutateAsync:I}=ne({mutationKey:["addSupplier"],mutationFn:Vi,...P});return{supplier:r,selectedSupplier:a,newSupplier:l,isChanged:o,isSubmitting:d,error:x,success:p,handleSubmit:y,handleChange:N,editSupplierMutation:S}},Zc=({onClose:t,isUpdate:a})=>{const{supplier:s,newSupplier:r,isSubmitting:n,error:l,success:i,isChanged:o,handleChange:c,handleSubmit:d}=Qc();return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:u=>{u.preventDefault()},children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Supplier Name"}),e.jsx(se,{type:"text",name:"name",placeholder:"Supplier Name",value:a?s.name||"":r.name||"",className:"inputbox rounded-md bg-slate-100",onChange:u=>c(u,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"contact_no",children:"Supplier Contact Number"}),e.jsx(se,{type:"text",name:"contact_no",placeholder:"Supplier Contact Number",className:"inputbox rounded-md bg-slate-100",value:a?s.contact_no||"":r.contact_no||"",onChange:u=>c(u,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"address",children:"Supplier Address"}),e.jsx(se,{type:"text",name:"address",placeholder:"Supplier Address",className:"inputbox rounded-md bg-slate-100",value:a?s.address||"":r.address||"",onChange:u=>c(u,a),required:!0})]})]}),e.jsx("div",{className:"flex flex-col mt-4 gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:o?"green":null,disabled:!o,onClick:()=>d(a),children:n?"Submitting":a?"Edit Supplier":"Add Supplier"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Gc=({openModal:t})=>{const{suppliers:a,isFetching:s,progress:r,setSelectedSupplier:n}=tl(),l=()=>{t({},"add")},i=c=>{n(c),t(c,"edit")},o=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:d=>c.toggleAllPageRowsSelected(!!d.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:d=>c.toggleSelected(!!d.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{className:"text-center",children:e.jsxs(k,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row ml-auto mr-auto items-center",children:["NAME ",c.getIsSorted()==="asc"?e.jsx(J,{}):c.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.name})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT NUMBER"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.contact_no})},{accessorKey:"address",header:()=>e.jsx("div",{className:"text-center",children:"ADDRESS"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.address})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"ACTION"}),cell:({row:c})=>{const d=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(k,{fill:"empty",textColor:"black",onClick:()=>i(d),className:"flex flex-row items-center gap-2",children:[e.jsx(Lr,{})," Edit"]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:o,filterWhat:"address",dataType:"Supplier",openModal:l,isLoading:s})})},Ph=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Supplier",children:e.jsxs(Ki,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Gc,{openModal:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="edit"?"Edit Supplier":"Add Supplier",children:e.jsx(e.Fragment,{children:e.jsx(Zc,{onClose:s,isUpdate:r==="edit"})})})]})})})},Ol=()=>{const t=$e(),[a,s]=h.useState({}),r=(c,d)=>{s(u=>({...u,[c]:d}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const d="No data to submit. Function requires at least one parameter.";return console.error(d),{status:400,data:d}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["products"]})},onError:c=>{console.error("Product Data failed",c)}},{mutateAsync:i}=ne({mutationKey:["addProduct"],mutationFn:Hi,...l}),{mutateAsync:o}=ne({mutationKey:["patchProduct"],mutationFn:$i,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n,addProductMutation:i}},Rr=()=>{const t=$e(),[a,s]=h.useState({}),r=(c,d)=>{s(u=>({...u,[c]:d}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const d="No data to submit. Function requires at least one parameter.";return console.error(d),{status:400,data:d}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["productPrices"]}),s({})},onError:c=>{console.error("Product Prices Data failed",c)}},{mutateAsync:i}=ne({mutationKey:["addProductListing"],mutationFn:Bi,...l}),{mutateAsync:o}=ne({mutationKey:["patchProductListing"],mutationFn:Yi,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n,addProductPricesMutation:i,patchProductPricesMutation:o}},Xc=({handleEditProduct:t})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:r=>s.toggleAllPageRowsSelected(!!r.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:r=>s.toggleSelected(!!r.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",s.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsx("div",{className:"flex flex-row justify-end text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>t(r),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{className:"font-medium",children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],Jc=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",t.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",t.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})}],eo=({handleProdPriceDetails:t,handleEditProdPrice:a,handleToggleActiveStatus:s})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Product name"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"WHS"})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"}),cell:({row:n})=>{const l=n.original.type;return e.jsxs("div",{className:"group relative flex w-fit items-center",children:[l==="retail"?e.jsx(_l,{size:20,strokeWidth:2,className:"text-gray-700"}):e.jsx(kr,{size:20,strokeWidth:1.75,className:"text-gray-700"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})}},{accessorKey:"stocks_quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"QTY"})},{accessorKey:"stocks_unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.capital_price?l:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.markup_price||0),i=Pe(n.original.markup_price/n.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:l}),e.jsxs("span",{className:"text-gray-500",children:["(",i,"%)"]})]})}},{accessorKey:"tax_amount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Tax"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.tax_amount||0);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:l})})}},{accessorKey:"cost",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Cost"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.cost);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.cost?l:""})})}},{accessorKey:"on_sale",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sale?"}),cell:({row:n})=>{const l=n.original.on_sale;return e.jsxs("div",{className:"group relative flex w-fit items-center",children:[l===1?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx("span",{children:e.jsx(Sr,{size:20,strokeWidth:2,className:"text-gray-700"})}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l===1?"On sale":"Not on sale"})]})},enableGlobalFilter:!1},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Disc. Price"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.sale_discount||0);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.on_sale===1?l:""})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.price?l:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"mx-auto w-fit text-center uppercase",children:"Approval"}),cell:({row:n})=>{const l=n.original.approval_status;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="approved"?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):l==="rejected"?e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Ja,{size:20,strokeWidth:2,className:"text-amber-500"}),e.jsx("span",{className:"absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm capitalize text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l})]})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})}),cell:({row:n})=>{const l=n.original.active_status;return e.jsxs("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:[l==="active"?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ar,{size:20,strokeWidth:2,className:"text-gray-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-1/2 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 opacity-0 transition-opacity group-hover:opacity-100",children:l==="active"?"Active":"Inactive"})]})},enableGlobalFilter:!1},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>t(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Ae,{onClick:()=>a(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(xt,{className:"bg-gray-200"}),e.jsx(Ae,{onClick:()=>s(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:l.active_status?l.active_status==="active"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ar,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set inactive"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Sl,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set active"})]}):e.jsx("div",{})})]})]})})},enableGlobalFilter:!1}],to=[{id:"select",header:({table:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsAllPageRowsSelected(),onChange:a=>t.toggleAllPageRowsSelected(!!a.target.checked),"aria-label":"Select all"}),cell:({row:t})=>e.jsx("input",{type:"checkbox",checked:t.getIsSelected(),onChange:a=>t.toggleSelected(!!a.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"product.id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Id"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:t})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>t.toggleSorting(t.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Product name"," ",t.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):t.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"type",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Type"})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Quantity"})},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:t})=>{const a=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:t.original.price?a:""})})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Approval"}),cell:({row:t})=>{const a=t.original.approval_status;return e.jsx("div",{className:"flex items-center",children:e.jsx("div",{className:`${a?a==="approved"?"bg-green-600":a==="rejected"?"bg-red-600":"bg-amber-600":""}
          overflow-clip rounded-full px-2 py-1 text-xs font-bold uppercase text-white`,children:t.original.approval_status})})}}],ao=({openModal:t})=>{const{auth:a}=we(),{data:s,isLoading:r,setSelectedProduct:n}=al(),l=()=>{t({},"add")},i=o=>{n(o),t(o,"edit")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:(a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="admin"?Xc({handleEditProduct:i}):Jc,data:s,filterWhat:"name",dataType:"Product",openModal:l,isLoading:r})})},so=({openModal:t,isModalOpen:a})=>{const{auth:s}=we(),{data:r,isLoading:n,setSelectedProductPrice:l}=es(),i=()=>{t({},"add")},o=u=>{l(u),t(u,"details")},c=u=>{l(u),t(u,"edit")},d=u=>{l(u),t(u,"toggle_active_stat")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:s.role==="super_admin"||s.role==="admin"?eo({handleProdPriceDetails:o,handleEditProdPrice:c,handleToggleActiveStatus:d}):to,data:r,filterWhat:"name",dataType:"Listing",openModal:i,isLoading:n})})},ro=({onClose:t})=>{const{selectedProductPrice:a}=es();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Product ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Listing ID"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Type"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.type})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.unit})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_quantity})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Stocks unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.stocks_unit})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.markup_price),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",Pe(a.markup_price/a.capital_price*100,{precision:3}).value,"%)"]})]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Tax amount"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.tax_amount)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:a.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[a.on_sale===1?e.jsx(Dt,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(Sr,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(a.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[a.active_status==="active"?e.jsx(Sl,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(ar,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:a.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:a.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.updated_at)})]})]})]})})},no=({onClose:t})=>{const{patchProductPricesMutation:a}=Rr(),{selectedProductPrice:s}=es(),[r,n]=h.useState(!1),[l,i]=h.useState(null),o=async()=>(n(!r),a({id:s.id,data:{active_status:s.active_status==="active"?"inactive":"active"}}));return e.jsxs("div",{className:"flex min-w-max flex-col gap-3",children:[e.jsxs("h2",{className:"text-sm text-gray-800",children:["Are you sure you'd like to set this listing to"," ",e.jsx("strong",{children:s.active_status==="active"?"inactive":"active"}),"?"]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:s.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:s.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:s.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:s.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:s.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:s.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:s.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:s.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:s.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:s.stocks_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.price)})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-between pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(k,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(k,{fill:"green",onClick:async()=>{(await o()).status===200?t():i("Failed to update active status")},disabled:r,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:r?"Applying...":`Set to ${s.active_status==="active"?"inactive":"active"}`})]})}),l&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:l})})]})},lo=({products:t,selectedProduct:a,setSelectedProduct:s,isLoading:r,setOpenedTab:n,onClose:l})=>{const[i,o]=h.useState(!1);return e.jsxs("div",{className:"w-full",children:[e.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Choose a product to add a listing for:"}),e.jsxs(vt,{open:i,onOpenChange:o,children:[e.jsx(yt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[a.name?e.jsxs("div",{className:"flex items-baseline gap-4",children:[e.jsx("span",{children:a.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:a.serial_no})," "]}):e.jsx("span",{children:"Select a product..."}),e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"w-[672px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{placeholder:"Product name or serial number..."}),r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsx(ta,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Bt,{children:t.map(c=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{s(c),o(!1)},children:[e.jsx("span",{children:c.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:c.serial_no})]},c.id))})})]})})]}),a.id&&e.jsxs("div",{className:"mt-4 grid grid-flow-row grid-cols-3 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Serial Number"}),e.jsx("p",{className:"font-medium",children:a.serial_no})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:a.size})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:a.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Notes"}),e.jsx("p",{className:"font-medium",children:a.notes})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(k,{fill:"default",onClick:()=>l(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(k,{fill:"green",disabled:!a.id,onClick:()=>n("listings"),className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Proceed"})]})})]})},io=({product:t,setOpenedTab:a,onClose:s})=>{var v,N;const{auth:r}=we(),{warehouses:n}=ya(),{value:l,setValue:i,handleChange:o,handleSubmit:c}=Rr(),[d,u]=h.useState(!1),[x,m]=h.useState(null),[p,j]=h.useState(0);return h.useEffect(()=>{i(y=>({...y,product_id:t.id,active_status:"active",approval_status:"pending",created_by:r.user.id,on_sale:0,sale_discount:0}))},[]),h.useEffect(()=>{const y=l.capital_price||0,f=Pe(y).multiply((p||0)/100);o("markup_price",f.value)},[l.capital_price,p]),h.useEffect(()=>{const y=l.capital_price||0,f=l.markup_price||0,S=l.tax_amount||0;o("cost",Pe(y).add(f).add(S).value)},[l.capital_price,l.markup_price,l.tax_amount]),h.useEffect(()=>{const y=l.cost||0,f=l.sale_discount||0;o("price",Pe(y).subtract(f).value)},[l.cost,l.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async y=>{u(!d),y.preventDefault();const f=await c({action:"add",data:l});(f==null?void 0:f.status)===201?(u(!d),s()):(u(!d),m("Failed to add product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:t.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:t.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Serial Number"}),e.jsx("p",{className:"text-sm",children:t.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:t.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:t.color})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ue,{value:((v=l.warehouse_id)==null?void 0:v.toString())||"",onValueChange:y=>o("warehouse_id",Number(y)),required:!0,children:[e.jsx(me,{name:"warehouse",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose warehouse..."})}),e.jsx(he,{className:"bg-white font-medium",children:n.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):n.map(y=>e.jsxs(B,{value:y.id.toString(),className:"text-sm font-medium text-slate-700",children:[y.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+y.code+"  "+y.location})]},y.code))})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ue,{value:l.type||"",onValueChange:y=>o("type",y),required:!0,children:[e.jsx(me,{name:"type",className:"flex flex-row items-center gap-3 bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose type..."})}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{className:"rounded-md",value:"retail",children:"Retail"},"retail"),e.jsx(B,{className:"rounded-md",value:"wholesale",children:"Wholesale"},"wholesale")]})]})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(A,{id:"unit",name:"unit",type:"text",required:!0,placeholder:"e.g. pcs...",value:l.unit||"",onChange:y=>o("unit",y.target.value)})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_quantity",className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx(A,{id:"stocks_quantity",name:"stocks_quantity",type:"number",min:0,max:9999999,required:!0,placeholder:"e.g. 100...",value:l.stocks_quantity||"",onChange:y=>o("stocks_quantity",Number(y.target.value))})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_unit",className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx(A,{id:"stocks_unit",name:"stocks_unit",type:"text",required:!0,placeholder:"e.g. pcs...",value:l.stocks_unit||"",onChange:y=>o("stocks_unit",y.target.value)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(A,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:l.capital_price||"",onChange:y=>{o("capital_price",Pe(y.target.value).value)},onBlur:y=>{y.target.value=Number(l.capital_price).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-2 grid grid-cols-5 gap-1",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"markup",className:"text-sm font-bold text-gray-600",children:"Markup"}),e.jsx(A,{id:"markup",name:"markup",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:p.toString()||"",onChange:y=>{j(Pe(y.target.value,{precision:3}).value)},onBlur:y=>{y.target.value=p.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-end gap-1",children:[e.jsx(A,{id:"markup_value",name:"markup_value",type:"number",min:0,max:1e3,step:.01,readOnly:!0,placeholder:"0.00",className:"pl-7",value:l.markup_price?l.markup_price.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"tax_amount",className:"text-sm font-bold text-gray-600",children:"Tax amount"}),e.jsx(A,{id:"tax_amount",name:"tax_amount",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:l.tax_amount||"",onChange:y=>{o("tax_amount",Pe(y.target.value).value)},onBlur:y=>{y.target.value=Number(l.tax_amount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(A,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:l.cost?l.cost.toFixed(2):"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(A,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,max:l.cost||0,step:.01,disabled:l.on_sale===void 0?!0:l.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:l.sale_discount||"",onChange:y=>{o("sale_discount",Pe(y.target.value).value)},onBlur:y=>{y.target.value=Number(l.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(A,{name:"on_sale",id:"on_sale",type:"checkbox",className:"h-4 w-fit",checked:l.on_sale===1||!1,onChange:y=>{o("on_sale",y.target.checked?1:0),o("sale_discount",0)}}),e.jsx(D,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(A,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((N=l.price)==null?void 0:N.toFixed(2))||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start gap-3",children:[e.jsx(sl,{id:"active_status",name:"active_status",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:l.active_status==="active"||!1,onCheckedChange:y=>{o("active_status",y?"active":"inactive")}}),e.jsx(D,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ue,{defaultValue:"pending",value:l.approval_status||"",onValueChange:y=>{o("approval_status",y),y==="approved"&&o("approved_by",r.user.id)},required:!0,children:[e.jsx(me,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(xe,{placeholder:"pending"})}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(B,{className:"rounded-md",value:"approved",children:"Approved"},"approved")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"created_by",className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx(A,{name:"created_by",className:"text-sm disabled:pointer-events-none",readOnly:!0,disabled:!0,value:r.user?r.user.firstname+" "+r.user.lastname:""})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between whitespace-nowrap pt-4",children:[e.jsx(k,{fill:"default",onClick:()=>a("product"),className:"flex-0 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Go back"}),e.jsx(k,{type:"submit",fill:"green",disabled:d||Object.keys(l).length<=6||l.warehouse_id===void 0||l.type===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Submitting...":"Add listing"})]}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:x})})]})})})},co=({onClose:t})=>{const{data:a,isLoading:s}=Dr(),[r,n]=h.useState("product"),[l,i]=h.useState({});return e.jsx(e.Fragment,{children:e.jsxs(Ka,{defaultValue:"product",className:"min-w-[42rem] max-w-2xl space-y-4",value:r,onValueChange:o=>n(o),children:[e.jsxs(Ha,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(lt,{value:"product",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Product"}),e.jsx(lt,{disabled:!l.name,value:"listings",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Listing"})]}),e.jsx(hs,{value:"product",children:e.jsx(lo,{products:a,selectedProduct:l,setSelectedProduct:i,isLoading:s,setOpenedTab:n,onClose:t})}),e.jsx(hs,{value:"listings",children:e.jsx(io,{product:l,setOpenedTab:n,onClose:t})})]})})},oo=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:r}=Ol(),[n,l]=h.useState(!1),[i,o]=h.useState(null),[c,d]=h.useState(),u=(x,m,p,j)=>{p.test(x.target.value)?(x.target.value=x.target.value,s(m,x.target.value),d(void 0)):d({type:m,error:j})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async x=>{l(!n),x.preventDefault();const m=await r({action:"add",data:a});(m==null?void 0:m.status)===201?(l(!n),t()):(l(!n),o("Failed to submit product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(A,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no||"",onChange:x=>{u(x,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(c&&c.type==="serial_no"),className:"text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(A,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name||"",onChange:x=>{u(x,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(A,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand||"",onChange:x=>{u(x,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(A,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size||"",onChange:x=>{u(x,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(c&&c.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(A,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color||"",onChange:x=>{u(x,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(c&&c.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:c==null?void 0:c.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(A,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",onBlur:x=>s("notes",x.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(k,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:n||Object.keys(a).length===0||c!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:n?"Submitting...":"Add product"})]}),i&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:i})})]})})})},uo=({onClose:t})=>{const{value:a,handleChange:s,handleSubmit:r}=Ol(),{selectedProduct:n}=al(),[l,i]=h.useState(!1),[o,c]=h.useState(null),[d,u]=h.useState(),x=(m,p,j,v)=>{j.test(m.target.value)?(m.target.value=m.target.value,s(p,m.target.value),u(void 0)):u({type:p,error:v})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async m=>{i(!l),m.preventDefault();const p=await r({action:"update",id:n.id,data:a});(p==null?void 0:p.status)===200?(i(!l),t()):(i(!l),c("Failed to update product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(A,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no!==void 0?a.serial_no:n.serial_no||"",onChange:m=>{x(m,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(d&&d.type==="serial_no"),className:"text-xs font-bold text-red-600",children:d==null?void 0:d.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(A,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name!==void 0?a.name:n.name||"",onChange:m=>{x(m,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(d&&d.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:d==null?void 0:d.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(A,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand!==void 0?a.brand:n.brand||"",onChange:m=>{x(m,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(d&&d.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:d==null?void 0:d.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(A,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size!==void 0?a.size:n.size||"",onChange:m=>{x(m,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(d&&d.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:d==null?void 0:d.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(A,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color!==void 0?a.color:n.color||"",onChange:m=>{x(m,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(d&&d.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:d==null?void 0:d.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(D,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(A,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",defaultValue:a.notes!==void 0?a.notes:n.notes||"",onBlur:m=>s("notes",m.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(k,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:l||Object.keys(a).length===0||d!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Applying...":"Apply changes"})]}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:o})})]})})})},Ah=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Products",children:e.jsxs(Qi,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ao,{openModal:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="add"?"Add Product":"Edit Product",children:e.jsxs(e.Fragment,{children:[r==="add"&&e.jsx(oo,{onClose:s}),r==="edit"&&e.jsx(uo,{onClose:s})]})})]})})})},mo=({onClose:t})=>{var j,v,N,y;const{auth:a}=we(),{value:s,setValue:r,handleChange:n,handleSubmit:l}=Rr(),{selectedProductPrice:i}=es(),[o,c]=h.useState(!1),[d,u]=h.useState(null),[x,m]=h.useState(Pe((i.markup_price/i.capital_price||1)*100,{precision:3}).value),p=()=>{const{approved_by:f,created_by:S,created_at:P,warehouse:I,updated_at:E,product:_,id:T,...M}=i;r(M),m(Pe((i.markup_price/i.capital_price||1)*100,{precision:3}).value)};return h.useEffect(()=>{},[s]),h.useEffect(()=>{const f=s.capital_price!==void 0?s.capital_price:i.capital_price||0,S=Pe(f).multiply(x/100);n("markup_price",S.value)},[s.capital_price,x]),h.useEffect(()=>{const f=s.capital_price!==void 0?s.capital_price:i.capital_price,S=s.markup_price!==void 0?s.markup_price:i.markup_price,P=s.tax_amount!==void 0?s.tax_amount:i.tax_amount;n("cost",Pe(f).add(S).add(P).value)},[s.capital_price,s.markup_price,s.tax_amount]),h.useEffect(()=>{const f=s.cost!==void 0?s.cost:i.cost,S=s.sale_discount!==void 0?s.sale_discount:i.sale_discount;n("price",Pe(f).subtract(S).value)},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async f=>{c(!o),f.preventDefault();const S=await l({action:"update",id:i.id,data:s});(S==null?void 0:S.status)===200?(c(!o),t()):(c(!o),u("Failed to update product listing"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:i.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:i.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:i.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:i.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:i.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse Code"}),e.jsx("p",{className:"text-sm",children:i.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:i.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-4 gap-3",children:[e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ue,{onValueChange:f=>n("type",f),value:s.type||i.type||"",required:!0,children:[e.jsx(me,{name:"type",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(xe,{placeholder:s.type||i.type||"Choose type..."})}),e.jsxs(he,{className:"bg-white",children:[e.jsx(B,{className:"rounded-md",value:"retail",children:"Retail"},"retail"),e.jsx(B,{className:"rounded-md",value:"wholesale",children:"Wholesale"},"wholesale")]})]})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(A,{id:"unit",name:"unit",type:"text",required:!0,value:s.unit||i.unit||"",onChange:f=>n("unit",f.target.value)})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_quantity",className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx(A,{id:"stocks_quantity",name:"stocks_quantity",type:"number",min:0,max:9999999,placeholder:"0",required:!0,value:s.stocks_quantity||i.stocks_quantity||"",onChange:f=>n("stocks_quantity",Number(f.target.value))})]}),e.jsxs("div",{className:"col-span-1 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_unit",className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx(A,{id:"stocks_unit",name:"stocks_unit",type:"text",required:!0,value:s.stocks_unit||i.stocks_unit||"",onChange:f=>n("stocks_unit",f.target.value)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(A,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:s.capital_price||i.capital_price.toFixed(2),onChange:f=>{n("capital_price",Pe(f.target.value).value)},onBlur:f=>{s.capital_price!==void 0?f.target.value=Number(s.capital_price).toFixed(2):i.capital_price.toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-2 grid grid-cols-5 gap-1",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"markup",className:"text-sm font-bold text-gray-600",children:"Markup"}),e.jsx(A,{id:"markup",name:"markup",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,placeholder:"0",value:x.toString(),onChange:f=>{m(Pe(f.target.value,{precision:3}).value)},onBlur:f=>{f.target.value=x.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-end gap-1",children:[e.jsx(A,{id:"markup_value",name:"markup_value",type:"number",min:0,max:1e3,readOnly:!0,placeholder:"0",className:"pl-7",value:((j=s.markup_price)==null?void 0:j.toFixed(2))||i.markup_price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"tax_amount",className:"text-sm font-bold text-gray-600",children:"Tax amount"}),e.jsx(A,{id:"tax_amount",name:"tax_amount",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,placeholder:"0.00",className:"pl-7",value:s.tax_amount||i.tax_amount.toFixed(2)||"0.00",onChange:f=>{n("tax_amount",Pe(f.target.value).value)},onBlur:f=>{s.tax_amount!==void 0?f.target.value=Number(s.tax_amount).toFixed(2):i.tax_amount.toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(A,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:((v=s.cost)==null?void 0:v.toFixed(2))||i.cost.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(A,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:i.cost,disabled:s.on_sale===void 0?i.on_sale===0:s.on_sale===0,required:!0,placeholder:"0.00",className:"pl-7",value:s.sale_discount||((N=i.sale_discount)==null?void 0:N.toFixed(2))||"0.00",onChange:f=>{n("sale_discount",Pe(f.target.value).value)},onBlur:f=>{f.target.value=Number(s.sale_discount!==void 0?s.sale_discount:i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(A,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?i.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:f=>{const S=document.getElementById("sale_discount");n("on_sale",f.target.checked?1:0),!f.target.checked&&(n("sale_discount",0),S&&(S.value="0.00"))}}),e.jsx(D,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(A,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((y=s.price)==null?void 0:y.toFixed(2))||i.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(sl,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":i.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:f=>{n("active_status",f?"active":"inactive")}}),e.jsx(D,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:i.created_by.firstname+" "+i.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:ze(i.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ue,{onValueChange:f=>{n("approval_status",f),f==="approved"?n("approved_by",a.user.id):n("approved_by","")},value:s.approval_status||i.approval_status||"",required:!0,children:[e.jsx(me,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(xe,{placeholder:s.approval_status||i.approval_status||"Select status..."})}),e.jsxs(he,{className:"bg-white",children:[e.jsx(B,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(B,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(B,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:i.approved_by?i.approved_by.firstname+" "+i.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:ze(i.updated_at)})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between pt-4",children:[e.jsx("div",{className:"flex flex-row",children:e.jsx(k,{type:"reset",fill:"default",disabled:o||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:p,children:"Reset"})}),e.jsxs("div",{className:"flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(k,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:o||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Applying changes...":"Apply changes"})]})]}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:d})})]})})})},Ih=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState("");console.log("modal state: ",t);const l=(i,o)=>{n(o),a()};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Product Listings",children:e.jsxs(rl,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(so,{openModal:l,isModalOpen:t})})}),e.jsx(at,{title:r==="add"?"Add Listing":r==="details"?"Listing Details":r==="edit"?"Edit Listing":r==="toggle_active_stat"?"Toggle Active Status":"",isOpen:t,onClose:s,children:e.jsxs(e.Fragment,{children:[r==="add"&&e.jsx(co,{onClose:s}),r==="details"&&e.jsx(ro,{onClose:s}),r==="edit"&&e.jsx(mo,{onClose:s}),r==="toggle_active_stat"&&e.jsx(no,{onClose:s})]})})]})})})},xo=()=>{const t=$e(),{transfers:a}=ht(),{auth:s}=we(),{warehouses:r}=ya(),n=a[0]?a[a.length-1].id+1:1,[l,i]=h.useState(!1),[o,c]=h.useState(!1),[d,u]=h.useState(null),[x,m]=h.useState(null),[p,j]=h.useState(null),[v,N]=h.useState(),[y,f]=h.useState(),[S,P]=h.useState(),[I,E]=h.useState({});h.useEffect(()=>{E($=>({...$,approval_status:"pending",created_by:s.user.id,transfer_schedule:""}))},[]);const _=()=>{const $=Object.keys(I).map(b=>({text:b})),U=$.length===6||$.length>6;if(U){const b=I.source!==I.destination;if(b){const Y=I.transfer_schedule!=="";return Y?[Y,""]:[Y,"Please fill up transfer schedule"]}else return[b,"You cannot have the same source and destination"]}else return[U,"Please fill up all fields"]},T=$=>{i(!0),m(null),u(null),E(U=>({...U,[$.target.name]:$.target.value}))},M=($,U)=>{i(!0),m(null),u(null),j(U);const b=U.getMonth()+1<10?"0"+(U.getMonth()+1).toString():U.getMonth()+1,Y=U.getDate()<10?"0"+U.getDate().toString():U.getDate();P(U.getFullYear()+""+b+Y);const le=U.getFullYear()+"-"+(U.getMonth()+1)+"-"+U.getDate()+" "+U.getHours()+":"+U.getMinutes()+":"+U.getSeconds();E(W=>({...W,transfer_schedule:le}))},L=($,U)=>{var b,Y;i(!0),m(null),u(null),E(le=>({...le,[$]:U})),$==="source"?N((b=r.find(le=>le.id===U))==null?void 0:b.code):f((Y=r.find(le=>le.id===U))==null?void 0:Y.code)},F=async()=>{if(v&&y&&S){const $="TRF-"+v+"-"+y+"-"+S+"-"+n;E(U=>({...U,code:$}))}};h.useEffect(()=>{async function $(){if(I.code){const U=_();if(c(!0),U[0])return V(I);u(U[1]),c(!1)}}$()},[I.code]);const z={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer"]}),c(!1),i(!1),m("Transfer info has been added")},onError:$=>{console.error($),u($.message),c(!1)}},{mutateAsync:V}=ne({mutationKey:["addTransfer"],mutationFn:Zi,...z});return{transfer:I,lastId:n,isChanged:l,isSubmitting:o,error:d,success:x,dateDisplay:p,handleSubmit:F,handleChange:T,handleChangeSelect:L,handleChangeDateTime:M,addTransferMutation:V}},Pl=()=>{const t=$e(),[a,s]=h.useState({}),r=(c,d)=>{s(u=>({...u,[c]:d}))},n=async c=>{if(console.log("Submitting: ",c),c.action==="add")return await i(c.data);if(c.action==="update")return await o({id:c.id,data:c.data});{const d="No data to submit. Function requires at least one parameter.";return console.error(d),{status:400,data:d}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]})},onError:c=>{console.error("Inventory Data failed",c)}},{mutateAsync:i}=ne({mutationKey:["addInventory"],mutationFn:Gi,...l}),{mutateAsync:o}=ne({mutationKey:["patchInventory"],mutationFn:Xi,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n}},qr=()=>{const t=$e(),[a,s]=h.useState({}),r=(d,u)=>{s(x=>({...x,[d]:u}))},n=async d=>{if(console.log("Submitting: ",d),d.action==="add")return await i(d.data);if(d.action==="batch-add")return await o(d.data);if(d.action==="update")return await c({id:d.id,data:d.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventoryProductById"]})},onError:d=>{console.error("Inventory Product Data failed",d)}},{mutateAsync:i}=ne({mutationKey:["addInventoryProduct"],mutationFn:Ji,...l}),{mutateAsync:o}=ne({mutationKey:["addInventoryProducts"],mutationFn:ec,...l}),{mutateAsync:c}=ne({mutationKey:["patchInventoryProduct"],mutationFn:tc,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n}},Al=()=>{const t=$e(),{transfers:a,transferProducts:s,selectedTransfer:r}=ht(),n=s.filter(K=>K.transfer_id===r.id),{auth:l}=we(),{warehouses:i}=ya(),[o,c]=h.useState(!1),[d,u]=h.useState(!1);h.useState(!1);const[x,m]=h.useState(!1);h.useState(!1);const[p,j]=h.useState(!1),{data:v}=nl(),[N,y]=h.useState(0),[f,S]=h.useState(!1),[P,I]=h.useState(!1),[E,_]=h.useState(null),[T,M]=h.useState(null),[L,F]=h.useState(new Date),[z,V]=h.useState(new Date),[$,U]=h.useState(""),[b,Y]=h.useState(),le=a[a.length-1].id+1,[W,Z]=h.useState({});if(h.useEffect(()=>{r&&(Z({id:r.id,code:r.code,created_by:r.created_by.id,source:r.source.id,destination:r.destination.id,transfer_schedule:r.transfer_schedule,approval_status:r.approval_status,approved_by:r.approved_by?r.approved_by.id:null,transfer_status:r.transfer_status,date_received:r.date_received,received_by:r.received_by?r.received_by.id:null,notes:r.notes}),F(new Date(r.transfer_schedule)),r.date_received?V(new Date(r.date_received)):V(new Date(r.transfer_schedule)))},[r]),W.code==""){const K=W.transfer_schedule.split(" ")[0].split("-").join(""),Q="TRF-"+r.source.code+"-"+r.destination.code+"-"+K+"-"+le;Z(pe=>({...pe,code:Q}))}const ce=()=>{const K=W.source!==W.destination;if(K){const Q=W.transfer_status==="arrived"?!!(W.received_by&&W.date_received):!0;if(Q)return[Q,""];{const pe=`Fields you need to fill: ${W.received_by?"":"received by"} 
									${!W.date_received&&!W.received_by?" and ":""}
									${W.date_received?"":"date received"}`;return[Q,pe]}}else return[K,"You cannot have the same source and destination"]},oe=K=>{S(!0),M(null),_(null),Z(Q=>({...Q,[K.target.name]:K.target.value}))},de=(K,Q)=>{S(!0),M(null),_(null),U(K),Y(Q),K==="transfer_schedule"?F(Q):V(Q)};h.useEffect(()=>{async function K(){if($&&b){const Q=b.getFullYear()+"-"+(b.getMonth()+1)+"-"+b.getDate()+" "+b.getHours()+":"+b.getMinutes()+":"+b.getSeconds();Z(pe=>({...pe,[$]:Q}))}}K()},[L,z]);const G=(K,Q)=>{S(!0),M(null),_(null),Z(pe=>({...pe,[K]:Q}))};h.useEffect(()=>{W.approval_status==="approved"?Z(K=>({...K,approved_by:l.user.id})):W.approval_status==="rejected"&&j(!0)},[W.approval_status]),h.useEffect(()=>{W.transfer_status==="arrived"?c(!0):c(!1)},[W.transfer_status]),h.useEffect(()=>{if(d){async function K(){const pe={code:"INV-"+i.filter(ot=>ot.id===W.destination)[0].code+"-TRA-"+r.code.split("-")[3]+"-"+(Number(v.length)+1).toString(),warehouse_id:W.destination,created_by:W.created_by,date_received:W.date_received,type:"transfer",transfer_id:W.id,notes:W.notes},ve=await Ue(pe);y(ve.data.data.id)}K()}},[d]);async function Te(){await nc(n,N).then(async K=>{I(!1),S(!1),M("Transfer info has been edited")}).catch(K=>{throw console.error("Error updating inventory products:",K),K})}h.useEffect(()=>{N!=0&&Te()},[N]);const Le=async()=>{const K=ce();if(I(!0),K[0])if(o)await Ie(W);else return await Ie(W);else _(K[1]),I(!1)},Me={onSuccess:async()=>{if(await t.invalidateQueries({queryKey:["transfer"]}),o)u(!0);else{if(p)return await ge(n);I(!1),S(!1),M("Transfer info has been edited")}},onError:K=>{console.error(K),_(K.message),I(!1)}},{mutateAsync:Ie}=ne({mutationKey:["editTransfer"],mutationFn:ac,...Me}),De={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]}),m(!0)},onError:K=>{console.error(K),_(K.message),I(!1)}},{mutateAsync:Ue}=ne({mutationKey:["addInventory"],mutationFn:sc,...De}),be={onSuccess:async()=>{await t.invalidateQueries({queryKey:["initInventoryProduct"]}),I(!1),S(!1),M("Transfer info has been edited")},onError:K=>{console.error(K),_(K.message),I(!1)}},{mutateAsync:ge}=ne({mutationKey:["initInventoryProduct"],mutationFn:rc,...be});return{transfer:W,selectedTransfer:r,lastId:le,isChanged:f,isSubmitting:P,error:E,success:T,dateDisplay:L,dateDisplayArrived:z,handleSubmit:Le,handleChange:oe,handleChangeSelect:G,handleChangeDateTime:de,editTransferMutation:Ie}},ho=()=>{const t=$e(),{transfers:a,transferProducts:s,selectedProduct:r,selectedTransfer:n}=ht();we();const{data:l}=Dr(),{data:i}=lc(),{data:o}=nl(),c=o.filter(b=>b.warehouse.id===n.source.id),d=i.filter(b=>c.map(Y=>Y.id).includes(b.inventory_id)&&b.capital_price>0&&b.remaining_stocks_count&&b.remaining_stocks_count>0),[u,x]=h.useState(0),[m,p]=h.useState(0),[j,v]=h.useState(0),[N,y]=h.useState(!1),[f,S]=h.useState(!1),[P,I]=h.useState(null),[E,_]=h.useState(null),[T,M]=h.useState({});h.useEffect(()=>{M(b=>({...b,id:s.length+1,transfer_id:n.id}))},[]);const L=b=>{y(!0),_(null),I(null),M(Y=>({...Y,[b.target.name]:Number(b.target.value)}))},F=(b,Y,le)=>{y(!0),_(null),I(null);const W=d[le],Z=W.id,ce=W.capital_price,oe=W.bundles_unit,de=W.unit,G=W.quantity_per_bundle;M(Te=>({...Te,[b]:Y,capital_price:ce,bundles_unit:oe,unit:de,quantity_per_bundle:G,source_inventory:Z})),x(W.remaining_stocks_count?W.remaining_stocks_count/W.quantity_per_bundle:0),p(W.remaining_stocks_count?W.remaining_stocks_count:0),v(W.damage_count)};h.useEffect(()=>{T.bundles_count&&T.quantity_per_bundle?M(b=>({...b,total_quantity:T.bundles_count*T.quantity_per_bundle})):M(b=>({...b,total_quantity:0}))},[T]);const z=()=>{const Y=Object.keys(T).map(le=>({text:le})).length===10;return Y?T.bundles_count>u?[!1,"Bundles count input is greater than the current stock quantity."]:[!0,""]:[Y,"Please fill up all fields"]},V=async()=>{S(!0);const b=z();if(b[0])return await U(T);I(b[1]),S(!1)},$={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer-product"]}),S(!1),y(!1),_("Transfer product has been added")},onError:b=>{console.error(b),I(b.message),S(!1)}},{mutateAsync:U}=ne({mutationKey:["addTransferProduct"],mutationFn:ic,...$});return{product:T,allProducts:l,allInventoryProducts:i,filteredProductsSrc:d,bundlesLimit:u,quantityLimit:m,damagedCount:j,isChanged:N,isSubmitting:f,error:P,success:E,handleSubmit:V,handleChange:L,handleChangeSelect:F,addProductMutation:U}},fo=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,setSelectedTransfer:n}=ht();we();const l=u=>{n(u),t(u,"details")},i=u=>{n(u),t(u,"edit")},o=u=>{n(u),t(u,"products")},c=()=>{t({},"add")},d=[{id:"select",header:({table:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsAllPageRowsSelected(),onChange:x=>u.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:u})=>e.jsx("input",{type:"checkbox",checked:u.getIsSelected(),onChange:x=>u.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",sortingFn:"basic",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER ID ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.code?u.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:u})=>{const x=u.original.source,m=u.original.destination;return e.jsxs("div",{className:"text-center",children:[x.code,"-",m.code]})}},{id:"transfer_products",header:()=>e.jsx("div",{className:"text-center",children:"PRODUCTS ADDED?"}),cell:({row:u})=>e.jsx("div",{className:"flex justify-center",children:s.filter(x=>x.transfer_id===u.original.id).length>0?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"})})},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>e.jsx("div",{className:"text-center",children:u.original.transfer_status?u.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>{const x=u.getValue("transfer_schedule");if(x.toString()!=="0000-00-00 00:00:00"){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},p=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:p})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:u})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>u.toggleSorting(u.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",u.getIsSorted()==="asc"?e.jsx(J,{}):u.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:u})=>{const x=u.getValue("date_received");if(x){const m={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},p=new Date(x).toLocaleDateString([],m);return e.jsx("div",{className:"text-center",children:p})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:u})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:u.original.approval_status.toLowerCase()==="approved"?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):u.original.approval_status.toLowerCase()==="rejected"?e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Ja,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:u})=>{const x=u.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>l(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Details"})]}),e.jsxs(Ae,{onClick:()=>i(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit Transfer"})]}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>o(x),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:x.transfer_status!="arrived"&&x.approval_status!="rejected"?e.jsx(aa,{size:16,strokeWidth:2.25}):e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Products"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:d,filterWhat:"approval_status",dataType:"Transfer",openModal:c,isLoading:r})})},po=({onClose:t})=>{const{selectedTransfer:a}=ht();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":ze(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?ze(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})};var Oe=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},go=["onCopy","onCut","onPaste"],vo=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],yo=["onFocus","onBlur"],jo=["onInput","onInvalid","onReset","onSubmit"],bo=["onLoad","onError"],No=["onKeyDown","onKeyPress","onKeyUp"],wo=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],_o=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],So=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Co=["onSelect"],ko=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Do=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],To=["onScroll"],Oo=["onWheel"],Po=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Ao=["onTransitionEnd"],Io=["onToggle"],Fo=["onChange"],Eo=Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe(Oe([],go,!0),vo,!0),yo,!0),jo,!0),bo,!0),No,!0),wo,!0),_o,!0),So,!0),Co,!0),ko,!0),Do,!0),To,!0),Oo,!0),Po,!0),Ao,!0),Fo,!0),Io,!0);function Lo(t,a){var s={};return Eo.forEach(function(r){var n=t[r];n&&(a?s[r]=function(l){return n(l,a(r))}:s[r]=n)}),s}var Mo="Expected a function",Il="__lodash_hash_undefined__",Wo="[object Function]",Ro="[object GeneratorFunction]",qo=/[\\^$.*+?()[\]{}|]/g,zo=/^\[object .+?Constructor\]$/,Uo=typeof ns=="object"&&ns&&ns.Object===Object&&ns,Vo=typeof self=="object"&&self&&self.Object===Object&&self,Fl=Uo||Vo||Function("return this")();function Ko(t,a){return t==null?void 0:t[a]}function Ho(t){var a=!1;if(t!=null&&typeof t.toString!="function")try{a=!!(t+"")}catch{}return a}var $o=Array.prototype,Bo=Function.prototype,El=Object.prototype,Ms=Fl["__core-js_shared__"],xn=function(){var t=/[^.]+$/.exec(Ms&&Ms.keys&&Ms.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ll=Bo.toString,zr=El.hasOwnProperty,Yo=El.toString,Qo=RegExp("^"+Ll.call(zr).replace(qo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zo=$o.splice,Go=Ml(Fl,"Map"),$a=Ml(Object,"create");function va(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function Xo(){this.__data__=$a?$a(null):{}}function Jo(t){return this.has(t)&&delete this.__data__[t]}function ed(t){var a=this.__data__;if($a){var s=a[t];return s===Il?void 0:s}return zr.call(a,t)?a[t]:void 0}function td(t){var a=this.__data__;return $a?a[t]!==void 0:zr.call(a,t)}function ad(t,a){var s=this.__data__;return s[t]=$a&&a===void 0?Il:a,this}va.prototype.clear=Xo;va.prototype.delete=Jo;va.prototype.get=ed;va.prototype.has=td;va.prototype.set=ad;function Ia(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function sd(){this.__data__=[]}function rd(t){var a=this.__data__,s=bs(a,t);if(s<0)return!1;var r=a.length-1;return s==r?a.pop():Zo.call(a,s,1),!0}function nd(t){var a=this.__data__,s=bs(a,t);return s<0?void 0:a[s][1]}function ld(t){return bs(this.__data__,t)>-1}function id(t,a){var s=this.__data__,r=bs(s,t);return r<0?s.push([t,a]):s[r][1]=a,this}Ia.prototype.clear=sd;Ia.prototype.delete=rd;Ia.prototype.get=nd;Ia.prototype.has=ld;Ia.prototype.set=id;function ja(t){var a=-1,s=t?t.length:0;for(this.clear();++a<s;){var r=t[a];this.set(r[0],r[1])}}function cd(){this.__data__={hash:new va,map:new(Go||Ia),string:new va}}function od(t){return Ns(this,t).delete(t)}function dd(t){return Ns(this,t).get(t)}function ud(t){return Ns(this,t).has(t)}function md(t,a){return Ns(this,t).set(t,a),this}ja.prototype.clear=cd;ja.prototype.delete=od;ja.prototype.get=dd;ja.prototype.has=ud;ja.prototype.set=md;function bs(t,a){for(var s=t.length;s--;)if(gd(t[s][0],a))return s;return-1}function xd(t){if(!Wl(t)||fd(t))return!1;var a=vd(t)||Ho(t)?Qo:zo;return a.test(pd(t))}function Ns(t,a){var s=t.__data__;return hd(a)?s[typeof a=="string"?"string":"hash"]:s.map}function Ml(t,a){var s=Ko(t,a);return xd(s)?s:void 0}function hd(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}function fd(t){return!!xn&&xn in t}function pd(t){if(t!=null){try{return Ll.call(t)}catch{}try{return t+""}catch{}}return""}function Ur(t,a){if(typeof t!="function"||a&&typeof a!="function")throw new TypeError(Mo);var s=function(){var r=arguments,n=a?a.apply(this,r):r[0],l=s.cache;if(l.has(n))return l.get(n);var i=t.apply(this,r);return s.cache=l.set(n,i),i};return s.cache=new(Ur.Cache||ja),s}Ur.Cache=ja;function gd(t,a){return t===a||t!==t&&a!==a}function vd(t){var a=Wl(t)?Yo.call(t):"";return a==Wo||a==Ro}function Wl(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}var yd=Ur;const Rl=ll(yd);function ql(t){return JSON.stringify(t)}function jd(t){return typeof t=="string"}function bd(t,a,s){return s.indexOf(t)===a}function Nd(t){return t.toLowerCase()===t}function hn(t){return t.indexOf(",")===-1?t:t.split(",")}function sr(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var a=t.split(".")[0],s=a===void 0?"":a;return sr(s)}if(t.indexOf("@")!==-1){var r=t.split("@")[0],s=r===void 0?"":r;return sr(s)}if(t.indexOf("-")===-1||!Nd(t))return t;var n=t.split("-"),l=n[0],i=n[1],o=i===void 0?"":i;return"".concat(l,"-").concat(o.toUpperCase())}function wd(t){var a=t===void 0?{}:t,s=a.useFallbackLocale,r=s===void 0?!0:s,n=a.fallbackLocale,l=n===void 0?"en-US":n,i=[];if(typeof navigator<"u"){for(var o=navigator.languages||[],c=[],d=0,u=o;d<u.length;d++){var x=u[d];c=c.concat(hn(x))}var m=navigator.language,p=m&&hn(m);i=i.concat(c,p)}return r&&i.push(l),i.filter(jd).map(sr).filter(bd)}var _d=Rl(wd,ql);function Sd(t){return _d(t)[0]||null}var zl=Rl(Sd,ql);const Fa=zl;function Rt(t,a,s){return function(n,l){l===void 0&&(l=s);var i=t(n)+l;return a(i)}}function ts(t){return function(s){return new Date(t(s).getTime()-1)}}function as(t,a){return function(r){return[t(r),a(r)]}}function re(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var a=parseInt(t,10);if(typeof t=="string"&&!isNaN(a))return a;throw new Error("Failed to get year from date: ".concat(t,"."))}function ra(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Tt(t){if(t instanceof Date)return t.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(t,"."))}function At(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function He(t){if(t instanceof Date)return t.getHours();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[0];if(s){var r=parseInt(s,10);if(!isNaN(r))return r}}}throw new Error("Failed to get hours from date: ".concat(t,"."))}function Ot(t){if(t instanceof Date)return t.getMinutes();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[1]||"0",r=parseInt(s,10);if(!isNaN(r))return r}}throw new Error("Failed to get minutes from date: ".concat(t,"."))}function pa(t){if(t instanceof Date)return t.getSeconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",r=parseInt(s,10);if(!isNaN(r))return r}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Ws(t){if(t instanceof Date)return t.getMilliseconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var s=a[2]||"0",r=s.split(".")[1]||"0",n=parseInt(r,10);if(!isNaN(n))return n}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Ea(t){var a=re(t),s=a+(-a+1)%100,r=new Date;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}var Cd=Rt(re,Ea,-100),Ul=Rt(re,Ea,100),Vr=ts(Ul),kd=Rt(re,Vr,-100),Vl=as(Ea,Vr);function na(t){var a=re(t),s=a+(-a+1)%10,r=new Date;return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}var Kl=Rt(re,na,-10),Kr=Rt(re,na,10),ws=ts(Kr),Hl=Rt(re,ws,-10),$l=as(na,ws);function La(t){var a=re(t),s=new Date;return s.setFullYear(a,0,1),s.setHours(0,0,0,0),s}var Bl=Rt(re,La,-1),Hr=Rt(re,La,1),_s=ts(Hr),Yl=Rt(re,_s,-1),Dd=as(La,_s);function $r(t,a){return function(r,n){n===void 0&&(n=a);var l=re(r),i=ra(r)+n,o=new Date;return o.setFullYear(l,i,1),o.setHours(0,0,0,0),t(o)}}function ba(t){var a=re(t),s=ra(t),r=new Date;return r.setFullYear(a,s,1),r.setHours(0,0,0,0),r}var Ql=$r(ba,-1),Br=$r(ba,1),ss=ts(Br),Zl=$r(ss,-1),Td=as(ba,ss);function Od(t,a){return function(r,n){n===void 0&&(n=a);var l=re(r),i=ra(r),o=At(r)+n,c=new Date;return c.setFullYear(l,i,o),c.setHours(0,0,0,0),t(c)}}function rs(t){var a=re(t),s=ra(t),r=At(t),n=new Date;return n.setFullYear(a,s,r),n.setHours(0,0,0,0),n}var Pd=Od(rs,1),Yr=ts(Pd),Ad=as(rs,Yr);function Qr(t){return At(ss(t))}function Zt(t,a){a===void 0&&(a=2);var s="".concat(t);return s.length>=a?t:"0000".concat(s).slice(-a)}function Id(t){var a=Zt(He(t)),s=Zt(Ot(t));return"".concat(a,":").concat(s)}function rr(t){var a=Zt(He(t)),s=Zt(Ot(t)),r=Zt(pa(t));return"".concat(a,":").concat(s,":").concat(r)}function nr(t){var a=Zt(re(t),4),s=Zt(Tt(t)),r=Zt(At(t));return"".concat(a,"-").concat(s,"-").concat(r)}function Fd(t){return"".concat(nr(t),"T").concat(rr(t))}var qa,fe={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},ka={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},Ed=(qa={},qa[fe.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],qa[fe.HEBREW]=["he","he-IL"],qa[fe.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],qa),Zr=[0,1,2,3,4,5,6],Rs=new Map;function Ld(t){return function(s,r){var n=s||Fa();Rs.has(n)||Rs.set(n,new Map);var l=Rs.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}function Md(t){var a=new Date(t);return new Date(a.setHours(12))}function Na(t){return function(a,s){return Ld(t)(a,Md(s))}}var Wd={day:"numeric"},Rd={day:"numeric",month:"long",year:"numeric"},qd={month:"long"},zd={month:"long",year:"numeric"},Ud={weekday:"short"},Vd={weekday:"long"},Kd={year:"numeric"},Hd=Na(Wd),$d=Na(Rd),Bd=Na(qd),Gl=Na(zd),Yd=Na(Ud),Qd=Na(Vd),Ss=Na(Kd),Zd=Zr[0],Gd=Zr[5],fn=Zr[6];function Ba(t,a){a===void 0&&(a=fe.ISO_8601);var s=t.getDay();switch(a){case fe.ISO_8601:return(s+6)%7;case fe.ISLAMIC:return(s+1)%7;case fe.HEBREW:case fe.GREGORY:return s;default:throw new Error("Unsupported calendar type.")}}function Xd(t){var a=Ea(t);return re(a)}function Jd(t){var a=na(t);return re(a)}function lr(t,a){a===void 0&&(a=fe.ISO_8601);var s=re(t),r=ra(t),n=t.getDate()-Ba(t,a);return new Date(s,r,n)}function eu(t,a){a===void 0&&(a=fe.ISO_8601);var s=a===fe.GREGORY?fe.GREGORY:fe.ISO_8601,r=lr(t,a),n=re(t)+1,l,i;do l=new Date(n,0,s===fe.ISO_8601?4:1),i=lr(l,a),n-=1;while(t<i);return Math.round((r.getTime()-i.getTime())/(864e5*7))+1}function ga(t,a){switch(t){case"century":return Ea(a);case"decade":return na(a);case"year":return La(a);case"month":return ba(a);case"day":return rs(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function tu(t,a){switch(t){case"century":return Cd(a);case"decade":return Kl(a);case"year":return Bl(a);case"month":return Ql(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Xl(t,a){switch(t){case"century":return Ul(a);case"decade":return Kr(a);case"year":return Hr(a);case"month":return Br(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function au(t,a){switch(t){case"decade":return Kl(a,-100);case"year":return Bl(a,-10);case"month":return Ql(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function su(t,a){switch(t){case"decade":return Kr(a,100);case"year":return Hr(a,10);case"month":return Br(a,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function Jl(t,a){switch(t){case"century":return Vr(a);case"decade":return ws(a);case"year":return _s(a);case"month":return ss(a);case"day":return Yr(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function ru(t,a){switch(t){case"century":return kd(a);case"decade":return Hl(a);case"year":return Yl(a);case"month":return Zl(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function nu(t,a){switch(t){case"decade":return Hl(a,-100);case"year":return Yl(a,-10);case"month":return Zl(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function pn(t,a){switch(t){case"century":return Vl(a);case"decade":return $l(a);case"year":return Dd(a);case"month":return Td(a);case"day":return Ad(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function lu(t,a,s){var r=[a,s].sort(function(n,l){return n.getTime()-l.getTime()});return[ga(t,r[0]),Jl(t,r[1])]}function ei(t,a,s){return a===void 0&&(a=Ss),s.map(function(r){return a(t,r)}).join("  ")}function iu(t,a,s){return ei(t,a,Vl(s))}function ti(t,a,s){return ei(t,a,$l(s))}function cu(t){return t.getDay()===new Date().getDay()}function ai(t,a){a===void 0&&(a=fe.ISO_8601);var s=t.getDay();switch(a){case fe.ISLAMIC:case fe.HEBREW:return s===Gd||s===fn;case fe.ISO_8601:case fe.GREGORY:return s===fn||s===Zd;default:throw new Error("Unsupported calendar type.")}}var pt="react-calendar__navigation";function ou(t){var a=t.activeStartDate,s=t.drillUp,r=t.formatMonthYear,n=r===void 0?Gl:r,l=t.formatYear,i=l===void 0?Ss:l,o=t.locale,c=t.maxDate,d=t.minDate,u=t.navigationAriaLabel,x=u===void 0?"":u,m=t.navigationAriaLive,p=t.navigationLabel,j=t.next2AriaLabel,v=j===void 0?"":j,N=t.next2Label,y=N===void 0?"":N,f=t.nextAriaLabel,S=f===void 0?"":f,P=t.nextLabel,I=P===void 0?"":P,E=t.prev2AriaLabel,_=E===void 0?"":E,T=t.prev2Label,M=T===void 0?"":T,L=t.prevAriaLabel,F=L===void 0?"":L,z=t.prevLabel,V=z===void 0?"":z,$=t.setActiveStartDate,U=t.showDoubleView,b=t.view,Y=t.views,le=Y.indexOf(b)>0,W=b!=="century",Z=tu(b,a),ce=W?au(b,a):void 0,oe=Xl(b,a),de=W?su(b,a):void 0,G=function(){if(Z.getFullYear()<0)return!0;var Q=ru(b,a);return d&&d>=Q}(),Te=W&&function(){if(ce.getFullYear()<0)return!0;var Q=nu(b,a);return d&&d>=Q}(),Le=c&&c<oe,Me=W&&c&&c<de;function Ie(){$(Z,"prev")}function De(){$(ce,"prev2")}function Ue(){$(oe,"next")}function be(){$(de,"next2")}function ge(Q){var pe=function(){switch(b){case"century":return iu(o,i,Q);case"decade":return ti(o,i,Q);case"year":return i(o,Q);case"month":return n(o,Q);default:throw new Error("Invalid view: ".concat(b,"."))}}();return p?p({date:Q,label:pe,locale:o||zl()||void 0,view:b}):pe}function K(){var Q="".concat(pt,"__label");return w.createElement("button",{"aria-label":x,"aria-live":m,className:Q,disabled:!le,onClick:s,style:{flexGrow:1},type:"button"},w.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--from")},ge(a)),U?w.createElement(w.Fragment,null,w.createElement("span",{className:"".concat(Q,"__divider")},"  "),w.createElement("span",{className:"".concat(Q,"__labelText ").concat(Q,"__labelText--to")},ge(oe))):null)}return w.createElement("div",{className:pt},M!==null&&W?w.createElement("button",{"aria-label":_,className:"".concat(pt,"__arrow ").concat(pt,"__prev2-button"),disabled:Te,onClick:De,type:"button"},M):null,V!==null&&w.createElement("button",{"aria-label":F,className:"".concat(pt,"__arrow ").concat(pt,"__prev-button"),disabled:G,onClick:Ie,type:"button"},V),K(),I!==null&&w.createElement("button",{"aria-label":S,className:"".concat(pt,"__arrow ").concat(pt,"__next-button"),disabled:Le,onClick:Ue,type:"button"},I),y!==null&&W?w.createElement("button",{"aria-label":v,className:"".concat(pt,"__arrow ").concat(pt,"__next2-button"),disabled:Me,onClick:be,type:"button"},y):null)}var Da=globalThis&&globalThis.__assign||function(){return Da=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Da.apply(this,arguments)},du=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function gn(t){return"".concat(t,"%")}function Gr(t){var a=t.children,s=t.className,r=t.count,n=t.direction,l=t.offset,i=t.style,o=t.wrap,c=du(t,["children","className","count","direction","offset","style","wrap"]);return w.createElement("div",Da({className:s,style:Da({display:"flex",flexDirection:n,flexWrap:o?"wrap":"nowrap"},i)},c),w.Children.map(a,function(d,u){var x=l&&u===0?gn(100*l/r):null;return w.cloneElement(d,Da(Da({},d.props),{style:{flexBasis:gn(100/r),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:x,marginInlineStart:x,marginInlineEnd:0}}))}))}var uu=function(){},mu=uu;const xu=ll(mu);var Ca;function hu(t,a,s){return a&&a>t?a:s&&s<t?s:t}function Ya(t,a){return a[0]<=t&&a[1]>=t}function fu(t,a){return t[0]<=a[0]&&t[1]>=a[1]}function si(t,a){return Ya(t[0],a)||Ya(t[1],a)}function vn(t,a,s){var r=si(a,t),n=[];if(r){n.push(s);var l=Ya(t[0],a),i=Ya(t[1],a);l&&n.push("".concat(s,"Start")),i&&n.push("".concat(s,"End")),l&&i&&n.push("".concat(s,"BothEnds"))}return n}function pu(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function gu(t){if(!t)throw new Error("args is required");var a=t.value,s=t.date,r=t.hover,n="react-calendar__tile",l=[n];if(!s)return l;var i=new Date,o=function(){if(Array.isArray(s))return s;var p=t.dateType;if(!p)throw new Error("dateType is required when date is not an array of two dates");return pn(p,s)}();if(Ya(i,o)&&l.push("".concat(n,"--now")),!a||!pu(a))return l;var c=function(){if(Array.isArray(a))return a;var p=t.valueType;if(!p)throw new Error("valueType is required when value is not an array of two dates");return pn(p,a)}();fu(c,o)?l.push("".concat(n,"--active")):si(c,o)&&l.push("".concat(n,"--hasActive"));var d=vn(c,o,"".concat(n,"--range"));l.push.apply(l,d);var u=Array.isArray(a)?a:[a];if(r&&u.length===1){var x=r>c[0]?[c[0],r]:[r,c[0]],m=vn(x,o,"".concat(n,"--hover"));l.push.apply(l,m)}return l}var vu=(Ca={},Ca[ka.ARABIC]=fe.ISLAMIC,Ca[ka.HEBREW]=fe.HEBREW,Ca[ka.ISO_8601]=fe.ISO_8601,Ca[ka.US]=fe.GREGORY,Ca);function yu(t){return t!==void 0&&t in ka}var yn=!1;function Cs(t){if(yu(t)){var a=vu[t];return xu(yn,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(a,'" instead.')),yn=!0,a}return t}function ks(t){for(var a=t.className,s=t.count,r=s===void 0?3:s,n=t.dateTransform,l=t.dateType,i=t.end,o=t.hover,c=t.offset,d=t.renderTile,u=t.start,x=t.step,m=x===void 0?1:x,p=t.value,j=t.valueType,v=[],N=u;N<=i;N+=m){var y=n(N);v.push(d({classes:gu({date:y,dateType:l,hover:o,value:p,valueType:j}),date:y}))}return w.createElement(Gr,{className:a,count:r,offset:c,wrap:!0},v)}function Ds(t){var a=t.activeStartDate,s=t.children,r=t.classes,n=t.date,l=t.formatAbbr,i=t.locale,o=t.maxDate,c=t.maxDateTransform,d=t.minDate,u=t.minDateTransform,x=t.onClick,m=t.onMouseOver,p=t.style,j=t.tileClassName,v=t.tileContent,N=t.tileDisabled,y=t.view,f=h.useMemo(function(){var P={activeStartDate:a,date:n,view:y};return typeof j=="function"?j(P):j},[a,n,j,y]),S=h.useMemo(function(){var P={activeStartDate:a,date:n,view:y};return typeof v=="function"?v(P):v},[a,n,v,y]);return w.createElement("button",{className:it(r,f),disabled:d&&u(d)>n||o&&c(o)<n||N&&N({activeStartDate:a,date:n,view:y}),onClick:x?function(P){return x(n,P)}:void 0,onFocus:m?function(){return m(n)}:void 0,onMouseOver:m?function(){return m(n)}:void 0,style:p,type:"button"},l?w.createElement("abbr",{"aria-label":l(i,n)},s):s,S)}var ir=globalThis&&globalThis.__assign||function(){return ir=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ir.apply(this,arguments)},ju=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},qs="react-calendar__century-view__decades__decade";function bu(t){var a=t.classes,s=a===void 0?[]:a,r=t.currentCentury,n=t.formatYear,l=n===void 0?Ss:n,i=ju(t,["classes","currentCentury","formatYear"]),o=i.date,c=i.locale,d=[];return s&&d.push.apply(d,s),qs&&d.push(qs),Ea(o).getFullYear()!==r&&d.push("".concat(qs,"--neighboringCentury")),w.createElement(Ds,ir({},i,{classes:d,maxDateTransform:ws,minDateTransform:na,view:"century"}),ti(c,l,o))}var cr=globalThis&&globalThis.__assign||function(){return cr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},cr.apply(this,arguments)},jn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Nu(t){var a=t.activeStartDate,s=t.hover,r=t.showNeighboringCentury,n=t.value,l=t.valueType,i=jn(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),o=Xd(a),c=o+(r?119:99);return w.createElement(ks,{className:"react-calendar__century-view__decades",dateTransform:na,dateType:"decade",end:c,hover:s,renderTile:function(d){var u=d.date,x=jn(d,["date"]);return w.createElement(bu,cr({key:u.getTime()},i,x,{activeStartDate:a,currentCentury:o,date:u}))},start:o,step:10,value:n,valueType:l})}var bn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},wu=Object.values(fe),_u=Object.values(ka),or=["century","decade","year","month"],ri=g.oneOf(bn(bn([],wu,!0),_u,!0)),ps=g.oneOfType([g.string,g.arrayOf(g.string)]),Xr=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.maxDate;return o&&i>o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},Jr=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.minDate;return o&&i<o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null},Su=g.oneOfType([g.func,g.exact({current:g.any})]),Cu=g.arrayOf(g.oneOfType([g.instanceOf(Date),g.oneOf([null])]).isRequired),ku=g.oneOfType([g.instanceOf(Date),g.oneOf([null]),Cu]);g.arrayOf(g.oneOf(or));var gs=function(a,s,r){var n=a,l=s,i=n[l];return i!==void 0&&(typeof i!="string"||or.indexOf(i)===-1)?new Error("Invalid prop `".concat(s,"` of value `").concat(i,"` supplied to `").concat(r,"`, expected one of [").concat(or.map(function(o){return'"'.concat(o,'"')}).join(", "),"].")):null};gs.isRequired=function(a,s,r,n,l){var i=a,o=s,c=i[o];return c?gs(a,s,r):new Error("The prop `".concat(s,"` is marked as required in `").concat(r,"`, but its value is `").concat(c,"`."))};var Du=function(t){return g.arrayOf(t)},Ts={activeStartDate:g.instanceOf(Date).isRequired,hover:g.instanceOf(Date),locale:g.string,maxDate:Jr,minDate:Xr,onClick:g.func,onMouseOver:g.func,tileClassName:g.oneOfType([g.func,ps]),tileContent:g.oneOfType([g.func,g.node]),value:ku,valueType:g.oneOf(["century","decade","year","month","day"]).isRequired};g.instanceOf(Date).isRequired,g.arrayOf(g.string.isRequired).isRequired,g.instanceOf(Date).isRequired,g.string,g.func,g.func,g.objectOf(g.oneOfType([g.string,g.number])),g.oneOfType([g.func,ps]),g.oneOfType([g.func,g.node]),g.func;var Qa=globalThis&&globalThis.__assign||function(){return Qa=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Qa.apply(this,arguments)},ni=function(a){function s(){return w.createElement(Nu,Qa({},a))}return w.createElement("div",{className:"react-calendar__century-view"},s())};ni.propTypes=Qa(Qa({},Ts),{showNeighboringCentury:g.bool});const Tu=ni;var dr=globalThis&&globalThis.__assign||function(){return dr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},dr.apply(this,arguments)},Ou=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},zs="react-calendar__decade-view__years__year";function Pu(t){var a=t.classes,s=a===void 0?[]:a,r=t.currentDecade,n=t.formatYear,l=n===void 0?Ss:n,i=Ou(t,["classes","currentDecade","formatYear"]),o=i.date,c=i.locale,d=[];return s&&d.push.apply(d,s),zs&&d.push(zs),na(o).getFullYear()!==r&&d.push("".concat(zs,"--neighboringDecade")),w.createElement(Ds,dr({},i,{classes:d,maxDateTransform:_s,minDateTransform:La,view:"decade"}),l(c,o))}var ur=globalThis&&globalThis.__assign||function(){return ur=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ur.apply(this,arguments)},Nn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Au(t){var a=t.activeStartDate,s=t.hover,r=t.showNeighboringDecade,n=t.value,l=t.valueType,i=Nn(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),o=Jd(a),c=o+(r?11:9);return w.createElement(ks,{className:"react-calendar__decade-view__years",dateTransform:La,dateType:"year",end:c,hover:s,renderTile:function(d){var u=d.date,x=Nn(d,["date"]);return w.createElement(Pu,ur({key:u.getTime()},i,x,{activeStartDate:a,currentDecade:o,date:u}))},start:o,value:n,valueType:l})}var Za=globalThis&&globalThis.__assign||function(){return Za=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Za.apply(this,arguments)},li=function(a){function s(){return w.createElement(Au,Za({},a))}return w.createElement("div",{className:"react-calendar__decade-view"},s())};li.propTypes=Za(Za({},Ts),{showNeighboringDecade:g.bool});const Iu=li;var mr=globalThis&&globalThis.__assign||function(){return mr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},mr.apply(this,arguments)},Fu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},wn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},Eu="react-calendar__year-view__months__month";function Lu(t){var a=t.classes,s=a===void 0?[]:a,r=t.formatMonth,n=r===void 0?Bd:r,l=t.formatMonthYear,i=l===void 0?Gl:l,o=Fu(t,["classes","formatMonth","formatMonthYear"]),c=o.date,d=o.locale;return w.createElement(Ds,mr({},o,{classes:wn(wn([],s,!0),[Eu],!1),formatAbbr:i,maxDateTransform:ss,minDateTransform:ba,view:"year"}),n(d,c))}var xr=globalThis&&globalThis.__assign||function(){return xr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},xr.apply(this,arguments)},_n=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Mu(t){var a=t.activeStartDate,s=t.hover,r=t.value,n=t.valueType,l=_n(t,["activeStartDate","hover","value","valueType"]),i=0,o=11,c=re(a);return w.createElement(ks,{className:"react-calendar__year-view__months",dateTransform:function(d){var u=new Date;return u.setFullYear(c,d,1),ba(u)},dateType:"month",end:o,hover:s,renderTile:function(d){var u=d.date,x=_n(d,["date"]);return w.createElement(Lu,xr({key:u.getTime()},l,x,{activeStartDate:a,date:u}))},start:i,value:r,valueType:n})}var vs=globalThis&&globalThis.__assign||function(){return vs=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},vs.apply(this,arguments)},ii=function(a){function s(){return w.createElement(Mu,vs({},a))}return w.createElement("div",{className:"react-calendar__year-view"},s())};ii.propTypes=vs({},Ts);const Wu=ii;var hr=globalThis&&globalThis.__assign||function(){return hr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},hr.apply(this,arguments)},Ru=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},ls="react-calendar__month-view__days__day";function qu(t){var a=t.calendarType,s=t.classes,r=s===void 0?[]:s,n=t.currentMonthIndex,l=t.formatDay,i=l===void 0?Hd:l,o=t.formatLongDate,c=o===void 0?$d:o,d=Ru(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),u=Cs(a),x=d.date,m=d.locale,p=[];return r&&p.push.apply(p,r),ls&&p.push(ls),ai(x,u)&&p.push("".concat(ls,"--weekend")),x.getMonth()!==n&&p.push("".concat(ls,"--neighboringMonth")),w.createElement(Ds,hr({},d,{classes:p,formatAbbr:c,maxDateTransform:Yr,minDateTransform:rs,view:"month"}),i(m,x))}var fr=globalThis&&globalThis.__assign||function(){return fr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},fr.apply(this,arguments)},Sn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function zu(t){var a=t.activeStartDate,s=t.calendarType,r=t.hover,n=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,i=t.value,o=t.valueType,c=Sn(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),d=Cs(s),u=re(a),x=ra(a),m=n||l,p=Ba(a,d),j=m?0:p,v=(m?-p:0)+1,N=function(){if(n)return v+6*7-1;var y=Qr(a);if(l){var f=new Date;f.setFullYear(u,x,y),f.setHours(0,0,0,0);var S=7-Ba(f,d)-1;return y+S}return y}();return w.createElement(ks,{className:"react-calendar__month-view__days",count:7,dateTransform:function(y){var f=new Date;return f.setFullYear(u,x,y),rs(f)},dateType:"day",hover:r,end:N,renderTile:function(y){var f=y.date,S=Sn(y,["date"]);return w.createElement(qu,fr({key:f.getTime()},c,S,{activeStartDate:a,calendarType:s,currentMonthIndex:x,date:f}))},offset:j,start:v,value:i,valueType:o})}var ci="react-calendar__month-view__weekdays",Us="".concat(ci,"__weekday");function Uu(t){for(var a=t.calendarType,s=t.formatShortWeekday,r=s===void 0?Yd:s,n=t.formatWeekday,l=n===void 0?Qd:n,i=t.locale,o=t.onMouseLeave,c=Cs(a),d=new Date,u=ba(d),x=re(u),m=ra(u),p=[],j=1;j<=7;j+=1){var v=new Date(x,m,j-Ba(u,c)),N=l(i,v);p.push(w.createElement("div",{key:j,className:it(Us,cu(v)&&"".concat(Us,"--current"),ai(v,c)&&"".concat(Us,"--weekend"))},w.createElement("abbr",{"aria-label":N,title:N},r(i,v).replace(".",""))))}return w.createElement(Gr,{className:ci,count:7,onFocus:o,onMouseOver:o},p)}var ys=globalThis&&globalThis.__assign||function(){return ys=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ys.apply(this,arguments)},Cn=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},kn="react-calendar__tile";function Vu(t){var a=t.onClickWeekNumber,s=t.weekNumber,r=w.createElement("span",null,s);if(a){var n=t.date,l=t.onClickWeekNumber,i=t.weekNumber,o=Cn(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("button",ys({},o,{className:kn,onClick:function(c){return l(i,n,c)},type:"button"}),r)}else{t.date,t.onClickWeekNumber,t.weekNumber;var o=Cn(t,["date","onClickWeekNumber","weekNumber"]);return w.createElement("div",ys({},o,{className:kn}),r)}}function Ku(t){var a=t.activeStartDate,s=t.calendarType,r=t.onClickWeekNumber,n=t.onMouseLeave,l=t.showFixedNumberOfWeeks,i=Cs(s),o=function(){if(l)return 6;var u=Qr(a),x=Ba(a,i),m=u-(7-x);return 1+Math.ceil(m/7)}(),c=function(){for(var u=re(a),x=ra(a),m=At(a),p=[],j=0;j<o;j+=1)p.push(lr(new Date(u,x,m+j*7),i));return p}(),d=c.map(function(u){return eu(u,i)});return w.createElement(Gr,{className:"react-calendar__month-view__weekNumbers",count:o,direction:"column",onFocus:n,onMouseOver:n,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},d.map(function(u,x){var m=c[x];if(!m)throw new Error("date is not defined");return w.createElement(Vu,{key:u,date:m,onClickWeekNumber:r,weekNumber:u})}))}var Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ga.apply(this,arguments)},Hu=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function $u(t){if(t)for(var a=0,s=Object.entries(Ed);a<s.length;a++){var r=s[a],n=r[0],l=r[1];if(l.includes(t))return n}return fe.ISO_8601}var oi=function(a){var s=a.activeStartDate,r=a.locale,n=a.onMouseLeave,l=a.showFixedNumberOfWeeks,i=a.calendarType,o=i===void 0?$u(r):i,c=a.formatShortWeekday,d=a.formatWeekday,u=a.onClickWeekNumber,x=a.showWeekNumbers,m=Hu(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function p(){return w.createElement(Uu,{calendarType:o,formatShortWeekday:c,formatWeekday:d,locale:r,onMouseLeave:n})}function j(){return x?w.createElement(Ku,{activeStartDate:s,calendarType:o,onClickWeekNumber:u,onMouseLeave:n,showFixedNumberOfWeeks:l}):null}function v(){return w.createElement(zu,Ga({calendarType:o},m))}var N="react-calendar__month-view";return w.createElement("div",{className:it(N,x?"".concat(N,"--weekNumbers"):"")},w.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},j(),w.createElement("div",{style:{flexGrow:1,width:"100%"}},p(),v())))};oi.propTypes=Ga(Ga({},Ts),{calendarType:ri,formatDay:g.func,formatLongDate:g.func,formatShortWeekday:g.func,formatWeekday:g.func,onClickWeekNumber:g.func,onMouseLeave:g.func,showFixedNumberOfWeeks:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool});const Bu=oi;var Ta=globalThis&&globalThis.__assign||function(){return Ta=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ta.apply(this,arguments)},is="react-calendar",Oa=["century","decade","year","month"],Yu=["decade","year","month","day"],en=new Date;en.setFullYear(1,0,1);en.setHours(0,0,0,0);var Qu=new Date(864e13);function za(t){return t instanceof Date?t:new Date(t)}function di(t,a){return Oa.slice(Oa.indexOf(t),Oa.indexOf(a)+1)}function Zu(t,a,s){var r=di(a,s);return r.indexOf(t)!==-1}function tn(t,a,s){return t&&Zu(t,a,s)?t:s}function ui(t){var a=Oa.indexOf(t);return Yu[a]}function Gu(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var r=za(s);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function mi(t,a){var s=t.value,r=t.minDate,n=t.maxDate,l=t.maxDetail,i=Gu(s,a);if(!i)return null;var o=ui(l),c=function(){switch(a){case 0:return ga(o,i);case 1:return Jl(o,i);default:throw new Error("Invalid index value: ".concat(a))}}();return hu(c,r,n)}var an=function(t){return mi(t,0)},xi=function(t){return mi(t,1)},Xu=function(t){return[an,xi].map(function(a){return a(t)})};function hi(t){var a=t.maxDate,s=t.maxDetail,r=t.minDate,n=t.minDetail,l=t.value,i=t.view,o=tn(i,n,s),c=an({value:l,minDate:r,maxDate:a,maxDetail:s})||new Date;return ga(o,c)}function Ju(t){var a=t.activeStartDate,s=t.defaultActiveStartDate,r=t.defaultValue,n=t.defaultView,l=t.maxDate,i=t.maxDetail,o=t.minDate,c=t.minDetail,d=t.value,u=t.view,x=tn(u,c,i),m=a||s;return m?ga(x,m):hi({maxDate:l,maxDetail:i,minDate:o,minDetail:c,value:d||r,view:u||n})}function Vs(t){return t&&(!Array.isArray(t)||t.length===1)}function cs(t,a){return t instanceof Date&&a instanceof Date&&t.getTime()===a.getTime()}var fi=h.forwardRef(function(a,s){var r=a.activeStartDate,n=a.allowPartialRange,l=a.calendarType,i=a.className,o=a.defaultActiveStartDate,c=a.defaultValue,d=a.defaultView,u=a.formatDay,x=a.formatLongDate,m=a.formatMonth,p=a.formatMonthYear,j=a.formatShortWeekday,v=a.formatWeekday,N=a.formatYear,y=a.goToRangeStartOnSelect,f=y===void 0?!0:y,S=a.inputRef,P=a.locale,I=a.maxDate,E=I===void 0?Qu:I,_=a.maxDetail,T=_===void 0?"month":_,M=a.minDate,L=M===void 0?en:M,F=a.minDetail,z=F===void 0?"century":F,V=a.navigationAriaLabel,$=a.navigationAriaLive,U=a.navigationLabel,b=a.next2AriaLabel,Y=a.next2Label,le=a.nextAriaLabel,W=a.nextLabel,Z=a.onActiveStartDateChange,ce=a.onChange,oe=a.onClickDay,de=a.onClickDecade,G=a.onClickMonth,Te=a.onClickWeekNumber,Le=a.onClickYear,Me=a.onDrillDown,Ie=a.onDrillUp,De=a.onViewChange,Ue=a.prev2AriaLabel,be=a.prev2Label,ge=a.prevAriaLabel,K=a.prevLabel,Q=a.returnValue,pe=Q===void 0?"start":Q,ve=a.selectRange,ot=a.showDoubleView,dt=a.showFixedNumberOfWeeks,la=a.showNavigation,wa=la===void 0?!0:la,ia=a.showNeighboringCentury,ca=a.showNeighboringDecade,Fe=a.showNeighboringMonth,bt=Fe===void 0?!0:Fe,oa=a.showWeekNumbers,Ve=a.tileClassName,Nt=a.tileContent,qt=a.tileDisabled,ft=a.value,wt=a.view,da=h.useState(o),zt=da[0],Ut=da[1],_a=h.useState(null),ua=_a[0],ut=_a[1],_t=h.useState(Array.isArray(c)?c.map(function(O){return O!==null?za(O):null}):c!=null?za(c):null),ma=_t[0],Ma=_t[1],Vt=h.useState(d),Wa=Vt[0],xa=Vt[1],Ce=r||zt||Ju({activeStartDate:r,defaultActiveStartDate:o,defaultValue:c,defaultView:d,maxDate:E,maxDetail:T,minDate:L,minDetail:z,value:ft,view:wt}),ke=function(){var O=function(){return ve&&Vs(ma)?ma:ft!==void 0?ft:ma}();return O?Array.isArray(O)?O.map(function(R){return R!==null?za(R):null}):O!==null?za(O):null:null}(),Kt=ui(T),ie=tn(wt||Wa,z,T),Be=di(z,T),Ge=ve?ua:null,H=Be.indexOf(ie)<Be.length-1,X=Be.indexOf(ie)>0,Ee=h.useCallback(function(O){var R=function(){switch(pe){case"start":return an;case"end":return xi;case"range":return Xu;default:throw new Error("Invalid returnValue.")}}();return R({maxDate:E,maxDetail:T,minDate:L,value:O})},[E,T,L,pe]),We=h.useCallback(function(O,R){Ut(O);var q={action:R,activeStartDate:O,value:ke,view:ie};Z&&!cs(Ce,O)&&Z(q)},[Ce,Z,ke,ie]),ye=h.useCallback(function(O,R){var q=function(){switch(ie){case"century":return de;case"decade":return Le;case"year":return G;case"month":return oe;default:throw new Error("Invalid view: ".concat(ie,"."))}}();q&&q(O,R)},[oe,de,G,Le,ie]),Xe=h.useCallback(function(O,R){if(H){ye(O,R);var q=Be[Be.indexOf(ie)+1];if(!q)throw new Error("Attempted to drill down from the lowest view.");Ut(O),xa(q);var _e={action:"drillDown",activeStartDate:O,value:ke,view:q};Z&&!cs(Ce,O)&&Z(_e),De&&ie!==q&&De(_e),Me&&Me(_e)}},[Ce,H,Z,ye,Me,De,ke,ie,Be]),st=h.useCallback(function(){if(X){var O=Be[Be.indexOf(ie)-1];if(!O)throw new Error("Attempted to drill up from the highest view.");var R=ga(O,Ce);Ut(R),xa(O);var q={action:"drillUp",activeStartDate:R,value:ke,view:O};Z&&!cs(Ce,R)&&Z(q),De&&ie!==O&&De(q),Ie&&Ie(q)}},[Ce,X,Z,Ie,De,ke,ie,Be]),Je=h.useCallback(function(O,R){var q=ke;ye(O,R);var _e=ve&&!Vs(q),Se;if(ve)if(_e)Se=ga(Kt,O);else{if(!q)throw new Error("previousValue is required");if(Array.isArray(q))throw new Error("previousValue must not be an array");Se=lu(Kt,q,O)}else Se=Ee(O);var Ye=!ve||_e||f?hi({maxDate:E,maxDetail:T,minDate:L,minDetail:z,value:Se,view:ie}):null;R.persist(),Ut(Ye),Ma(Se);var St={action:"onChange",activeStartDate:Ye,value:Se,view:ie};if(Z&&!cs(Ce,Ye)&&Z(St),ce)if(ve){var et=Vs(Se);if(!et)ce(Se||null,R);else if(n){if(Array.isArray(Se))throw new Error("value must not be an array");ce([Se||null,null],R)}}else ce(Se||null,R)},[Ce,n,Ee,f,E,T,L,z,Z,ce,ye,ve,ke,Kt,ie]);function Ra(O){ut(O)}function Ht(){ut(null)}h.useImperativeHandle(s,function(){return{activeStartDate:Ce,drillDown:Xe,drillUp:st,onChange:Je,setActiveStartDate:We,value:ke,view:ie}},[Ce,Xe,st,Je,We,ke,ie]);function ha(O){var R=O?Xl(ie,Ce):ga(ie,Ce),q=H?Xe:Je,_e={activeStartDate:R,hover:Ge,locale:P,maxDate:E,minDate:L,onClick:q,onMouseOver:ve?Ra:void 0,tileClassName:Ve,tileContent:Nt,tileDisabled:qt,value:ke,valueType:Kt};switch(ie){case"century":return w.createElement(Tu,Ta({formatYear:N,showNeighboringCentury:ia},_e));case"decade":return w.createElement(Iu,Ta({formatYear:N,showNeighboringDecade:ca},_e));case"year":return w.createElement(Wu,Ta({formatMonth:m,formatMonthYear:p},_e));case"month":return w.createElement(Bu,Ta({calendarType:l,formatDay:u,formatLongDate:x,formatShortWeekday:j,formatWeekday:v,onClickWeekNumber:Te,onMouseLeave:ve?Ht:void 0,showFixedNumberOfWeeks:typeof dt<"u"?dt:ot,showNeighboringMonth:bt,showWeekNumbers:oa},_e));default:throw new Error("Invalid view: ".concat(ie,"."))}}function Sa(){return wa?w.createElement(ou,{activeStartDate:Ce,drillUp:st,formatMonthYear:p,formatYear:N,locale:P,maxDate:E,minDate:L,navigationAriaLabel:V,navigationAriaLive:$,navigationLabel:U,next2AriaLabel:b,next2Label:Y,nextAriaLabel:le,nextLabel:W,prev2AriaLabel:Ue,prev2Label:be,prevAriaLabel:ge,prevLabel:K,setActiveStartDate:We,showDoubleView:ot,view:ie,views:Be}):null}var C=Array.isArray(ke)?ke:[ke];return w.createElement("div",{className:it(is,ve&&C.length===1&&"".concat(is,"--selectRange"),ot&&"".concat(is,"--doubleView"),i),ref:S},Sa(),w.createElement("div",{className:"".concat(is,"__viewContainer"),onBlur:ve?Ht:void 0,onMouseLeave:ve?Ht:void 0},ha(),ot?ha(!0):null))}),Dn=g.instanceOf(Date),Tn=g.oneOfType([g.string,g.instanceOf(Date)]),On=g.oneOfType([Tn,Du(Tn)]);fi.propTypes={activeStartDate:Dn,allowPartialRange:g.bool,calendarType:ri,className:ps,defaultActiveStartDate:Dn,defaultValue:On,defaultView:gs,formatDay:g.func,formatLongDate:g.func,formatMonth:g.func,formatMonthYear:g.func,formatShortWeekday:g.func,formatWeekday:g.func,formatYear:g.func,goToRangeStartOnSelect:g.bool,inputRef:Su,locale:g.string,maxDate:Jr,maxDetail:g.oneOf(Oa),minDate:Xr,minDetail:g.oneOf(Oa),navigationAriaLabel:g.string,navigationAriaLive:g.oneOf(["off","polite","assertive"]),navigationLabel:g.func,next2AriaLabel:g.string,next2Label:g.node,nextAriaLabel:g.string,nextLabel:g.node,onActiveStartDateChange:g.func,onChange:g.func,onClickDay:g.func,onClickDecade:g.func,onClickMonth:g.func,onClickWeekNumber:g.func,onClickYear:g.func,onDrillDown:g.func,onDrillUp:g.func,onViewChange:g.func,prev2AriaLabel:g.string,prev2Label:g.node,prevAriaLabel:g.string,prevLabel:g.node,returnValue:g.oneOf(["start","end","range"]),selectRange:g.bool,showDoubleView:g.bool,showFixedNumberOfWeeks:g.bool,showNavigation:g.bool,showNeighboringCentury:g.bool,showNeighboringDecade:g.bool,showNeighboringMonth:g.bool,showWeekNumbers:g.bool,tileClassName:g.oneOfType([g.func,ps]),tileContent:g.oneOfType([g.func,g.node]),tileDisabled:g.func,value:On,view:gs};const em=fi;function Ks(t){var a=t.angle,s=a===void 0?0:a,r=t.name,n=t.length,l=n===void 0?100:n,i=t.oppositeLength,o=i===void 0?10:i,c=t.width,d=c===void 0?1:c;return w.createElement("div",{className:"react-clock__hand react-clock__".concat(r,"-hand"),style:{transform:"rotate(".concat(s,"deg)")}},w.createElement("div",{className:"react-clock__hand__body react-clock__".concat(r,"-hand__body"),style:{width:"".concat(d,"px"),top:"".concat(50-l/2,"%"),bottom:"".concat(50-o/2,"%")}}))}function pi(t){var a=t.angle,s=a===void 0?0:a,r=t.length,n=r===void 0?10:r,l=t.name,i=t.width,o=i===void 0?1:i,c=t.number;return w.createElement("div",{className:"react-clock__mark react-clock__".concat(l,"-mark"),style:{transform:"rotate(".concat(s,"deg)")}},w.createElement("div",{className:"react-clock__mark__body react-clock__".concat(l,"-mark__body"),style:{width:"".concat(o,"px"),top:0,bottom:"".concat(100-n/2,"%")}}),c?w.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(s,"deg)"),top:"".concat(n/2,"%")}},c):null)}var pr=globalThis&&globalThis.__assign||function(){return pr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},pr.apply(this,arguments)},tm=h.memo(function(a){return w.createElement(pi,pr({},a))});const am=tm;function sm(t,a){return a.toLocaleString(t||Fa()||void 0)}var gr=globalThis&&globalThis.__assign||function(){return gr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},gr.apply(this,arguments)},rm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},nm=h.memo(function(a){var s=a.formatHour,r=s===void 0?sm:s,n=a.locale,l=a.number,i=rm(a,["formatHour","locale","number"]);return w.createElement(pi,gr({number:l?r(n,l):null},i))});const lm=nm;function gi(t,a){return function(s,r,n){var l=s,i=r,o=l[i];if(typeof o<"u"){if(typeof o!="number")return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, expected `number`."));if(o<t||o>a)return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof o,"` supplied to `").concat(n,"`, length must be between ").concat(t," and ").concat(a,"."))}return null}}var ms=gi(0,100),Hs=gi(-100,100),xs=function(a,s,r){var n=a,l=s,i=n[l];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, width must be greater or equal to 0."))}return null},Pn=ms,An=xs,vi=function(a){var s=a.className,r=a.formatHour,n=a.hourHandLength,l=n===void 0?50:n,i=a.hourHandOppositeLength,o=a.hourHandWidth,c=o===void 0?4:o,d=a.hourMarksLength,u=d===void 0?10:d,x=a.hourMarksWidth,m=x===void 0?3:x,p=a.locale,j=a.minuteHandLength,v=j===void 0?70:j,N=a.minuteHandOppositeLength,y=a.minuteHandWidth,f=y===void 0?2:y,S=a.minuteMarksLength,P=S===void 0?6:S,I=a.minuteMarksWidth,E=I===void 0?1:I,_=a.renderHourMarks,T=_===void 0?!0:_,M=a.renderMinuteHand,L=M===void 0?!0:M,F=a.renderMinuteMarks,z=F===void 0?!0:F,V=a.renderNumbers,$=a.renderSecondHand,U=$===void 0?!0:$,b=a.secondHandLength,Y=b===void 0?90:b,le=a.secondHandOppositeLength,W=a.secondHandWidth,Z=W===void 0?1:W,ce=a.size,oe=ce===void 0?150:ce,de=a.useMillisecondPrecision,G=a.value;function Te(){if(!z)return null;for(var be=[],ge=1;ge<=60;ge+=1){var K=T&&!(ge%5);K||be.push(w.createElement(am,{key:"minute_".concat(ge),angle:ge*6,length:P,name:"minute",width:E}))}return be}function Le(){if(!T)return null;for(var be=[],ge=1;ge<=12;ge+=1)be.push(w.createElement(lm,{key:"hour_".concat(ge),angle:ge*30,formatHour:r,length:u,locale:p,name:"hour",number:V?ge:void 0,width:m}));return be}function Me(){return w.createElement("div",{className:"react-clock__face"},Te(),Le())}function Ie(){var be=G?He(G)*30+Ot(G)/2+pa(G)/120+(de?Ws(G)/12e4:0):0;return w.createElement(Ks,{angle:be,length:l,name:"hour",oppositeLength:i,width:c})}function De(){if(!L)return null;var be=G?He(G)*360+Ot(G)*6+pa(G)/10+(de?Ws(G)/1e4:0):0;return w.createElement(Ks,{angle:be,length:v,name:"minute",oppositeLength:N,width:f})}function Ue(){if(!U)return null;var be=G?Ot(G)*360+pa(G)*6+(de?Ws(G)*.006:0):0;return w.createElement(Ks,{angle:be,length:Y,name:"second",oppositeLength:le,width:Z})}return w.createElement("time",{className:it("react-clock",s),dateTime:G instanceof Date?G.toISOString():G||void 0,style:{width:oe,height:oe}},Me(),Ie(),De(),Ue())};vi.propTypes={className:g.oneOfType([g.string,g.arrayOf(g.string)]),formatHour:g.func,hourHandLength:ms,hourHandOppositeLength:Hs,hourHandWidth:xs,hourMarksLength:Pn,hourMarksWidth:An,locale:g.string,minuteHandLength:ms,minuteHandOppositeLength:Hs,minuteHandWidth:xs,minuteMarksLength:Pn,minuteMarksWidth:An,renderHourMarks:g.bool,renderMinuteHand:g.bool,renderMinuteMarks:g.bool,renderNumbers:g.bool,renderSecondHand:g.bool,secondHandLength:ms,secondHandOppositeLength:Hs,secondHandWidth:xs,size:g.oneOfType([g.number,g.string]),value:g.oneOfType([g.string,g.instanceOf(Date)])};const im=vi;function qe(t){return t.getBoundingClientRect()}function In(t,a){return{get collidedTop(){return qe(t).top<qe(a).top},get collidedBottom(){return qe(t).bottom>qe(a).bottom},get collidedLeft(){return qe(t).left<qe(a).left},get collidedRight(){return qe(t).right>qe(a).right},get overflowTop(){return qe(a).top-qe(t).top},get overflowBottom(){return qe(t).bottom-qe(a).bottom},get overflowLeft(){return qe(a).left-qe(t).left},get overflowRight(){return qe(t).right-qe(a).right}}}var cm=!0;function Fn(t,a){if(!cm){if(t)return;var s="Warning: "+a;typeof console<"u"&&console.warn(s);try{throw Error(s)}catch{}}}var om=globalThis&&globalThis.__extends||function(){var t=function(a,s){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(r[l]=n[l])},t(a,s)};return function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Class extends value "+String(s)+" is not a constructor or null");t(a,s);function r(){this.constructor=a}a.prototype=s===null?Object.create(s):(r.prototype=s.prototype,new r)}}(),Yt=globalThis&&globalThis.__assign||function(){return Yt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Yt.apply(this,arguments)},dm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},yi=typeof document<"u",En=yi&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),um=yi&&"MutationObserver"in window;function os(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ln(t){for(var a=t.parentElement;a;){var s=window.getComputedStyle(a).overflow;if(s.split(" ").every(function(r){return r==="auto"||r==="scroll"}))return a;a=a.parentElement}return document.documentElement}function ji(t){var a=t.axis,s=t.container,r=t.element,n=t.invertAxis,l=t.scrollContainer,i=t.secondary,o=t.spacing,c=window.getComputedStyle(r),d=s.parentElement;if(!d)return;var u=In(d,l),x=In(d,document.documentElement),m=a==="x",p=m?"left":"top",j=m?"right":"bottom",v=m?"width":"height",N="overflow".concat(os(p)),y="overflow".concat(os(j)),f="scroll".concat(os(p)),S=os(v),P="offset".concat(S),I="client".concat(S),E="min-".concat(v),_=l[P]-l[I],T=typeof o=="object"?o[p]:o,M=-Math.max(u[N],x[N]+document.documentElement[f])-T,L=typeof o=="object"?o[j]:o,F=-Math.max(u[y],x[y]-document.documentElement[f])-L-_;i&&(M+=d[I],F+=d[I]);var z=r[P];function V(){r.style[p]="auto",r.style[j]=i?"0":"100%"}function $(){r.style[p]=i?"0":"100%",r.style[j]="auto"}function U(Z,ce){var oe=z<=Z;return oe&&ce(),oe}function b(){return U(M,V)}function Y(){return U(F,$)}function le(){var Z=M>F,ce=c.getPropertyValue(E),oe=ce?parseInt(ce,10):null;function de(G){Fn(!oe||G>=oe,"<Fit />'s child will not fit anywhere with its current ".concat(E," of ").concat(oe,"px."));var Te=Math.max(G,oe||0);Fn(!1,"<Fit />'s child needed to have its ".concat(v," decreased to ").concat(Te,"px.")),r.style[v]="".concat(Te,"px")}Z?(de(M),V()):(de(F),$())}var W;n?W=b()||Y():W=Y()||b(),W||le()}function mm(t){ji(t)}function xm(t){ji(Yt(Yt({},t),{axis:t.axis==="x"?"y":"x",secondary:!0}))}function hm(t){var a=t.invertAxis,s=t.invertSecondaryAxis,r=dm(t,["invertAxis","invertSecondaryAxis"]);mm(Yt(Yt({},r),{invertAxis:a})),xm(Yt(Yt({},r),{invertAxis:s}))}var fm=function(t){om(a,t);function a(){var s=t!==null&&t.apply(this,arguments)||this;return s.fit=function(){var r=s,n=r.scrollContainer,l=r.container,i=r.element;if(!(!n||!l||!i)){var o=i.clientWidth,c=i.clientHeight;if(!(s.elementWidth===o&&s.elementHeight===c)){s.elementWidth=o,s.elementHeight=c;var d=l.parentElement;if(d){var u=window.getComputedStyle(i),x=u.position;x!=="absolute"&&(i.style.position="absolute");var m=window.getComputedStyle(d),p=m.position;p!=="relative"&&p!=="absolute"&&(d.style.position="relative");var j=s.props,v=j.invertAxis,N=j.invertSecondaryAxis,y=j.mainAxis,f=y===void 0?"y":y,S=j.spacing,P=S===void 0?8:S;hm({axis:f,container:l,element:i,invertAxis:v,invertSecondaryAxis:N,scrollContainer:n,spacing:P})}}}},s}return a.prototype.componentDidMount=function(){var s=this;if(!En){var r=er.findDOMNode(this);if(!r||!(r instanceof HTMLElement))return;this.container=r,this.element=r,this.scrollContainer=Ln(r)}this.fit();var n=function(){s.fit()};if(um&&this.element){var l=new MutationObserver(n);l.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},a.prototype.render=function(){var s=this,r=this.props.children,n=w.Children.only(r);return En?w.createElement("span",{ref:function(l){s.container=l;var i=l&&l.firstElementChild;!i||!(i instanceof HTMLElement)||(s.element=i,s.scrollContainer=Ln(i))},style:{display:"contents"}},n):n},a.propTypes={children:g.node.isRequired,invertAxis:g.bool,invertSecondaryAxis:g.bool,mainAxis:g.oneOf(["x","y"]),spacing:g.oneOfType([g.number,g.shape({bottom:g.number.isRequired,left:g.number.isRequired,right:g.number.isRequired,top:g.number.isRequired})])},a}(h.Component);const Mn=fm;function pm(t){var a=t.children;return w.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},a)}var gm=["normal","small-caps"];function sn(t){if(!t)return"";var a=window.getComputedStyle(t);if(a.font)return a.font;var s=a.fontFamily!=="";if(!s)return"";var r=gm.includes(a.fontVariant)?a.fontVariant:"normal";return"".concat(a.fontStyle," ").concat(r," ").concat(a.fontWeight," ").concat(a.fontSize," / ").concat(a.lineHeight," ").concat(a.fontFamily)}var Wn;function vm(t,a){var s=Wn||(Wn=document.createElement("canvas")),r=s.getContext("2d");if(!r)return null;r.font=a;var n=r.measureText(t).width;return Math.ceil(n)}function sa(t){if(typeof document>"u"||!t)return null;var a=sn(t),s=t.value||t.placeholder,r=vm(s,a);return r===null?null:(t.style.width="".concat(r,"px"),r)}var rn=typeof document<"u",ym=rn?h.useLayoutEffect:h.useEffect,jm=rn&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),bm=rn&&/Firefox/.test(navigator.userAgent);function Nm(t){var a=t.target;jm?requestAnimationFrame(function(){return a.select()}):a.select()}function wm(t){if(document.readyState==="complete")return;function a(){sa(t)}window.addEventListener("load",a)}function _m(t){if(!document.fonts)return;var a=sn(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function r(){sa(t)}document.fonts.addEventListener("loadingdone",r)}function Sm(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function Cm(t){if(t!==null)return function(s){if(!bm){var r=s.key,n=s.target,l=n.value,i=r.length===1&&/\d/.test(r),o=Sm(n);(!i||!(o||l.length<t))&&s.preventDefault()}}}function nn(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.max,o=t.min,c=t.name,d=t.nameForClass,u=t.onChange,x=t.onKeyDown,m=t.onKeyUp,p=t.placeholder,j=p===void 0?"--":p,v=t.required,N=t.showLeadingZeros,y=t.step,f=t.value;ym(function(){!l||!l.current||(sa(l.current),wm(l.current),_m(l.current))},[l,f]);var S=N&&f&&Number(f)<10&&(f==="0"||!f.toString().startsWith("0")),P=i?i.toString().length:null;return w.createElement(w.Fragment,null,S?w.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(d||c),S&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:o,name:c,onChange:u,onFocus:Nm,onKeyDown:x,onKeyPress:Cm(P),onKeyUp:function(I){sa(I.target),m&&m(I)},placeholder:j,ref:l,required:v,step:y,type:"number",value:f!==null?f:""}))}function bi(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Os(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(bi))}function Ps(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(bi))}var vr=globalThis&&globalThis.__assign||function(){return vr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},vr.apply(this,arguments)},km=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Dm(t){var a=t.maxDate,s=t.minDate,r=t.month,n=t.year,l=km(t,["maxDate","minDate","month","year"]),i=function(){return r?Qr(new Date(Number(n),Number(r)-1,1)):31}();function o(u){return n===re(u).toString()&&r===Tt(u).toString()}var c=Os(i,a&&o(a)&&At(a)),d=Ps(1,s&&o(s)&&At(s));return w.createElement(nn,vr({max:c,min:d,name:"day"},l))}var yr=globalThis&&globalThis.__assign||function(){return yr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},yr.apply(this,arguments)},Tm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Om(t){var a=t.maxDate,s=t.minDate,r=t.year,n=Tm(t,["maxDate","minDate","year"]);function l(c){return c&&r===re(c).toString()}var i=Os(12,a&&l(a)&&Tt(a)),o=Ps(1,s&&l(s)&&Tt(s));return w.createElement(nn,yr({max:i,min:o,name:"month"},n))}var $s=new Map;function Pm(t){return function(s,r){var n=s||Fa();$s.has(n)||$s.set(n,new Map);var l=$s.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}function Am(t){var a=new Date(t);return new Date(a.setHours(12))}function Ni(t){return function(a,s){return Pm(t)(a,Am(s))}}var Im={month:"long"},Fm={month:"short"},Em=Ni(Im),Lm=Ni(Fm),Mm=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))};function Wm(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.locale,o=t.maxDate,c=t.minDate,d=t.onChange,u=t.onKeyDown,x=t.placeholder,m=x===void 0?"--":x,p=t.required,j=t.short,v=t.value,N=t.year;function y(_){return _&&N===re(_).toString()}var f=Os(12,o&&y(o)&&Tt(o)),S=Ps(1,c&&y(c)&&Tt(c)),P=Mm([],Array(12),!0).map(function(_,T){return new Date(2019,T,1)}),I="month",E=j?Lm:Em;return w.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(I)),"data-input":"true","data-select":"true",disabled:n,name:I,onChange:d,onKeyDown:u,ref:l,required:p,value:v!==null?v:""},!v&&w.createElement("option",{value:""},m),P.map(function(_){var T=Tt(_),M=T<S||T>f;return w.createElement("option",{key:T,disabled:M,value:T},E(i,_))}))}var jr=globalThis&&globalThis.__assign||function(){return jr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},jr.apply(this,arguments)},Rm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function qm(t){var a=t.maxDate,s=t.minDate,r=t.placeholder,n=r===void 0?"----":r,l=t.valueType,i=Rm(t,["maxDate","minDate","placeholder","valueType"]),o=Os(275760,a&&re(a)),c=Ps(1,s&&re(s)),d=function(){return l==="century"?10:1}();return w.createElement(nn,jr({max:o,min:c,name:"year",placeholder:n,step:d},i))}var ln=typeof document<"u",zm=ln?h.useLayoutEffect:h.useEffect,Um=ln&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Vm=ln&&/Firefox/.test(navigator.userAgent);function Km(t){var a=t.target;Um?requestAnimationFrame(function(){return a.select()}):a.select()}function Hm(t){if(document.readyState==="complete")return;function a(){sa(t)}window.addEventListener("load",a)}function $m(t){if(!document.fonts)return;var a=sn(t);if(!a)return;var s=document.fonts.check(a);if(s)return;function r(){sa(t)}document.fonts.addEventListener("loadingdone",r)}function Bm(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function Ym(t){if(t!==null)return function(s){if(!Vm){var r=s.key,n=s.target,l=n.value,i=r.length===1&&/\d/.test(r),o=Bm(n);(!i||!(o||l.length<t))&&s.preventDefault()}}}function As(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.max,o=t.min,c=t.name,d=t.nameForClass,u=t.onChange,x=t.onKeyDown,m=t.onKeyUp,p=t.placeholder,j=p===void 0?"--":p,v=t.required,N=t.showLeadingZeros,y=t.step,f=t.value;zm(function(){!l||!l.current||(sa(l.current),Hm(l.current),$m(l.current))},[l,f]);var S=N&&f&&Number(f)<10&&(f==="0"||!f.toString().startsWith("0")),P=i?i.toString().length:null;return w.createElement(w.Fragment,null,S?w.createElement("span",{className:"".concat(r,"__leadingZero")},"0"):null,w.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(d||c),S&&"".concat(r,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:o,name:c,onChange:u,onFocus:Km,onKeyDown:x,onKeyPress:Ym(P),onKeyUp:function(I){sa(I.target),m&&m(I)},placeholder:j,ref:l,required:v,step:y,type:"number",value:f!==null?f:""}))}function Ua(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}var Bs=new Map;function Qm(t){return function(s,r){var n=s||Fa();Bs.has(n)||Bs.set(n,new Map);var l=Bs.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}var Zm=["9",""],Rn=new RegExp("[".concat(Zm.join(""),"]")),qn=Qm({hour:"numeric"});function Gm(t){var a=qn(t,new Date(2017,0,1,9)),s=qn(t,new Date(2017,0,1,21)),r=a.split(Rn),n=r[0],l=r[1],i=s.split(Rn),o=i[0],c=i[1];if(c!==void 0){if(n!==o)return[n,o].map(function(d){return d.trim()});if(l!==c)return[l,c].map(function(d){return d.trim()})}return["AM","PM"]}function wi(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Is(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(wi))}function Fs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(wi))}var br=globalThis&&globalThis.__assign||function(){return br=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},br.apply(this,arguments)},Xm=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function Jm(t){var a=t.amPm,s=t.maxTime,r=t.minTime,n=t.value,l=Xm(t,["amPm","maxTime","minTime","value"]),i=Is(12,s&&function(){var d=Ua(He(s)),u=d[0],x=d[1];return x!==a?null:u}()),o=Fs(1,r&&function(){var d=Ua(He(r)),u=d[0],x=d[1];return x!==a||u===12?null:u}()),c=n?Ua(n)[0].toString():"";return w.createElement(As,br({max:i,min:o,name:"hour12",nameForClass:"hour",value:c},l))}var Nr=globalThis&&globalThis.__assign||function(){return Nr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Nr.apply(this,arguments)},ex=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function tx(t){var a=t.maxTime,s=t.minTime,r=ex(t,["maxTime","minTime"]),n=Is(23,a&&He(a)),l=Fs(0,s&&He(s));return w.createElement(As,Nr({max:n,min:l,name:"hour24",nameForClass:"hour"},r))}var wr=globalThis&&globalThis.__assign||function(){return wr=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},wr.apply(this,arguments)},ax=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function sx(t){var a=t.hour,s=t.maxTime,r=t.minTime,n=t.showLeadingZeros,l=n===void 0?!0:n,i=ax(t,["hour","maxTime","minTime","showLeadingZeros"]);function o(u){return a===He(u).toString()}var c=Is(59,s&&o(s)&&Ot(s)),d=Fs(0,r&&o(r)&&Ot(r));return w.createElement(As,wr({max:c,min:d,name:"minute",showLeadingZeros:l},i))}var _r=globalThis&&globalThis.__assign||function(){return _r=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_r.apply(this,arguments)},rx=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};function nx(t){var a=t.hour,s=t.maxTime,r=t.minTime,n=t.minute,l=t.showLeadingZeros,i=l===void 0?!0:l,o=rx(t,["hour","maxTime","minTime","minute","showLeadingZeros"]);function c(x){return a===He(x).toString()&&n===Ot(x).toString()}var d=Is(59,s&&c(s)&&pa(s)),u=Fs(0,r&&c(r)&&pa(r));return w.createElement(As,_r({max:d,min:u,name:"second",showLeadingZeros:i},o))}function lx(t){var a=t.ariaLabel,s=t.autoFocus,r=t.className,n=t.disabled,l=t.inputRef,i=t.locale,o=t.maxTime,c=t.minTime,d=t.onChange,u=t.onKeyDown,x=t.required,m=t.value,p=c?Ua(He(c))[1]==="pm":!1,j=o?Ua(He(o))[1]==="am":!1,v="amPm",N=Gm(i),y=N[0],f=N[1];return w.createElement("select",{"aria-label":a,autoFocus:s,className:it("".concat(r,"__input"),"".concat(r,"__").concat(v)),"data-input":"true","data-select":"true",disabled:n,name:v,onChange:d,onKeyDown:u,ref:l,required:x,value:m!==null?m:""},!m&&w.createElement("option",{value:""},"--"),w.createElement("option",{disabled:p,value:"am"},y),w.createElement("option",{disabled:j,value:"pm"},f))}function ix(t){var a=t.ariaLabel,s=t.disabled,r=t.maxDate,n=t.minDate,l=t.name,i=t.onChange,o=t.required,c=t.value,d=t.valueType,u=function(){switch(d){case"hour":return function(p){return"".concat(nr(p),"T").concat(He(p),":00")};case"minute":return function(p){return"".concat(nr(p),"T").concat(Id(p))};case"second":return Fd;default:throw new Error("Invalid valueType")}}(),x=function(){switch(d){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function m(p){p.stopPropagation()}return w.createElement("input",{"aria-label":a,disabled:s,hidden:!0,max:r?u(r):void 0,min:n?u(n):void 0,name:l,onChange:i,onFocus:m,required:o,step:x,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:c?u(c):""})}var Ys=new Map;function js(t){return function(s,r){var n=s||Fa();Ys.has(n)||Ys.set(n,new Map);var l=Ys.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(r)}}var Qs=new Map;function cx(t){return function(a,s){var r=a||Fa();Qs.has(r)||Qs.set(r,new Map);var n=Qs.get(r);return n.has(t)||n.set(t,new Intl.NumberFormat(r||void 0,t).format),n.get(t)(s)}}var ox={day:"numeric",month:"numeric",year:"numeric"},dx=js(ox);function zn(t,a){var s=Number(t);return a==="am"&&s===12?s=0:a==="pm"&&s<12&&(s+=12),s}function ux(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}function mx(t,a,s){return a&&a>t?a:s&&s<t?s:t}var xx=["9",""],Un=new RegExp("[".concat(xx.join(""),"]")),Vn=js({hour:"numeric"});function hx(t){var a=Vn(t,new Date(2017,0,1,9)),s=Vn(t,new Date(2017,0,1,21)),r=a.split(Un),n=r[0],l=r[1],i=s.split(Un),o=i[0],c=i[1];if(c!==void 0){if(n!==o)return[n,o].map(function(d){return d.trim()});if(l!==c)return[l,c].map(function(d){return d.trim()})}return["AM","PM"]}var mt=globalThis&&globalThis.__assign||function(){return mt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},mt.apply(this,arguments)},Kn=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},ds={},Va=new Date;Va.setFullYear(1,0,1);Va.setHours(0,0,0,0);var Zs=new Date(864e13),fx=["hour","minute","second"];function _i(t){return t instanceof Date?t:new Date(t)}function Hn(t,a,s,r){return a===re(t).toString()&&s===Tt(t).toString()&&r===At(t).toString()}function px(t,a){var s=Array.isArray(t)?t[a]:t;if(!s)return null;var r=_i(s);if(isNaN(r.getTime()))throw new Error("Invalid date: ".concat(t));return r}function gx(t,a){var s=t.value,r=t.minDate,n=t.maxDate,l=px(s,a);return l?mx(l,r,n):null}var vx=function(t){return gx(t,0)};function yx(t){return t.dataset.input==="true"}function $n(t,a){var s=t;do s=s[a];while(s&&!yx(s));return s}function Gs(t){t&&t.focus()}function jx(t,a,s){var r=[],n=new RegExp(Object.keys(a).map(function(i){return"".concat(i,"+")}).join("|"),"g"),l=t.match(n);return t.split(n).reduce(function(i,o,c){var d=o&&w.createElement(pm,{key:"separator_".concat(c)},o),u=Kn(Kn([],i,!0),[d],!1),x=l&&l[c];if(x){var m=a[x]||a[Object.keys(a).find(function(p){return x.match(p)})];if(!m)return u;!s&&r.includes(m)?u.push(x):(u.push(m(x,c)),r.push(m))}return u},[])}var us=cx({useGrouping:!1});function bx(t){var a=t.amPmAriaLabel,s=t.autoFocus,r=t.className,n=t.dayAriaLabel,l=t.dayPlaceholder,i=t.disabled,o=t.format,c=t.hourAriaLabel,d=t.hourPlaceholder,u=t.isWidgetOpen,x=t.locale,m=t.maxDate,p=t.maxDetail,j=p===void 0?"minute":p,v=t.minDate,N=t.minuteAriaLabel,y=t.minutePlaceholder,f=t.monthAriaLabel,S=t.monthPlaceholder,P=t.name,I=P===void 0?"datetime":P,E=t.nativeInputAriaLabel,_=t.onChange,T=t.onInvalidChange,M=t.required,L=t.secondAriaLabel,F=t.secondPlaceholder,z=t.showLeadingZeros,V=t.value,$=t.yearAriaLabel,U=t.yearPlaceholder,b=h.useState(null),Y=b[0],le=b[1],W=h.useState(null),Z=W[0],ce=W[1],oe=h.useState(null),de=oe[0],G=oe[1],Te=h.useState(null),Le=Te[0],Me=Te[1],Ie=h.useState(null),De=Ie[0],Ue=Ie[1],be=h.useState(null),ge=be[0],K=be[1],Q=h.useState(null),pe=Q[0],ve=Q[1],ot=h.useState(null),dt=ot[0],la=ot[1],wa=h.useRef(null),ia=h.useRef(null),ca=h.useRef(null),Fe=h.useRef(null),bt=h.useRef(null),oa=h.useRef(null),Ve=h.useRef(null),Nt=h.useRef(null),qt=h.useRef(null),ft=h.useState(u),wt=ft[0],da=ft[1],zt=h.useRef();h.useEffect(function(){da(u)},[u]),h.useEffect(function(){var C=vx({value:V,minDate:v,maxDate:m});C?(le(ux(He(C))[1]),ce(re(C).toString()),G(Tt(C).toString()),Me(At(C).toString()),Ue(He(C).toString()),K(Ot(C).toString()),ve(pa(C).toString()),la(_i(C))):(le(null),ce(null),G(null),Me(null),Ue(null),K(null),ve(null),la(null))},[V,v,m,wt]);var Ut=j,_a=function(){var C=fx.indexOf(j),O=ds[C]||function(){var R={hour:"numeric"};return C>=1&&(R.minute="numeric"),C>=2&&(R.second="numeric"),ds[C]=R,R}();return js(O)}(),ua=function(){var C=2017,O=11,R=11,q=new Date(C,O,R),_e=dx(x,q),Se=["year","month","day"],Ye=["y","M","d"];function St(Ct,fa){var $t=ds[Ct]||function(){var kt,rt=(kt={},kt[Ct]="numeric",kt);return ds[Ct]=rt,rt}();return js($t)(x,fa).match(/\d{1,}/)}var et=_e;return Se.forEach(function(Ct,fa){var $t=St(Ct,q);if($t){var kt=$t[0],rt=Ye[fa];et=et.replace(kt,rt)}}),et=et.replace("17","y"),et}(),ut=function(){var C=21,O=9,R=13,q=14,_e=new Date(2017,0,1,C,R,q);return _a(x,_e).replace(us(x,O),"h").replace(us(x,C),"H").replace(us(x,R),"mm").replace(us(x,q),"ss").replace(new RegExp(hx(x).join("|")),"a")}(),_t=o||"".concat(ua,"").concat(ut),ma=function(){var C=ua.match(/[^0-9a-z]/i);return C?C[0]:null}(),Ma=function(){var C=ut.match(/[^0-9a-z]/i);return C?C[0]:null}(),Vt=function(){if(m&&Hn(m,Z,de,Le))return rr(m||Zs)}(),Wa=function(){if(v&&Hn(v,Z,de,Le))return rr(v||Va)}();function xa(C){if(C.target===C.currentTarget){var O=C.target.children[1];Gs(O)}}function Ce(C){switch(zt.current=C.key,C.key){case"ArrowLeft":case"ArrowRight":case ma:case Ma:{C.preventDefault();var O=C.target,R=C.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",q=$n(O,R);Gs(q);break}}}function ke(C){var O=C.key,R=C.target,q=zt.current===O;if(q){var _e=!isNaN(Number(O));if(_e){var Se=R.getAttribute("max");if(Se){var Ye=R.value;if(Number(Ye)*10>Number(Se)||Ye.length>=Se.length){var St="nextElementSibling",et=$n(R,St);Gs(et)}}}}}function Kt(){if(!_)return;function C(Re){return!!Re}var O=[wa.current,bt.current,ca.current,Fe.current,ia.current,oa.current,Ve.current,Nt.current,qt.current].filter(C),R=O.slice(1),q={};O.forEach(function(Re){q[Re.name]=Re.type==="number"?"valueAsNumber"in Re?Re.valueAsNumber:Number(Re.value):Re.value});var _e=R.every(function(Re){return!Re.value});if(_e){_(null,!1);return}var Se=O.every(function(Re){return Re.value}),Ye=O.every(function(Re){return Re.validity.valid});if(Se&&Ye){var St=Number(q.year||new Date().getFullYear()),et=Number(q.month||1)-1,Ct=Number(q.day||1),fa=Number(q.hour24||q.hour12&&q.amPm&&zn(q.hour12,q.amPm)||0),$t=Number(q.minute||0),kt=Number(q.second||0),rt=new Date;rt.setFullYear(St,et,Ct),rt.setHours(fa,$t,kt,0),_(rt,!1);return}T&&T()}function ie(C){var O=C.target,R=O.name,q=O.value;switch(R){case"amPm":le(q);break;case"year":ce(q);break;case"month":G(q);break;case"day":Me(q);break;case"hour12":Ue(q?zn(q,Y||"am").toString():"");break;case"hour24":Ue(q);break;case"minute":K(q);break;case"second":ve(q);break}Kt()}function Be(C){var O=C.target.value;if(_){var R=function(){if(!O)return null;var q=O.split("T"),_e=q[0],Se=q[1],Ye=_e.split("-"),St=Ye[0],et=Ye[1],Ct=Ye[2],fa=Number(St),$t=Number(et)-1||0,kt=Number(Ct)||1,rt=Se.split(":"),Re=rt[0],ki=rt[1],Di=rt[2],Ti=Number(Re)||0,Oi=Number(ki)||0,Pi=Number(Di)||0,Ls=new Date;return Ls.setFullYear(fa,$t,kt),Ls.setHours(Ti,Oi,Pi,0),Ls}();_(R,!1)}}var Ge={className:r,disabled:i,maxDate:m||Zs,minDate:v||Va,onChange:ie,onKeyDown:Ce,onKeyUp:ke,required:!!(M||wt)},H={maxTime:Vt,minTime:Wa};function X(C,O){if(C&&C.length>2)throw new Error("Unsupported token: ".concat(C));var R=C&&C.length===2;return w.createElement(Dm,mt({key:"day"},Ge,{ariaLabel:n,autoFocus:O===0&&s,inputRef:bt,month:de,placeholder:l,showLeadingZeros:R||z,value:Le,year:Z}))}function Ee(C,O){if(C&&C.length>4)throw new Error("Unsupported token: ".concat(C));if(C.length>2)return w.createElement(Wm,mt({key:"month"},Ge,{ariaLabel:f,autoFocus:O===0&&s,inputRef:Fe,locale:x,placeholder:S,short:C.length===3,value:de,year:Z}));var R=C&&C.length===2;return w.createElement(Om,mt({key:"month"},Ge,{ariaLabel:f,autoFocus:O===0&&s,inputRef:ca,placeholder:S,showLeadingZeros:R||z,value:de,year:Z}))}function We(C,O){return w.createElement(qm,mt({key:"year"},Ge,{ariaLabel:$,autoFocus:O===0&&s,inputRef:ia,placeholder:U,value:Z,valueType:"day"}))}function ye(C,O){if(C&&C.length>2)throw new Error("Unsupported token: ".concat(C));var R=C?C.length===2:!1;return w.createElement(Jm,mt({key:"hour12"},Ge,H,{amPm:Y,ariaLabel:c,autoFocus:O===0&&s,inputRef:oa,placeholder:d,showLeadingZeros:R,value:De}))}function Xe(C,O){if(C&&C.length>2)throw new Error("Unsupported token: ".concat(C));var R=C?C.length===2:!1;return w.createElement(tx,mt({key:"hour24"},Ge,H,{ariaLabel:c,autoFocus:O===0&&s,inputRef:Ve,placeholder:d,showLeadingZeros:R,value:De}))}function st(C,O){return/h/.test(C)?ye(C,O):Xe(C,O)}function Je(C,O){if(C&&C.length>2)throw new Error("Unsupported token: ".concat(C));var R=C?C.length===2:!1;return w.createElement(sx,mt({key:"minute"},Ge,H,{ariaLabel:N,autoFocus:O===0&&s,hour:De,inputRef:Nt,placeholder:y,showLeadingZeros:R,value:ge}))}function Ra(C,O){if(C&&C.length>2)throw new Error("Unsupported token: ".concat(C));var R=C?C.length===2:!0;return w.createElement(nx,mt({key:"second"},Ge,H,{ariaLabel:L,autoFocus:O===0&&s,hour:De,inputRef:qt,minute:ge,placeholder:F,showLeadingZeros:R,value:pe}))}function Ht(C,O){return w.createElement(lx,mt({key:"ampm"},Ge,H,{ariaLabel:a,autoFocus:O===0&&s,inputRef:wa,locale:x,onChange:ie,value:Y}))}function ha(){var C={d:X,M:Ee,y:We,h:st,H:st,m:Je,s:Ra,a:Ht},O=typeof o<"u";return jx(_t,C,O)}function Sa(){return w.createElement(ix,{key:"datetime",ariaLabel:E,disabled:i,maxDate:m||Zs,minDate:v||Va,name:I,onChange:Be,required:M,value:dt,valueType:Ut})}return w.createElement("div",{className:r,onClick:xa},Sa(),ha())}var Nx=globalThis&&globalThis.__spreadArray||function(t,a,s){if(s||arguments.length===2)for(var r=0,n=a.length,l;r<n;r++)(l||!(r in a))&&(l||(l=Array.prototype.slice.call(a,0,r)),l[r]=a[r]);return t.concat(l||Array.prototype.slice.call(a))},wx=["hour","minute","second"],_x=Nx([],wx,!0),Sx=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.maxDate;return o&&i>o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, minDate cannot be larger than maxDate.")):null},Cx=function(a,s,r){var n=a,l=s,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, expected instance of `Date`."));var o=a.minDate;return o&&i<o?new Error("Invalid prop `".concat(s,"` of type `").concat(typeof i,"` supplied to `").concat(r,"`, maxDate cannot be smaller than minDate.")):null};g.oneOf(_x);var kx=function(t){return g.arrayOf(t)},Qt=globalThis&&globalThis.__assign||function(){return Qt=Object.assign||function(t){for(var a,s=1,r=arguments.length;s<r;s++){a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Qt.apply(this,arguments)},Xs=globalThis&&globalThis.__rest||function(t,a){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)a.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s},Dx=typeof document<"u",Ke="react-datetime-picker",Tx=["mousedown","focusin","touchstart"],Si=["hour","minute","second"],Ci={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Ox=w.createElement("svg",Qt({},Ci,{className:"".concat(Ke,"__calendar-button__icon ").concat(Ke,"__button__icon")}),w.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),w.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),w.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),Px=w.createElement("svg",Qt({},Ci,{className:"".concat(Ke,"__clear-button__icon ").concat(Ke,"__button__icon")}),w.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),w.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),cn=function(a){var s=a.amPmAriaLabel,r=a.autoFocus,n=a.calendarAriaLabel,l=a.calendarIcon,i=l===void 0?Ox:l,o=a.className,c=a.clearAriaLabel,d=a.clearIcon,u=d===void 0?Px:d,x=a.closeWidgets,m=x===void 0?!0:x,p=a["data-testid"],j=a.dayAriaLabel,v=a.dayPlaceholder,N=a.disableCalendar,y=a.disableClock,f=a.disabled,S=a.format,P=a.hourAriaLabel,I=a.hourPlaceholder,E=a.id,_=a.isCalendarOpen,T=_===void 0?null:_,M=a.isClockOpen,L=M===void 0?null:M,F=a.locale,z=a.maxDate,V=a.maxDetail,$=V===void 0?"minute":V,U=a.minDate,b=a.minuteAriaLabel,Y=a.minutePlaceholder,le=a.monthAriaLabel,W=a.monthPlaceholder,Z=a.name,ce=Z===void 0?"datetime":Z,oe=a.nativeInputAriaLabel,de=a.onCalendarClose,G=a.onCalendarOpen,Te=a.onChange,Le=a.onClockClose,Me=a.onClockOpen,Ie=a.onFocus,De=a.onInvalidChange,Ue=a.openWidgetsOnFocus,be=Ue===void 0?!0:Ue,ge=a.required,K=a.secondAriaLabel,Q=a.secondPlaceholder,pe=a.shouldCloseWidgets,ve=a.shouldOpenWidgets,ot=a.showLeadingZeros,dt=a.value,la=a.yearAriaLabel,wa=a.yearPlaceholder,ia=Xs(a,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),ca=h.useState(T),Fe=ca[0],bt=ca[1],oa=h.useState(L),Ve=oa[0],Nt=oa[1],qt=h.useRef(null),ft=h.useRef(null),wt=h.useRef(null);h.useEffect(function(){bt(T)},[T]),h.useEffect(function(){Nt(L)},[L]);function da(H){var X=H.reason;ve&&!ve({reason:X,widget:"calendar"})||(Nt(Ve&&!1),bt(!0),G&&G())}var zt=h.useCallback(function(H){var X=H.reason;pe&&!pe({reason:X,widget:"calendar"})||(bt(!1),de&&de())},[de,pe]);function Ut(){Fe?zt({reason:"buttonClick"}):da({reason:"buttonClick"})}function _a(H){var X=H.reason;ve&&!ve({reason:X,widget:"clock"})||(bt(Fe&&!1),Nt(!0),Me&&Me())}var ua=h.useCallback(function(H){var X=H.reason;pe&&!pe({reason:X,widget:"clock"})||(Nt(!1),Le&&Le())},[Le,pe]),ut=h.useCallback(function(H){var X=H.reason;zt({reason:X}),ua({reason:X})},[zt,ua]);function _t(H,X){X===void 0&&(X=m),X&&ut({reason:"select"}),Te&&Te(H)}function ma(H,X){var Ee=(Array.isArray(H)?H:[H])[0],We=(Array.isArray(dt)?dt:[dt])[0];if(We&&Ee){var ye=new Date(We),Xe=new Date(Ee);Xe.setHours(ye.getHours(),ye.getMinutes(),ye.getSeconds(),ye.getMilliseconds()),_t(Xe,X)}else _t(Ee,X)}function Ma(H){if(Ie&&Ie(H),!(f||!be||H.target.dataset.select==="true"))switch(H.target.name){case"day":case"month":case"year":{if(Fe)return;da({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(Ve)return;_a({reason:"focus"});break}}}var Vt=h.useCallback(function(H){H.key==="Escape"&&ut({reason:"escape"})},[ut]);function Wa(){_t(null)}function xa(H){H.stopPropagation()}var Ce=h.useCallback(function(H){var X=qt.current,Ee=ft.current,We=wt.current,ye="composedPath"in H?H.composedPath()[0]:H.target;ye&&X&&!X.contains(ye)&&(!Ee||!Ee.contains(ye))&&(!We||!We.contains(ye))&&ut({reason:"outsideAction"})},[ft,wt,ut,qt]),ke=h.useCallback(function(H){H===void 0&&(H=Fe||Ve),Tx.forEach(function(X){H?document.addEventListener(X,Ce):document.removeEventListener(X,Ce)}),H?document.addEventListener("keydown",Vt):document.removeEventListener("keydown",Vt)},[Fe,Ve,Ce,Vt]);h.useEffect(function(){return ke(),function(){ke(!1)}},[ke]);function Kt(){var H=(Array.isArray(dt)?dt:[dt])[0],X={amPmAriaLabel:s,dayAriaLabel:j,hourAriaLabel:P,minuteAriaLabel:b,monthAriaLabel:le,nativeInputAriaLabel:oe,secondAriaLabel:K,yearAriaLabel:la},Ee={dayPlaceholder:v,hourPlaceholder:I,minutePlaceholder:Y,monthPlaceholder:W,secondPlaceholder:Q,yearPlaceholder:wa};return w.createElement("div",{className:"".concat(Ke,"__wrapper")},w.createElement(bx,Qt({},X,Ee,{autoFocus:r,className:"".concat(Ke,"__inputGroup"),disabled:f,format:S,isWidgetOpen:Fe||Ve,locale:F,maxDate:z,maxDetail:$,minDate:U,name:ce,onChange:_t,onInvalidChange:De,required:ge,showLeadingZeros:ot,value:H})),u!==null&&w.createElement("button",{"aria-label":c,className:"".concat(Ke,"__clear-button ").concat(Ke,"__button"),disabled:f,onClick:Wa,onFocus:xa,type:"button"},typeof u=="function"?w.createElement(u):u),i!==null&&!N&&w.createElement("button",{"aria-label":n,className:"".concat(Ke,"__calendar-button ").concat(Ke,"__button"),disabled:f,onClick:Ut,onFocus:xa,type:"button"},typeof i=="function"?w.createElement(i):i))}function ie(){if(Fe===null||N)return null;var H=a.calendarClassName;a.className,a.maxDetail,a.onChange;var X=a.portalContainer,Ee=a.value,We=Xs(a,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),ye="".concat(Ke,"__calendar"),Xe=it(ye,"".concat(ye,"--").concat(Fe?"open":"closed")),st=w.createElement(em,Qt({className:H,onChange:function(Je){return ma(Je)},value:Ee},We));return X?er.createPortal(w.createElement("div",{ref:ft,className:Xe},st),X):w.createElement(Mn,null,w.createElement("div",{ref:function(Je){Je&&!Fe&&Je.removeAttribute("style")},className:Xe},st))}function Be(){if(Ve===null||y)return null;var H=a.clockClassName;a.className;var X=a.maxDetail,Ee=X===void 0?"minute":X;a.onChange;var We=a.portalContainer,ye=a.value,Xe=Xs(a,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),st="".concat(Ke,"__clock"),Je=it(st,"".concat(st,"--").concat(Ve?"open":"closed")),Ra=(Array.isArray(ye)?ye:[ye])[0],Ht=Si.indexOf(Ee),ha=w.createElement(im,Qt({className:H,renderMinuteHand:Ht>0,renderSecondHand:Ht>1,value:Ra},Xe));return We?er.createPortal(w.createElement("div",{ref:wt,className:Je},ha),We):w.createElement(Mn,null,w.createElement("div",{ref:function(Sa){Sa&&!Ve&&Sa.removeAttribute("style")},className:Je},ha))}var Ge=h.useMemo(function(){return Lo(ia)},[ia]);return w.createElement("div",Qt({className:it(Ke,"".concat(Ke,"--").concat(Fe||Ve?"open":"closed"),"".concat(Ke,"--").concat(f?"disabled":"enabled"),o),"data-testid":p,id:E},Ge,{onFocus:Ma,ref:qt}),Kt(),ie(),Be())},Bn=g.oneOfType([g.string,g.instanceOf(Date)]),Ax=g.oneOfType([Bn,kx(Bn)]);cn.propTypes={amPmAriaLabel:g.string,autoFocus:g.bool,calendarAriaLabel:g.string,calendarClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),calendarIcon:g.oneOfType([g.node,g.func]),className:g.oneOfType([g.string,g.arrayOf(g.string)]),clearAriaLabel:g.string,clearIcon:g.oneOfType([g.node,g.func]),clockClassName:g.oneOfType([g.string,g.arrayOf(g.string)]),closeWidgets:g.bool,"data-testid":g.string,dayAriaLabel:g.string,dayPlaceholder:g.string,disableCalendar:g.bool,disableClock:g.bool,disabled:g.bool,format:g.string,hourAriaLabel:g.string,hourPlaceholder:g.string,id:g.string,isCalendarOpen:g.bool,isClockOpen:g.bool,locale:g.string,maxDate:Cx,maxDetail:g.oneOf(Si),minDate:Sx,minuteAriaLabel:g.string,minutePlaceholder:g.string,monthAriaLabel:g.string,monthPlaceholder:g.string,name:g.string,nativeInputAriaLabel:g.string,onCalendarClose:g.func,onCalendarOpen:g.func,onChange:g.func,onClockClose:g.func,onClockOpen:g.func,onFocus:g.func,openWidgetsOnFocus:g.bool,required:g.bool,secondAriaLabel:g.string,secondPlaceholder:g.string,showLeadingZeros:g.bool,value:Ax,yearAriaLabel:g.string,yearPlaceholder:g.string};Dx&&(cn.propTypes.portalContainer=g.instanceOf(HTMLElement));const Xa=cn,Ix=({onClose:t})=>{const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,handleSubmit:c,handleChange:d,handleChangeSelect:u,handleChangeDateTime:x}=xo(),{warehouses:m}=ya(),{auth:p}=we();return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:j=>{j.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(se,{name:"id",value:s,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Created by"}),e.jsx(se,{name:"created_by",placeholder:"User ID",value:p.user.firstname+" "+p.user.lastname,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Source"}),e.jsxs(ue,{onValueChange:j=>u("source",Number(j)),required:!0,name:"source",children:[e.jsx(me,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose source location..."})}),e.jsx(he,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((j,v)=>e.jsxs(B,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},v))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Destination"}),e.jsxs(ue,{onValueChange:j=>u("destination",Number(j)),required:!0,name:"destination",children:[e.jsx(me,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose source location..."})}),e.jsx(he,{className:"bg-white font-medium",children:m.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):m.map((j,v)=>e.jsxs(B,{value:j.id.toString(),className:"text-sm font-medium text-slate-700",children:[j.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+j.code+"  "+j.location})]},j.code))})]})]})]}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12 justify-center",children:e.jsxs("div",{className:"flex flex-col col-span-10 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Schedule"}),e.jsx(Xa,{onChange:j=>x("transfer_schedule",j),format:"yyyy-M-d H:m",minDate:new Date,value:o,required:!0})]})}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12",children:e.jsxs("div",{className:"flex flex-col gap-1 col-span-12 w-full",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Notes:"}),e.jsx(Tr,{name:"notes",onChange:d,value:a.notes||"",placeholder:"Add notes here...."})]})}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:r?"green":null,disabled:!r,onClick:c,children:n?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Fx=({onClose:t})=>{var _,T,M,L,F,z,V,$,U;const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,dateDisplayArrived:c,handleSubmit:d,handleChange:u,handleChangeSelect:x,handleChangeDateTime:m}=Al(),{selectedTransfer:p,transferProducts:j}=ht(),{warehouses:v}=ya(),{users:N}=il(),{auth:y}=we(),f=e.jsxs(e.Fragment,{children:[e.jsx(ue,{onValueChange:b=>x("approval_status",b),name:"approval_status",value:a.approval_status||"",children:e.jsxs(me,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(xe,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(B,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(B,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(b=>b.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(Mr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),S=e.jsxs(ue,{onValueChange:b=>x("source",Number(b)),name:"source",children:[e.jsx(me,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(_=v[a.source-1])==null?void 0:_.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(T=v[a.source-1])==null?void 0:T.code," ",""," ",(M=v[a.source-1])==null?void 0:M.location]})]})})}),e.jsx(he,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((b,Y)=>e.jsxs(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.source&&"selected"}`,children:[b.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+b.code+"  "+b.location})]},Y))})]}),P=e.jsxs(ue,{onValueChange:b=>x("destination",Number(b)),name:"destination",children:[e.jsx(me,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(L=v[a.destination-1])==null?void 0:L.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=v[a.destination-1])==null?void 0:F.code," ",""," ",(z=v[a.destination-1])==null?void 0:z.location]})]})})}),e.jsx(he,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((b,Y)=>e.jsxs(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.destination&&"selected"}`,children:[b.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+b.code+"  "+b.location})]},b.code))})]}),I=e.jsx(ue,{onValueChange:b=>x("transfer_status",b),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(me,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(xe,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(B,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(B,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),E=e.jsxs(ue,{onValueChange:b=>x("received_by",Number(b)),name:"received_by",children:[e.jsx(me,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:N.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?N[Number(a.received_by)-1].firstname+" "+N[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(he,{className:"bg-white font-medium",children:N.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):N.map((b,Y)=>e.jsx(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.received_by&&"selected"}`,children:b.firstname+" "+b.lastname},Y))})]});return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:b=>{b.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),S]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),P]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:p.created_by.firstname+" "+p.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((V=a.approval_status)==null?void 0:V.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"})]}),(($=a.approval_status)==null?void 0:$.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"})]}),y.rolePermissions.some(b=>b.permission_id===22)?((U=a.approval_status)==null?void 0:U.toLowerCase())==="pending"&&f:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Ja,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:N.length>0?N[a.approved_by-1].firstname+" "+N[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:I})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(Xa,{onChange:b=>m("transfer_schedule",b),value:o,format:"yyyy-M-d H:mm",minDate:o,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:E})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(Xa,{onChange:b=>m("date_received",b),value:c,format:"yyyy-M-d H:mm",minDate:o})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Tr,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:u})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:r?"green":null,disabled:!r,onClick:d,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Ex=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,selectedTransfer:n,setSelectedTransfer:l,selectedProduct:i,setSelectedProduct:o}=ht();we();const c=s.filter(x=>x.transfer_id===n.id),d=()=>{t({},"add")},u=[{id:"select",header:({table:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsAllPageRowsSelected(),onChange:m=>x.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:x})=>e.jsx("input",{type:"checkbox",checked:x.getIsSelected(),onChange:m=>x.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{id:"product_name",sortingFn:"text",enableSorting:!0,header:({column:x})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>x.toggleSorting(x.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["PRODUCT NAME ",x.getIsSorted()==="asc"?e.jsx(J,{}):x.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:x})=>e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:x.original.product.name})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES COUNT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_count})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.bundles_unit})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY PER BUNDLE"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.quantity_per_bundle})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"text-center",children:"UNIT"}),cell:({row:x})=>e.jsx("div",{className:"text-center",children:x.original.unit})},{accessorKey:"total_quantity",header:()=>e.jsx("div",{className:"text-center",children:"TOTAL QUANTITY"}),cell:({row:x})=>e.jsxs("div",{className:"text-center",children:[x.original.total_quantity," ",x.original.unit]})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:x})=>(x.original,n.transfer_status!="arrived"&&n.approval_status!="rejected"&&e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:e.jsx(k,{fill:"yellow",textColor:"black",children:"Edit Product"})}))}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:c,columns:u,filterWhat:"product_name",dataType:"Transfer Products",openModal:n.transfer_status!="arrived"&&n.approval_status!="rejected"?d:void 0,isLoading:r})})},Lx=({onClose:t})=>{const{product:a,allProducts:s,allInventoryProducts:r,filteredProductsSrc:n,bundlesLimit:l,quantityLimit:i,damagedCount:o,isChanged:c,isSubmitting:d,error:u,success:x,handleSubmit:m,handleChange:p,handleChangeSelect:j}=ho();we();const v=a.capital_price?a.capital_price:0,N=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(v);return x&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:y=>{y.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Product ID"}),e.jsx(se,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(se,{name:"created_by",placeholder:"User ID",value:a.transfer_id,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Product to transfer:"}),e.jsxs(ue,{onValueChange:y=>j("product_id",Number(y.split("-")[0]),Number(y.split("-")[1])),required:!0,name:"product_id",children:[e.jsx(me,{name:"product_id",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose product..."})}),e.jsx(he,{className:"bg-white font-medium",children:n.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):n.map((y,f)=>e.jsx(B,{value:y.product.id?y.product.id.toString()+"-"+f.toString():"",className:"text-sm font-medium text-slate-700",children:y.product.name},f))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Capital Price:"}),e.jsx(se,{name:"capital_price",type:"string",value:N,onChange:p,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES COUNT"}),e.jsx(se,{name:"bundles_count",type:"number",value:a.bundles_count||"",placeholder:`Available stocks: ${l}`,max:l,onChange:p,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES UNIT"}),e.jsx(se,{name:"bundles_unit",type:"string",value:a.bundles_unit||"",placeholder:"box, bundle, etc.",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"QUANTITY PER BUNDLE"}),e.jsx(se,{name:"quantity_per_bundle",type:"number",value:a.quantity_per_bundle||"",placeholder:"Quantity per bundle",onChange:p,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"UNIT"}),e.jsx(se,{name:"unit",type:"string",value:a.unit||"",placeholder:"box, pieces, etc.",disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"TOTAL QUANTITY"}),e.jsx(se,{name:"total_quantity",type:"string",value:a.total_quantity&&a.unit?a.total_quantity.toString()+" "+a.unit.toString():"",placeholder:`Available stocks: ${i}`,onChange:p,disabled:!0,readOnly:!0})]}),a.total_quantity!=0&&o!=0&&a.total_quantity==i&&e.jsxs("div",{className:"grid content-center group",children:[e.jsx(Mr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsxs("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-2 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:["Some damaged goods (",o," ",a.unit,") are included in the transfer."]})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:c?"green":null,disabled:!c,onClick:m,children:d?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[x&&e.jsx("div",{className:"font-bold text-green-700",children:x}),u&&e.jsx("div",{className:"font-bold text-red-700",children:u}),d?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},Mx=({onClose:t})=>{const{transfers:a,transferProducts:s,isFetching:r,selectedTransfer:n,setSelectedTransfer:l}=ht(),{isOpen:i,openModal:o,closeModal:c}=Ze(),[d,u]=h.useState("");we(),s.filter(m=>m.transfer_id===n.id);const x=(m,p)=>{o(),u(p)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(Ex,{openModal:x})}),e.jsx(at,{title:d==="edit"?"Edit Transfer Product":"Add Transfer Product",isOpen:i,onClose:c,children:e.jsx(e.Fragment,{children:d==="add"&&e.jsx(Lx,{onClose:c})})})]})},Fh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Transfer",children:e.jsxs(cl,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(fo,{openModal:l})})}),e.jsx(at,{title:r==="details"?"Transfer Details":r==="edit"?"Edit Transfer":r==="add"?"Add Transfer":"Transfer Products",isOpen:t,onClose:s,children:e.jsxs(e.Fragment,{children:[r==="details"&&e.jsx(po,{onClose:s}),r==="edit"&&e.jsx(Fx,{onClose:s}),r==="add"&&e.jsx(Ix,{onClose:s}),r==="products"&&e.jsx(Mx,{onClose:s})]})})]})})})},Wx=[{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Dashboard",icon:e.jsx(Tc,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/dashbard"},{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Add Order",icon:e.jsx(ol,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/pos/add-order"},{allowedRoles:["super_admin","admin","manager"],navbarProps:{displayText:"Add Product",icon:e.jsx(Pc,{className:"h-10 w-10 text-[#CCCCCC]"})},path:"/pos/add-product"}],Rx=({item:t})=>t.navbarProps&&t.path?e.jsx(e.Fragment,{children:e.jsx(dl,{children:e.jsxs(ul,{children:[e.jsx(ml,{asChild:!0,children:e.jsx(cc,{to:t.path,className:`flex w-full cursor-pointer flex-row justify-center  ${location.pathname===t.path?"bg-primary-background hover:bg-white":"hover:bg-white/5"}`,children:e.jsx("div",{className:"item-center flex justify-center gap-5 p-4",children:t.navbarProps.icon?e.jsx("div",{className:"flex items-center",children:t.navbarProps.icon}):null})})}),location.pathname===t.path?"":e.jsx(e.Fragment,{children:e.jsx(xl,{align:"center",className:"bg-pos-primary-background",side:"right",sideOffset:0,children:e.jsx("span",{className:"p-2 text-white",children:t.navbarProps.displayText})})})]})})}):null,qx=({})=>e.jsx(e.Fragment,{children:e.jsx("nav",{id:"navbar",className:"bg-pos-primary-background flex h-screen min-w-[52px] max-w-[80px] flex-col",children:e.jsx("div",{children:e.jsxs("ul",{children:[e.jsx("div",{className:"flex justify-center p-3",children:e.jsx("img",{src:oc,alt:"RoyalGlassSupply-Logo",className:"h-11 w-11 rounded-full bg-white p-1"})}),Wx.map((t,a)=>t.navbarProps?e.jsx(Rx,{item:t},a):null)]})})})});function zx({columns:t,data:a}){var r;const s=wc({data:a,columns:t,getCoreRowModel:_c(),defaultColumn:{size:200,minSize:50,maxSize:500}});return e.jsx("div",{className:"rounded-md border",children:e.jsxs(hl,{children:[e.jsx(fl,{children:s.getHeaderGroups().map(n=>e.jsx(fs,{children:n.headers.map(l=>e.jsx(pl,{style:{width:l.index===0?250:500},children:l.isPlaceholder?null:mn(l.column.columnDef.header,l.getContext())},l.id))},n.id))}),e.jsx(gl,{children:((r=s.getRowModel().rows)==null?void 0:r.length)&&s.getRowModel().rows.map(n=>e.jsx(fs,{children:n.getVisibleCells().map(l=>e.jsx(nt,{children:mn(l.column.columnDef.cell,l.getContext())},l.id))},n.id))})]})})}const Ux=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e.jsx(Ic,{width:150,height:150,color:"#888888",strokeWidth:-1}),e.jsx("span",{className:"max-w-[300px] text-center text-[#888]",children:"Start entering products / product code / serial number / brand"})]})}),Vx=({})=>{const{invoiceItemsQueue:t,quantityHandler:a,formatCurrency:s,handleInvoiceItemsChange:r,handleRemoveInvoiceItem:n}=tt(),{data:l}=Or(),{data:i}=es(),o=[{id:"orderItem",enableResizing:!1,header:()=>e.jsx("div",{className:"flex justify-center",children:"Item #"}),cell:({row:c})=>e.jsx("div",{className:"flex justify-center",children:c.index+1}),size:250},{accessorKey:"name",header:()=>e.jsx("div",{className:"justify-center",children:"Product Name"}),cell:({row:c})=>e.jsx("div",{className:"flex ",children:c.original.product_id.name})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"flex justify-center",children:"Quantity"}),cell:({row:c})=>{const d=c.index,u=l.find(x=>x.product.id===c.original.product_id.id);return e.jsx("div",{className:"flex justify-center ",children:e.jsxs("div",{className:"flex flex-row border drop-shadow-sm",children:[e.jsx(je,{className:"rounded-sm bg-red-300 hover:bg-red-500 disabled:opacity-100",onClick:()=>{a(d,c.original.quantity-1,(u==null?void 0:u.remaining_stocks_count)??0)},disabled:c.original.quantity<=1,children:e.jsx("span",{children:"-"})}),e.jsx(A,{id:"quantity",className:"w-20 rounded-none text-center drop-shadow-none",type:"number",value:c.original.quantity||"",onChange:x=>{a(d,Number(x.target.value),u?u.remaining_stocks_count??0:0)},disabled:!(u!=null&&u.remaining_stocks_count)}),e.jsx(je,{className:"rounded-sm bg-slate-500 hover:bg-slate-700 disabled:bg-slate-200",onClick:()=>{a(d,c.original.quantity+1,(u==null?void 0:u.remaining_stocks_count)??0)},disabled:c.original.quantity>=((u==null?void 0:u.remaining_stocks_count)??0),children:e.jsx("span",{children:"+"})})]})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center",children:"Product Price"}),cell:({row:c})=>{const d=i.find(u=>u.product.id===c.original.product_id.id);return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:s(c.original.product_price)}),d!=null&&d.sale_discount?e.jsxs("span",{className:"text-sm font-light",children:["(",s((d==null?void 0:d.sale_discount)??0),")"]}):null]})}},{accessorKey:"item_discount",header:()=>e.jsx("div",{className:"justify-center",children:"Item Discount"}),cell:({row:c})=>e.jsx("div",{children:e.jsx(A,{id:"item_discount",value:c.original.item_discount,type:"number",onChange:d=>{r(c.index,"item_discount",Number(d.target.value))}})},c.index)},{id:"total_price",accessorKey:"total_price",header:()=>e.jsx("div",{className:"justify-center",children:"Total"}),cell:({row:c})=>e.jsx("div",{className:"",children:e.jsx("span",{children:s(c.original.total_price)})}),size:250},{id:"actions",cell:({row:c})=>{const d=c.index;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsx(je,{className:"bg-red-500 hover:bg-red-700",onClick:()=>{n(d)},children:e.jsx(Fc,{color:"#FFF"})})})}}];return e.jsx(e.Fragment,{children:t.length===0?e.jsx(Ux,{}):e.jsx(zx,{data:t,columns:o})})},Kx=()=>{const t=$e(),[a,s]=h.useState({}),r=(o,c)=>{s(d=>({...d,[o]:c}))},n=async o=>(console.log("Submitting: ",o),await i(o)),l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["customers"]}),s({})},onError:o=>{console.error("Error adding customer:",o.message)}},{mutateAsync:i}=ne({mutationKey:["addCustomer"],mutationFn:dc,...l});return{value:a,setValue:s,handleChange:r,handleSubmit:n}},Hx=({onClose:t})=>{const{value:a,setValue:s,handleChange:r,handleSubmit:n}=Kx();h.useEffect(()=>{s(d=>({...d}))},[]);const[l,i]=h.useState(!1),[o,c]=h.useState(null);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async d=>{i(!l),d.preventDefault();const u=await n(a);(u==null?void 0:u.status)===201?(i(!l),t()):(i(!l),c("Failed to add inventory"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2 ",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{className:"text-sm font-semibold uppercase",htmlFor:"firstname",children:"First Name"}),e.jsx(A,{id:"firstname",name:"firstname",required:!0,type:"text",placeholder:"First Name",onChange:d=>r("firstname",d.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{className:"text-sm font-semibold uppercase",htmlFor:"lastname",children:"Last Name"}),e.jsx(A,{id:"lastname",name:"lastname",required:!0,type:"text",placeholder:"Last Name",onChange:d=>r("lastname",d.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{className:"text-sm font-semibold uppercase",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(kl,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(A,{id:"address",name:"address",type:"text",placeholder:"Address",defaultValue:"",className:"pl-10",onChange:d=>r("address",d.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(D,{className:"text-sm font-semibold uppercase",htmlFor:"contact_no",children:"Contact Number"}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Dl,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(A,{required:!0,id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",defaultValue:"",max:11,maxLength:11,onChange:d=>r("contact_no",d.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4",children:[e.jsx(k,{onClick:()=>t(),type:"reset",className:'hover:text-white"  py-2 text-sm font-bold text-slate-700',children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:l||Object.keys(a).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Submitting...":"Add Customer"})]}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:o})})]})})})},$x=({})=>{const{data:t,isLoading:a,selectedCustomer:s,setSelectedCustomer:r}=Pr(),[n,l]=h.useState(""),{invoice:i,setInvoice:o}=tt(),{openModal:c,isOpen:d,closeModal:u}=Ze();return e.jsxs(e.Fragment,{children:[e.jsx("div",{children:e.jsxs(Xt,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(Jt,{value:n,onValueChange:l,placeholder:a?"Loading Customers":s.id?`${s.firstname} ${s.lastname}`:"Enter Customer Name"}),e.jsx(vl,{className:"",children:n?e.jsxs(e.Fragment,{children:[e.jsxs(ea,{className:"flex flex-col gap-2 py-4 pb-1 text-center text-sm",children:[e.jsx("span",{className:"font-bold uppercase",children:"Customer Not Found"}),e.jsxs(je,{className:"flex flex-row gap-4",onClick:c,children:[e.jsx(Ec,{color:"#fff"}),e.jsx("span",{className:"text-white",children:"Add Customer"})]})]}),t.map((x,m)=>e.jsx(gt,{className:"",value:x.firstname,onSelect:()=>{r(x),l(""),o({...i,customer_id:x.id})},children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{className:"",children:x.firstname}),e.jsx("span",{children:x.lastname})]})},m))]}):null})]})}),e.jsx(at,{isOpen:d,onClose:u,title:"Add Customer",children:e.jsx(Hx,{onClose:u})})]})},Bx=({})=>{const{selectedCustomer:t}=Pr();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-1 ",children:[e.jsx(D,{className:"text-lg uppercase text-white",children:"Customer Info"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx(A,{id:"firstname",name:"firstname",type:"text",placeholder:"First Name",readOnly:!0,defaultValue:t.firstname,disabled:!t.firstname}),e.jsx(A,{id:"lastname",name:"lastname",type:"text",placeholder:"Last Name",readOnly:!0,defaultValue:t.lastname,disabled:!t.lastname})]}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(kl,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(A,{id:"address",name:"address",type:"text",placeholder:"Address",className:"pl-10",readOnly:!0,defaultValue:t.address,disabled:!t.address})]}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Dl,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(A,{id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",readOnly:!0,defaultValue:t.contact_no,disabled:!t.contact_no,max:11,maxLength:11})]})]})]})})},Yx=()=>{const{formatCurrency:t,invoiceItemsQueue:a}=tt(),s=a.reduce((r,n)=>r+n.total_price,0);return e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs(vt,{children:[e.jsx(yt,{asChild:!0,children:e.jsxs(je,{variant:"outline",className:"justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Ac,{}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:a.length})})]})}),e.jsx(jt,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:a.map((r,n)=>{const l=r.total_price?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.total_price):"";return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("div",{className:"flex w-5 flex-row justify-between",children:[e.jsx("span",{className:"text-sm",children:r.quantity}),e.jsx("span",{className:"text-sm",children:"x"})]}),e.jsx("span",{className:"text-sm",children:r.product_id.name})]}),e.jsx("span",{className:"text-sm",children:l})]},n)})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Amount:"}),e.jsx("span",{className:"border-t border-t-slate-800 text-sm",children:s?t(s):"0.00"})]})]})})]})})};function Es(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t)}const Qx=()=>{const{invoice:t,invoiceItemsQueue:a}=tt();function s(){return t.paid_amount===0?0:(t.paid_amount??0)-a.reduce((r,n)=>r+n.total_price,0)}return e.jsx(e.Fragment,{children:e.jsxs(je,{variant:"outline",className:"justify-between hover:cursor-default hover:bg-white",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(kc,{}),e.jsx("span",{children:"Change"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:Es(Number(s()))})})]})})},Zx=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=tt(),r=h.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(je,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{r.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Cl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Paid Amount"})]}),e.jsx(A,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:r,id:"paid_amount",name:"paid_amount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${Es(l)}`,a("paid_amount",l)},onChange:n=>{a("paid_amount",Number(n.target.value)),a("change_amount",Number(Number(Number(n.target.value)-s.reduce((l,i)=>l+i.total_price,0)).toFixed(2))),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},Gx=()=>{const{invoiceItemsQueue:t,invoice:a}=tt(),s=t.reduce((r,n)=>r+n.total_price,0)-(a.total_discount??0);return e.jsx(e.Fragment,{children:e.jsxs(je,{variant:"outline",className:"justify-between hover:cursor-default",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(ol,{}),e.jsx("span",{children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:s?Es(s):"0.00"})})]})})},Xx=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:s}=tt(),r=h.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(je,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{r.current.focus()},disabled:s.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Cl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Discount Amount"})]}),e.jsx(A,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:r,id:"total_discount",name:"total_discount",type:"text",placeholder:"0.00",disabled:s.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${Es(l)}`,a("total_discount",l)},onChange:n=>{a("total_discount",Number(n.target.value)),a("change_amount",Number(n.target.value)-s.reduce((l,i)=>l+i.total_price,0)),a("status",Number(n.target.value)>0?"pending":"approved"),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},Jx=()=>{const{handleChange:t,invoice:a}=tt();return e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(D,{htmlFor:"payment_method",className:"text-lg uppercase text-white",children:"Payment Type"}),e.jsx(Ka,{id:"type",defaultValue:"payment",onValueChange:s=>{t("type",s)},children:e.jsxs(Ha,{className:"flex flex-row gap-1",children:[e.jsx(lt,{value:"payment",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Payment"}),e.jsx(lt,{value:"exit",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Exit"})]})}),e.jsx(Ka,{id:"payment_method",defaultValue:"cash",onValueChange:s=>{t("payment_method",s)},children:e.jsxs(Ha,{className:"flex flex-row",children:[e.jsx(lt,{value:"cash",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Cash"}),e.jsx(lt,{value:"credit",className:"data-[state=active]:bg-primary w-full rounded-md   text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"Credit"}),e.jsx(lt,{value:"debit",className:"data-[state=active]:bg-primary w-full rounded-md   text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"Debit"}),e.jsx(lt,{value:"wallet",className:"data-[state=active]:bg-primary w-full rounded-md   text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"Wallet"})]})})]}),e.jsx(dl,{children:e.jsxs(ul,{children:[e.jsx(ml,{asChild:!0,children:e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(Dc,{color:"black",className:"absolute top-0 translate-x-4 translate-y-2",size:24}),e.jsx(A,{id:"reference_no",name:"reference_no",type:"text",placeholder:"Reference Number",onChange:s=>{t("reference_no",Number(s.target.value))},disabled:a.payment_method!=="credit"&&a.payment_method!=="debit"&&a.payment_method!=="wallet",className:"pl-[3rem] text-base font-medium disabled:opacity-100"})]})}),e.jsx(xl,{align:"center",className:"bg-pos-primary-background",side:"left",sideOffset:2,children:e.jsx("span",{className:"p-2 text-white",children:"Reference Number"})})]})})]})},eh=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(Jx,{}),e.jsx(Gx,{}),e.jsx(Zx,{}),e.jsx(Qx,{}),e.jsx(Xx,{})]}),th=({})=>{const{auth:t}=we(),{setFilter:a}=yl(),{invoiceItemsQueue:s,invoice:r}=tt(),{value:n,addInvoiceMutation:l}=Tl(),{selectedCustomer:i}=Pr();async function o(){console.log("Invoice:",r),console.log("InvoiceItems:",s);let c=r;c.invoice_items=s.map(d=>({...d,product_id:d.product_id.id})),await l(c)}return e.jsxs("div",{className:"bg-pos-primary-background flex w-full max-w-[350px] flex-col gap-2 p-4",children:[t.role==="admin"?e.jsx(e.Fragment,{children:e.jsx(Ka,{defaultValue:"CDO",onValueChange:c=>{c==="ILI"&&a({approval_status:"approved",warehouse_id:2}),c==="CDO"&&a({approval_status:"approved",warehouse_id:1})},children:e.jsxs(Ha,{className:"flex flex-row",children:[e.jsx(lt,{value:"CDO",className:"data-[state=active]:bg-primary w-full rounded-md text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"CDO"}),e.jsx(lt,{value:"ILI",className:"data-[state=active]:bg-primary w-full rounded-md text-slate-800 hover:bg-slate-200 data-[state=active]:text-white",children:"ILI"})]})})}):null,e.jsx($x,{}),e.jsx(Bx,{}),e.jsx(Yx,{}),e.jsx(eh,{}),e.jsx(je,{onClick:()=>{console.log(s)},children:"TEST INVOICE ITEMS"}),e.jsx(je,{onClick:()=>{Yn.info("Coming Soon!")},children:"Print Invoice"}),e.jsx(je,{onClick:()=>{o()},disabled:Object.keys(i).length===0||s.length===0||r.paid_amount===0,children:"Submit"})]})},ah=({})=>{const[t,a]=h.useState(""),{isLoading:s,productListing:r}=yl(),{invoiceItemsQueue:n,setInvoiceItemsQueue:l}=tt();return e.jsx("div",{className:"relative z-20 border pb-10",children:e.jsx("div",{className:"absolute box-content flex w-full ",children:e.jsxs(Xt,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(Jt,{value:t,onValueChange:a,placeholder:s?"Loading Products":"Enter Serial Number / Brand / Product Name",disabled:r.length===0}),e.jsx(vl,{className:"",children:t?e.jsxs(e.Fragment,{children:[e.jsx(ea,{children:"Product Not Found"}),r.map((i,o)=>e.jsx(gt,{className:"",value:i.type==="retail"?`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Retail)`:`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Wholesale)`,onSelect:()=>{const c=n.findIndex(d=>d.product_price_id===i.id);if(console.log(c),c!==-1){const d=[...n];d[c].quantity++,l(d)}else l([...n,{unit:"",discount_approval_status:null,approved_by:null,item_discount:0,invoice_id:null,product_id:{id:i.product.id,name:i.product.name},product_price_id:i.id,product_price:i.cost,total_price:i.price,quantity:1,source_inventory:i.warehouse.id}]);a("")},children:e.jsxs("div",{className:"flex flex-1 flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.type==="retail"?e.jsx(_l,{strokeWidth:1}):e.jsx(kr,{strokeWidth:1}),e.jsx("span",{children:i.product.name}),e.jsx("span",{className:"text-xs text-gray-600 ",children:`(${i.type} ${i.warehouse.code}) ${i.stocks_quantity}`})]}),e.jsx("div",{children:e.jsxs("span",{children:[" ",i.price]})})]})},o))]}):null})]})})})},Eh=({})=>e.jsx(e.Fragment,{children:e.jsx(jl,{children:e.jsx(Qn,{children:e.jsx(rl,{children:e.jsx(uc,{children:e.jsx(mc,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(qx,{}),e.jsxs("div",{id:"main",className:"flex w-screen flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx(ah,{}),e.jsx(Vx,{})]}),e.jsx(th,{})]})]})})})})})})}),sh=({openModal:t})=>{const{transactions:a,isFetching:s,progress:r}=xc(),n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"Product ID"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.id})},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-center",children:"Price"}),cell:({row:l})=>{const i=parseFloat(l.getValue("amount")),o=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:o})}},{accessorKey:"product_name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["PRODUCT NAME ",l.getIsSorted()==="asc"?e.jsx(J,{}):l.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.product_name})},{accessorKey:"dimensions",header:()=>e.jsx("div",{className:"text-center",children:"DIMENSIONS"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.dimensions})},{accessorKey:"serial",header:()=>e.jsx("div",{className:"text-center",children:"SERIAL"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.serial})},{accessorKey:"sku",header:()=>e.jsx("div",{className:"text-center",children:"SKU"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.sku})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"INVENTORY STATUS"}),cell:({row:l})=>{const i=l.getValue("status"),o=i==="LOW"?"bg-red-500":i==="MEDIUM"?"bg-amber-500":"bg-lime-600";return e.jsx("div",{className:`flex w-full flex-1 flex-col text-center ${o}`,children:l.getValue("status")})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-center",children:"ORDER TYPE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.quantity})}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:a,columns:n,filterWhat:"serial",dataType:"Transaction",openModal:()=>t,isLoading:s})})},Lh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Transaction",children:e.jsx(hc,{children:e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(sh,{openModal:l})})})})})})},rh=({openModal:t})=>{const{transfers:a,transferProducts:s,isFetching:r,progress:n,setSelectedTransfer:l}=ht(),i=s.map(p=>({transfer_id:p.transfer_id})),c=a.filter(p=>{if(i.some(j=>j.transfer_id===p.id))return p}).filter(p=>{if(p.approval_status==="pending")return p}),{auth:d}=we(),u=p=>{l(p),t(p,"details")},x=p=>{l(p),t(p,"edit")},m=[{id:"select",header:({table:p})=>e.jsx("input",{type:"checkbox",checked:p.getIsAllPageRowsSelected(),onChange:j=>p.toggleAllPageRowsSelected(!!j.target.checked),"aria-label":"Select all"}),cell:({row:p})=>e.jsx("input",{type:"checkbox",checked:p.getIsSelected(),onChange:j=>p.toggleSelected(!!j.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",sortingFn:"basic",enableSorting:!0,header:({column:p})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER ID ",p.getIsSorted()==="asc"?e.jsx(J,{}):p.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:p})=>e.jsx("div",{className:"text-center",children:p.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:p})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",p.getIsSorted()==="asc"?e.jsx(J,{}):p.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:p})=>e.jsx("div",{className:"text-center",children:p.original.code?p.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:p})=>{const j=p.original.source,v=p.original.destination;return e.jsxs("div",{className:"text-center",children:[j.code,"-",v.code]})}},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:p})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",p.getIsSorted()==="asc"?e.jsx(J,{}):p.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:p})=>e.jsx("div",{className:"text-center",children:p.original.transfer_status?p.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:p})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",p.getIsSorted()==="asc"?e.jsx(J,{}):p.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:p})=>{const j=p.getValue("transfer_schedule");if(j.toString()!=="0000-00-00 00:00:00"){const v={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},N=new Date(j).toLocaleDateString([],v);return e.jsx("div",{className:"text-center",children:N})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:p})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>p.toggleSorting(p.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",p.getIsSorted()==="asc"?e.jsx(J,{}):p.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:p})=>{const j=p.getValue("date_received");if(j){const v={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},N=new Date(j).toLocaleDateString([],v);return e.jsx("div",{className:"text-center",children:N})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:p})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:p.original.approval_status.toLowerCase()==="approved"?e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"}):p.original.approval_status.toLowerCase()==="rejected"?e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(Ja,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"approved_by",header:()=>e.jsx("div",{className:"text-center",children:"APPROVED / REJECTED BY"}),cell:({row:p})=>{const j=p.getValue("approved_by");if(j){const v=j.firstname+" "+j.lastname;return e.jsx("div",{id:j.id,className:"text-center",children:v})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:p})=>{var v;const j=p.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>u(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),((v=d.role)==null?void 0:v.toLowerCase())!="encoder"&&e.jsxs(Ae,{onClick:()=>x(j),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:j.transfer_status!="arrived"&&j.approval_status!="rejected"?e.jsx(aa,{size:16,strokeWidth:2.25}):e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:c,columns:m,filterWhat:"approval_status",dataType:"",openModal:void 0,isLoading:r})})},nh=({onClose:t})=>{const{selectedTransfer:a}=ht();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":ze(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?ze(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:ze(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})},lh=({onClose:t})=>{var _,T,M,L,F,z,V,$,U;const{transfer:a,lastId:s,isChanged:r,isSubmitting:n,error:l,success:i,dateDisplay:o,dateDisplayArrived:c,handleSubmit:d,handleChange:u,handleChangeSelect:x,handleChangeDateTime:m}=Al(),{selectedTransfer:p,transferProducts:j}=ht(),{warehouses:v}=ya(),{users:N}=il(),{auth:y}=we(),f=e.jsxs(e.Fragment,{children:[e.jsx(ue,{onValueChange:b=>x("approval_status",b),name:"approval_status",value:a.approval_status||"",children:e.jsxs(me,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(xe,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(B,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(B,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),j.filter(b=>b.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(Mr,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),S=e.jsxs(ue,{onValueChange:b=>x("source",Number(b)),name:"source",children:[e.jsx(me,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(_=v[a.source-1])==null?void 0:_.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(T=v[a.source-1])==null?void 0:T.code," ",""," ",(M=v[a.source-1])==null?void 0:M.location]})]})})}),e.jsx(he,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((b,Y)=>e.jsxs(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.source&&"selected"}`,children:[b.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+b.code+"  "+b.location})]},Y))})]}),P=e.jsxs(ue,{onValueChange:b=>x("destination",Number(b)),name:"destination",children:[e.jsx(me,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(L=v[a.destination-1])==null?void 0:L.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(F=v[a.destination-1])==null?void 0:F.code," ",""," ",(z=v[a.destination-1])==null?void 0:z.location]})]})})}),e.jsx(he,{className:"bg-white font-medium",children:v.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):v.map((b,Y)=>e.jsxs(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.destination&&"selected"}`,children:[b.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+b.code+"  "+b.location})]},b.code))})]}),I=e.jsx(ue,{onValueChange:b=>x("transfer_status",b),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(me,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(xe,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(B,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(B,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),E=e.jsxs(ue,{onValueChange:b=>x("received_by",Number(b)),name:"received_by",children:[e.jsx(me,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:N.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?N[Number(a.received_by)-1].firstname+" "+N[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(he,{className:"bg-white font-medium",children:N.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):N.map((b,Y)=>e.jsx(B,{value:b.id.toString(),className:`text-sm font-medium text-slate-700 
								${b.id===a.received_by&&"selected"}`,children:b.firstname+" "+b.lastname},Y))})]});return i&&setTimeout(()=>{t()},3e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:b=>{b.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),S]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),P]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:p.created_by.firstname+" "+p.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((V=a.approval_status)==null?void 0:V.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Dt,{size:20,strokeWidth:2,className:"text-green-600"})]}),(($=a.approval_status)==null?void 0:$.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Pa,{size:20,strokeWidth:2,className:"text-red-600"})]}),y.rolePermissions.some(b=>b.permission_id===22)?((U=a.approval_status)==null?void 0:U.toLowerCase())==="pending"&&f:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(Ja,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:N.length>0?N[a.approved_by-1].firstname+" "+N[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:I})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(Xa,{onChange:b=>m("transfer_schedule",b),value:o,format:"yyyy-M-d H:mm",minDate:o,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:E})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(Xa,{onChange:b=>m("date_received",b),value:c,format:"yyyy-M-d H:mm",minDate:o})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(Tr,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:u})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(k,{type:"submit",fill:r?"green":null,disabled:!r,onClick:d,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(k,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},Mh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o),console.log("action",o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Pending Transfer",children:e.jsxs(cl,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(rh,{openModal:l})})}),e.jsx(at,{title:r==="details"?"Transfer Details":"Edit Transfer",isOpen:t,onClose:s,children:e.jsxs(e.Fragment,{children:[r==="details"&&e.jsx(nh,{onClose:s}),r==="edit"&&e.jsx(lh,{onClose:s})]})})]})})})},ih=({openModal:t})=>{const{invoices:a,isFetching:s,users:r,userSales:n,setSelectedInvoice:l}=bl(),i=()=>{t({},"add")},o=d=>{l(d.invoices),t(d,"details")},c=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:u=>d.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:u=>d.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"ID"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.id})},{accessorKey:"issued_by",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FULL NAME ",d.getIsSorted()==="asc"?e.jsx(J,{}):d.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.invoices[0].issued_by.firstname+" "+d.original.invoices[0].issued_by.lastname})},{id:"total_sales",sortingFn:"basic",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["NUMBER OF SALES ",d.getIsSorted()==="asc"?e.jsx(J,{}):d.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.invoices.length})},{id:"amount_sales",sortingFn:"basic",enableSorting:!0,header:({column:d})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{d.toggleSorting(d.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TOTAL AMOUNT OF SALES ",d.getIsSorted()==="asc"?e.jsx(J,{}):d.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:d})=>{const u=d.original.invoices.reduce((m,p)=>m+p.total_amount_due,0),x=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(u);return e.jsx("div",{className:"text-center",children:x})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:d})=>{const u=d.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>o(u),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx(Qe,{data:n,columns:c,filterWhat:"issued_by",dataType:"",openModal:i,isLoading:s})})},ch=({onClose:t,openModal:a})=>{const{selectedInvoice:s,isFetching:r}=bl(),n=()=>{a({},"add")},l=s[0];console.log(s);const i=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:c=>o.toggleAllPageRowsSelected(!!c.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:c=>o.toggleSelected(!!c.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"ID"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.id})},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CODE ",o.getIsSorted()==="asc"?e.jsx(J,{}):o.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.code})},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",o.getIsSorted()==="asc"?e.jsx(J,{}):o.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",o.getIsSorted()==="asc"?e.jsx(J,{}):o.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:o})=>{const c=o.getValue("created_at");if(c.toString()!=="0000-00-00 00:00:00"){const d={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},u=new Date(c).toLocaleDateString([],d);return e.jsx("div",{className:"text-center",children:u})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.customer.firstname+" "+o.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",o.getIsSorted()==="asc"?e.jsx(J,{}):o.getIsSorted()==="desc"?e.jsx(ee,{}):e.jsx(te,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.type})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:o})=>{const c=o.original.subtotal,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:o})=>{const c=o.original.total_discount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:o})=>{const c=o.original.total_tax,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:o})=>{const c=o.original.delivery_charge,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:o})=>{const c=o.original.total_amount_due,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:o})=>{const c=o.original.paid_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:o})=>{const c=o.original.change_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:o})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-6xl flex-col gap-4",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Issuer: ",l.issued_by.firstname+" "+l.issued_by.lastname]}),e.jsx(Qe,{data:s,columns:i,filterWhat:"or_no",dataType:"",openModal:n,isLoading:r})]})})},Wh=()=>{const{isOpen:t,openModal:a,closeModal:s}=Ze(),[r,n]=h.useState(""),l=(i,o)=>{a(),n(o)};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"User Sales",children:e.jsxs(fc,{children:[e.jsx("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ih,{openModal:l})})}),e.jsx(at,{isOpen:t,onClose:s,title:r==="details"?"Invoice Details":"",children:e.jsx(e.Fragment,{children:r==="details"&&e.jsx(ch,{onClose:s})})})]})})})},oh=()=>{const{roles:t,roleSelect:a,permissions:s,allPermissions:r,permissionChange:n,roleId:l,isChanged:i,isSubmitting:o,error:c,success:d,handleChange:u,handleChangeSelect:x,handleSubmit:m}=Kc(),{auth:p}=we(),j=r.filter(f=>Object.keys(f).some(S=>!f.title.includes("view".toLowerCase())&&f.title.includes("users".toLowerCase()))),v=r.filter(f=>Object.keys(f).some(S=>!f.title.includes("view".toLowerCase())&&!f.title.includes("transfer".toLowerCase())&&f.title.includes("product".toLowerCase())||f.title.includes("catalog".toLowerCase()))),N=r.filter(f=>Object.keys(f).some(S=>!f.title.includes("view".toLowerCase())&&f.title.includes("transfer".toLowerCase()))),y=r.filter(f=>Object.keys(f).some(S=>f.title.includes("view".toLowerCase())));return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col pb-2",children:e.jsxs("div",{className:"flex flex-row mt-4 ml-4 justify-between",children:[e.jsx(ue,{onValueChange:f=>x("roles",f),name:"roles",value:(a==null?void 0:a.title)||"",children:e.jsxs(me,{name:"roles",className:"flex flex-row items-left bg-white text-2xl w-72 h-auto drop-shadow-md",children:[e.jsx(xe,{placeholder:a!=null&&a.title?(a==null?void 0:a.title.charAt(0).toUpperCase())+(a==null?void 0:a.title.slice(1)):"Choose role..."}),e.jsx(he,{className:"bg-white font-medium",children:t?t.map(f=>e.jsx(B,{value:f.title,className:"text-xl font-medium text-slate-700",children:f.title.charAt(0).toUpperCase()+f.title.slice(1)},f.id)):e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})})})]})}),e.jsxs("div",{className:"flex flex-row items-center align-center text-lg",children:[d&&e.jsx("div",{className:"font-bold text-green-700",children:d}),c&&e.jsx("div",{className:"font-bold text-red-700",children:c}),o?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(Mt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-row justify-end items-center",children:e.jsx(k,{type:"submit",className:`rounded-md w-[250px] h-[56px] 
								${i?"bg-login-button hover:bg-blue-950":"hidden"} 
								font-extrabold uppercase`,disabled:!i,onClick:m,children:o?"Submitting":"Apply changes"})})]})}),e.jsx(ta,{type:"always",className:"bg-white",children:e.jsxs("div",{className:`flex flex-col grid-cols-12 h-[850px] mx-8 ${l===0?"blur-sm":"blur-none"}`,children:[e.jsx(tr,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),(a==null?void 0:a.title)===p.role&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsx("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start text-lg",children:"Warning: Be careful! You are editing the role which you have right now. You are at risk of locking yourself out."})}),e.jsx("br",{}),e.jsx("p",{className:"text-xl",children:"Note: After saving changes, the affected user(s) need to log out and log in again for changes to take effect."}),e.jsx("br",{}),e.jsxs("div",{className:"flex flex-col col-span-12 mx-4",children:[e.jsx("p",{className:"text-2xl",children:" User Management "}),e.jsx("div",{className:"flex flex-row mt-4 mx-2 justify-evenly",children:j.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):j.map((f,S)=>e.jsxs("div",{className:"flex rounded-lg text-xl items-center content-center p-4",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:f.title,value:f.id,onChange:u,checked:n.some(P=>P.permission_id===f.id)}),e.jsx("label",{htmlFor:f.title,className:"self-center",children:f.title})]},S))})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12 mx-4",children:[e.jsx("p",{className:"text-2xl",children:" Products "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:v.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):v.map((f,S)=>{const P=n.some(I=>I.permission_id===f.id);return e.jsxs("div",{className:"flex rounded-lg text-xl items-center content-center p-4",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:f.title,value:f.id,onChange:u,checked:P}),e.jsx("label",{htmlFor:f.title,className:"self-center",children:f.title})]},S)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12 mx-4",children:[e.jsx("p",{className:"text-2xl",children:" Transfers "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:N.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):N.map((f,S)=>e.jsxs("div",{className:"flex rounded-lg text-xl items-center content-center p-4",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:f.title,value:f.id,onChange:u,checked:n.some(P=>P.permission_id===f.id)}),e.jsx("label",{htmlFor:f.title,className:"self-center",children:f.title})]},S))})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"}),e.jsxs("div",{className:"flex flex-col col-span-12 mx-4",children:[e.jsx("p",{className:"text-2xl",children:" Views "}),e.jsx("div",{className:"flex flex-row flex-wrap mt-4 mx-2 justify-evenly",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ae,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map((f,S)=>{const P=n.some(I=>I.permission_id===f.id);return e.jsxs("div",{className:"flex rounded-lg text-xl items-center content-center p-4",children:[e.jsx("input",{className:"w-5 h-5 mr-2",type:"checkbox",name:f.title,value:f.id,onChange:u,checked:P}),e.jsx("label",{htmlFor:f.title,className:"self-center",children:f.title})]},S)})})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-800"})]})})]})},Rh=()=>e.jsx(e.Fragment,{children:e.jsx(Sc,{children:e.jsx(el,{children:e.jsxs("div",{className:"flex h-full flex-col gap-y-4",children:[e.jsx("h1",{className:"page-title text-primary-dark-gray text-3xl font-bold",children:"Role Permissions"}),e.jsxs("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsx("div",{className:"flex flex-row justify-between",children:e.jsx(se,{placeholder:"Search",variant:"searchbar",buttonIcon:"outside",className:"w-1/2"})}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(oh,{})})]})]})})})}),dh=({handleViewItems:t,handleViewDetails:a,handleEditInventory:s})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"id",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Id"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Code"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Type"," ",n.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"date_received",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Received"})},{accessorKey:"transfer_id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transer Id"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:n.original.transfer_id?n.original.transfer_id:""})})},{accessorKey:"created_by",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created by"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsxs("span",{children:[n.original.created_by.firstname," ",n.original.created_by.lastname]})})},{accessorKey:"created_at",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created at"}),cell:({row:n})=>{const l=ze(n.original.created_at);return e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:l})})}},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"}),cell:({row:n})=>e.jsx("div",{children:e.jsx("p",{className:"max-w-[25ch] truncate",children:n.original.notes?n.original.notes:""})})},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>{t(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(kr,{size:16,strokeWidth:2})}),e.jsx("span",{children:"View items"})]}),e.jsxs(Ae,{onClick:()=>{a(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Pt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(Ae,{onClick:()=>{s(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],uh=({openModal:t,filterWarehouse:a})=>{const[s,r]=h.useState([]),{data:n,isLoading:l,setSelectedInventory:i}=Ar(),o=Ir();h.useEffect(()=>{r(a?n.filter(m=>m.warehouse.id===a):n)},[n,a]);const c=()=>{t({},"add")},d=m=>{i(m),t(m,"edit")},u=m=>{i(m),o(`/inventory/items/${m.id}`)},x=m=>{i(m),t(m,"view_details")};return e.jsx(e.Fragment,{children:e.jsx(Qe,{columns:dh({handleViewItems:u,handleViewDetails:x,handleEditInventory:d}),data:s,filterWhat:"code",dataType:"Inventory",openModal:c,isLoading:l})})},mh=({FormValue:t,handleChange:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(yt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(je,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Wr,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(jt,{className:"w-auto p-0",children:e.jsx(Fr,{mode:"single",initialFocus:!0,required:!0,onDayClick:s=>{const r=new Date(s),n=`${r.getFullYear()}-${(r.getMonth()+1).toString().padStart(2,"0")}-${r.getDate().toString().padStart(2,"0")}`;a("date_received",n)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(A,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:s=>a("notes",s.target.value)})]})]})}),xh=({FormValue:t,handleChange:a})=>{const{transfers:s,isFetching:r}=Er(),[n,l]=h.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(vt,{open:n,onOpenChange:l,children:[e.jsx(yt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[t.transfer_id?(()=>{const i=s.find(o=>o.id===t.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:e.jsx("span",{children:i==null?void 0:i.code})})})():"Select a transfer item...",e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsx(ta,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Bt,{children:s.map(i=>e.jsxs(gt,{value:i.id.toString()+i.code,onSelect:()=>{a("transfer_id",i.id),l(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:i.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[i.approval_status,"  ",i.source.code,"->",i.destination.code,"  ",i.transfer_status]})]},i.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(yt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(je,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Wr,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(jt,{className:"w-auto p-0",children:e.jsx(Fr,{mode:"single",initialFocus:!0,required:!0,onDayClick:i=>{const o=new Date(i),c=`${o.getFullYear()}-${(o.getMonth()+1).toString().padStart(2,"0")}-${o.getDate().toString().padStart(2,"0")}`;a("date_received",c)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(A,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:i=>a("notes",i.target.value)})]})]})})},hh=({onClose:t,warehouses:a})=>{const{auth:s}=we(),{value:r,setValue:n,handleChange:l,handleSubmit:i}=Pl(),[o,c]=h.useState(!1),[d,u]=h.useState(null);return h.useEffect(()=>{l("created_by",s.user.id),l("type","supplier")},[]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:async x=>{if(x.preventDefault(),r.date_received===void 0)u("Please select a date for date received.");else{c(!o);const m=await i({action:"add",data:r});(m==null?void 0:m.status)===201?(c(!o),t()):(c(!o),u("Failed to add inventory"))}},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(A,{id:"code",name:"code",type:"text",maxLength:50,required:!0,placeholder:"Code...",onChange:x=>l("code",x.target.value)})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ue,{onValueChange:x=>l("warehouse_id",Number(x)),required:!0,children:[e.jsx(me,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose warehouse..."})}),e.jsx(he,{className:"bg-white font-medium",children:a.map((x,m)=>e.jsxs(B,{value:x.id.toString(),className:"text-sm font-medium text-slate-700",children:[x.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+x.code+"  "+x.location})]},m))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(Ka,{id:"type",defaultValue:r.type?r.type:"supplier",className:"w-full space-y-4",onValueChange:x=>{const{date_received:m,transfer_id:p,...j}=r;n(j),l("type",x)},children:[e.jsxs(Ha,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(lt,{value:"supplier",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Supplier"}),e.jsx(lt,{value:"transfer",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Transfer"})]}),e.jsx(hs,{value:"supplier",children:e.jsx(mh,{FormValue:r,handleChange:l})}),e.jsx(hs,{value:"transfer",children:e.jsx(xh,{FormValue:r,handleChange:l})})]})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(k,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:o||Object.keys(r).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Submitting...":"Add inventory"})]})}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:d})})]})})},fh=({onClose:t})=>{const{selectedInventory:a}=Ar(),{transfers:s,isFetching:r}=Er(),n=s.find(l=>l.id===a.transfer_id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:a.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"ID"}),e.jsx("p",{className:"text-sm",children:a.id})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs("p",{className:"text-sm",children:[a.warehouse.name," (",a.warehouse.code,")"]})]}),a.type==="transfer"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm capitalize",children:r?"Loading...":n==null?void 0:n.code})]}),e.jsxs("div",{className:`flex flex-col justify-center gap-1 ${a.type==="supplier"?"col-span-7":"col-span-3"}`,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("p",{className:"text-sm capitalize",children:a.date_received?a.date_received:""})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx("p",{className:"text-sm capitalize",children:a.notes?a.notes:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsxs("p",{className:"text-sm capitalize",children:[a.created_by.firstname," ",a.created_by.lastname]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm capitalize",children:ze(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm capitalize",children:a.updated_at?ze(a.updated_at):""})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-end pt-4",children:e.jsx("div",{className:"flex flex-row gap-4 whitespace-nowrap",children:e.jsx(k,{fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Close"})})})]})})},ph=({onClose:t,warehouses:a})=>{const{selectedInventory:s}=Ar(),{value:r,handleChange:n,handleSubmit:l}=Pl(),{transfers:i,isFetching:o}=Er(),[c,d]=h.useState(!1),[u,x]=h.useState(!1),[m,p]=h.useState(null),j=v=>i.find(N=>v===N.id);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async v=>{x(!u),v.preventDefault();const N=await l({action:"update",id:s.id,data:r});(N==null?void 0:N.status)===200?(x(!u),t()):(x(!u),p("Failed to update inventory item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(A,{id:"code",name:"code",type:"text",maxLength:50,required:!0,placeholder:"Code...",defaultValue:r.code?r.code:s.code?s.code:void 0,onChange:v=>n("code",v.target.value)})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ue,{onValueChange:v=>n("warehouse_id",Number(v)),defaultValue:s.warehouse.id.toString(),required:!0,children:[e.jsx(me,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(xe,{placeholder:"Choose warehouse..."})}),e.jsx(he,{className:"bg-white font-medium",children:a.map((v,N)=>e.jsxs(B,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code+"  "+v.location})]},N))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ue,{defaultValue:s.type,onValueChange:v=>n("type",v),children:[e.jsx(me,{name:"type",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm capitalize",children:e.jsx(xe,{placeholder:"Choose type..."})}),e.jsxs(he,{className:"bg-white font-medium",children:[e.jsx(B,{value:"supplier",className:"text-sm font-medium text-slate-700",children:"Supplier"}),e.jsx(B,{value:"transfer",className:"text-sm font-medium text-slate-700",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(vt,{children:[e.jsx(yt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(je,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(Wr,{size:18,strokeWidth:1.5}),r.date_received?r.date_received:s.date_received]})}),e.jsx(jt,{className:"w-auto p-0",children:e.jsx(Fr,{mode:"single",initialFocus:!0,required:!0,month:r.date_received?new Date(r.date_received):new Date(s.date_received),onDayClick:v=>{const N=new Date(v),y=`${N.getFullYear()}-${(N.getMonth()+1).toString().padStart(2,"0")}-${N.getDate().toString().padStart(2,"0")}`;n("date_received",y)},selected:r.date_received?new Date(r.date_received):new Date(s.date_received)})})]})]}),(s.type==="transfer"||r.type==="transfer")&&e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(vt,{open:c,onOpenChange:d,children:[e.jsx(yt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[i?r.transfer_id?(()=>{const v=j(r.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:v==null?void 0:v.code})})():s.transfer_id?(()=>{const v=j(s.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:v?v.code:"Loading..."})})():"Select inventory item...":"Loading...",e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),o&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsx(ta,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Bt,{children:i.map(v=>e.jsxs(gt,{value:v.id.toString()+v.code,onSelect:()=>{n("transfer_id",v.id),d(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:v.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[v.approval_status,"  ",v.source.code,"->",v.destination.code,"  ",v.transfer_status]})]},v.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(A,{id:"notes",name:"notes",type:"text",defaultValue:r.notes?r.notes:s.notes?s.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:v=>n("notes",v.target.value)})]})]}),e.jsx("div",{className:"flex w-full flex-row pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(k,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:u||Object.keys(r).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:u?"Applying changes...":"Apply changes"})]})}),m&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:m})})]})})})},qh=()=>{const{warehouses:t}=ya(),[a,s]=h.useState(0),{openModal:r,isOpen:n,closeModal:l}=Ze(),[i,o]=h.useState(""),c=(d,u)=>{o(u),r()};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Inventory",children:e.jsxs(pc,{children:[e.jsxs("div",{className:"flex flex-auto flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ue,{defaultValue:"0",onValueChange:d=>s(Number(d)),children:[e.jsx(me,{className:"w-[300px] text-sm font-medium",children:e.jsx(xe,{placeholder:"All"})}),e.jsxs(he,{className:"text-sm font-medium capitalize",children:[e.jsx(B,{value:"0",children:"All"},"all"),t.map(d=>e.jsxs(B,{value:d.id.toString(),children:[d.name," (",d.code,")"]},d.id))]})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(uh,{filterWarehouse:a>0?a:void 0,openModal:c})})]}),e.jsx(at,{isOpen:n,onClose:l,title:i==="add"?"Add Inventory":i==="view_details"?"Details":i==="edit"?"Edit Inventory":"",children:e.jsxs(e.Fragment,{children:[i==="add"&&e.jsx(hh,{warehouses:t,onClose:l}),i==="view_details"&&e.jsx(fh,{onClose:l}),i==="edit"&&e.jsx(ph,{warehouses:t,onClose:l})]})})]})})})},gh=({handleEditInventoryProduct:t})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:r=>s.toggleAllPageRowsSelected(!!r.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:r=>s.toggleSelected(!!r.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"product",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(k,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center whitespace-nowrap bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(J,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(ee,{size:18,strokeWidth:2}):e.jsx(te,{size:18,strokeWidth:2})]})})},{accessorKey:"supplier_id.name",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Supplier"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Cap. Price"}),cell:({row:s})=>{const r=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:s.original.capital_price?r:""})})}},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bund. count"})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Bund. unit"})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Qty/Bund."})},{accessorKey:"stocks_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Stocks Count"})},{accessorKey:"damage_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Damage Count"})},{accessorKey:"total_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Total Count"})},{accessorKey:"transferred_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transferred"})},{accessorKey:"sold_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sold"})},{accessorKey:"miscellaneous_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Misc"})},{accessorKey:"remaining_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Remaining"})},{id:"actions",cell:({row:s})=>{const r=s.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>{t(r)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],vh=({id:t,openModal:a})=>{const{data:s,isLoading:r}=gc(t),{setSelectedInventoryProduct:n}=Or(),l=()=>{a({},"add")},i=o=>{n(o),a(o,"edit")};return e.jsx("div",{className:"w-full rounded-lg border bg-white",children:e.jsx(Qe,{columns:gh({handleEditInventoryProduct:i}),data:s||[],filterWhat:"product",dataType:"Items",openModal:l,isLoading:r})})},yh=({setInventoryProductsQueue:t,inventoryId:a,products:s,productsLoading:r,suppliers:n,suppliersLoading:l,currentId:i,handleNavigation:o,selectedProduct:c})=>{var E;const{value:d,handleChange:u}=qr(),[x,m]=h.useState(!1),[p,j]=h.useState(!1),[v,N]=h.useState(null),y=Ir();h.useEffect(()=>{u("inventory_id",a),c&&(u("product_id",c.data.product_id),u("supplier_id",c.data.supplier_id),u("capital_price",c.data.capital_price),u("unit",c.data.unit),u("bundles_count",c.data.bundles_count),u("bundles_unit",c.data.bundles_unit),u("quantity_per_bundle",c.data.quantity_per_bundle),u("stocks_count",c.data.stocks_count),u("damage_count",c.data.damage_count),u("total_count",c.data.total_count))},[]);const[f,S]=h.useState();h.useEffect(()=>{const _=d.bundles_count!==void 0?d.bundles_count:(c==null?void 0:c.data.bundles_count)||0,T=d.quantity_per_bundle!==void 0?d.quantity_per_bundle:(c==null?void 0:c.data.quantity_per_bundle)||0,M=_*T;S(M),u("stocks_count",M)},[d.bundles_count,d.quantity_per_bundle]);const[P,I]=h.useState();return h.useEffect(()=>{const _=d.damage_count!==void 0?d.damage_count:(c==null?void 0:c.data.damage_count)||0,M=(d.stocks_count!==void 0?d.stocks_count:(c==null?void 0:c.data.stocks_count)||0)-_;I(M),u("total_count",M)},[d.damage_count,d.stocks_count,P]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:_=>{_.preventDefault(),d.product_id===void 0?N("Please select a product first."):d.supplier_id===void 0?N("Please select a supplier first."):(t(c?T=>[...T.filter(M=>M.id!==c.id),{id:c.id,data:d}]:T=>[...T,{id:i+1,data:d}]),o())},children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"product_id",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(vt,{open:x,onOpenChange:m,children:[e.jsx(yt,{id:"product_id",className:"relative w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[d.product_id?e.jsx(e.Fragment,{children:(()=>{const _=s.find(T=>T.id===d.product_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:_==null?void 0:_.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:_==null?void 0:_.serial_no})]})})()}):e.jsx("span",{children:"Select a product..."}),e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{placeholder:"Product name or serial number..."}),r&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsxs(ta,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Bt,{forceMount:!0,children:e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{y("/products"),j(!1)},forceMount:!0,children:[e.jsx("span",{children:"Add new product..."}),e.jsx(on,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-product")}),e.jsx(dn,{}),e.jsx(Bt,{children:s.map((_,T)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{u("product_id",_.id),m(!1)},children:[e.jsx("span",{children:_.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:_.serial_no})]},T))})]})]})})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(vt,{open:p,onOpenChange:j,children:[e.jsx(yt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[d.supplier_id?e.jsx(e.Fragment,{children:(()=>{const _=n.find(T=>T.id===d.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:_==null?void 0:_.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:_==null?void 0:_.address})]})})()}):e.jsx("span",{children:"Select a supplier..."}),e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{placeholder:"Supplier name or address..."}),l&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsxs(ta,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Bt,{forceMount:!0,children:e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{y("/supplier"),j(!1)},children:[e.jsx("span",{children:"Add new supplier..."}),e.jsx(on,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-supplier")}),e.jsx(dn,{}),e.jsx(Bt,{children:n.map((_,T)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{u("supplier_id",_.id),j(!1)},children:[e.jsx("span",{children:_.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:_.address})]},T))})]})]})})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(A,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",defaultValue:((E=d.capital_price)==null?void 0:E.toFixed(2))||"",onBlur:_=>{d.capital_price!==void 0&&(_.target.value=Number(_.target.value).toFixed(2))},onChange:_=>{u("capital_price",Number(Number(_.target.value).toFixed(2)))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(A,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,value:d.unit||"",onChange:_=>u("unit",_.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(A,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,required:!0,value:d.bundles_count!==void 0?d.bundles_count:"",onBlur:_=>{_.target.value!==""&&(_.target.value=Number(_.target.value).toFixed(0))},onChange:_=>{u("bundles_count",Number(Number(_.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(A,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,value:d.bundles_unit||"",onChange:_=>u("bundles_unit",_.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(A,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,required:!0,value:d.quantity_per_bundle!==void 0?d.quantity_per_bundle:"",onBlur:_=>{_.target.value!==""&&(_.target.value=Number(_.target.value).toFixed(0))},onChange:_=>u("quantity_per_bundle",Number(Number(_.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(A,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:f||"0",readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(A,{id:"damage_count",name:"damage_count",type:"number",min:0,max:f||9999999,step:1,required:!0,value:d.damage_count!==void 0?d.damage_count:"",onBlur:_=>{d.damage_count!==void 0&&(_.target.value=Number(d.damage_count).toFixed(0))},onChange:_=>u("damage_count",Number(Number(_.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(A,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,readOnly:!0,value:P||"0"})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsx("div",{className:"ml-auto flex flex-row gap-4",children:e.jsx(k,{type:"submit",fill:"green",disabled:d.product_id===void 0||d.supplier_id===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Save changes":"Add item to queue"})})}),v&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:v})})]})})})},jh=["","Product name","Supplier","Capital price","Unit","Bundles count","Bundles unit","Qty/bundle","Stocks","Damaged","Total"],bh=({data:t,products:a,suppliers:s,handleEditItem:r,handleRemoveItem:n,handleSubmit:l,onClose:i})=>{const[o,c]=h.useState(!1),[d,u]=h.useState(null),x=async()=>{c(!0);const m=await l({action:"batch-add",data:t.map(j=>j==null?void 0:j.data)});(Array.isArray(m)?m.filter(j=>j!==201):[]).length>0?u("Error adding items to inventory"):(c(!1),i())};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"relative flex h-full flex-col",children:[e.jsxs(ta,{type:"always",className:"flex-1 rounded-md border border-gray-200 bg-white",style:{"--border":"216 12% 84%"},children:[t.length<=0&&e.jsx("div",{className:"absolute z-10 flex h-full w-full items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-gray-500/50",children:"No items in queue"})}),e.jsx(tr,{orientation:"horizontal",className:"z-50 h-3"}),e.jsx(tr,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),e.jsxs(hl,{children:[e.jsx(fl,{children:e.jsx(fs,{id:"tHeaderRow",className:"hover:bg-white",children:jh.map(m=>e.jsx(pl,{className:"whitespace-nowrap px-5 py-3 text-center text-xs font-bold uppercase",children:m},m+"_head"))},"tHeaderRow")}),e.jsx(gl,{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(odd)]:bg-gray-50",children:t.length>0&&t.map(m=>{var p,j;return e.jsxs(fs,{className:"text-sm font-medium text-gray-700",children:[e.jsx(nt,{className:"p-3 pr-0",children:e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(It,{children:[e.jsx(Ft,{className:"overflow-clip rounded-full bg-gray-200/70 p-1.5 hover:bg-gray-300",children:e.jsx(Wt,{size:16,strokeWidth:2.25})}),e.jsxs(Et,{className:"relative z-50 w-44 bg-white font-medium",children:[e.jsx(Lt,{children:"Actions"}),e.jsx(xt,{className:"bg-gray-200"}),e.jsxs(Ae,{onClick:()=>{m!=null&&m.id&&r(m)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(aa,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Edit"})]},(m==null?void 0:m.id)+"edit"),e.jsxs(Ae,{onClick:()=>{m!=null&&m.id&&n(m.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 focus:bg-red-50 focus:text-red-700",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Oc,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Remove"})]},(m==null?void 0:m.id)+"remove")]})]})})},(m==null?void 0:m.id)+"action"),e.jsx(nt,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.product_id?(p=a.find(v=>v.id===m.data.product_id))==null?void 0:p.name:m==null?void 0:m.data.product_id},(m==null?void 0:m.id)+"product_id"),e.jsx(nt,{className:"max-w-[200px] truncate px-5 py-3",children:m!=null&&m.data.supplier_id?(j=s.find(v=>v.id===m.data.supplier_id))==null?void 0:j.name:m==null?void 0:m.data.supplier_id},(m==null?void 0:m.id)+"supplier_id"),e.jsx(nt,{className:"px-5 py-3",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format((m==null?void 0:m.data.capital_price)||0)},(m==null?void 0:m.id)+"capital_price"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.unit},(m==null?void 0:m.id)+"unit"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.bundles_count},(m==null?void 0:m.id)+"bundles_count"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.bundles_unit},(m==null?void 0:m.id)+"bundles_unit"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.quantity_per_bundle},(m==null?void 0:m.id)+"quantity_per_bundle"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.stocks_count},(m==null?void 0:m.id)+"stocks_count"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.damage_count},(m==null?void 0:m.id)+"damage_count"),e.jsx(nt,{className:"px-5 py-3",children:m==null?void 0:m.data.total_count},(m==null?void 0:m.id)+"total_count")]},(m==null?void 0:m.id)+"row")})})]})]}),e.jsxs("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:[d&&e.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:d})}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(k,{fill:"default",type:"reset",onClick:()=>i(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:t.length<=0||o,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:m=>{m.preventDefault(),x()},children:t.length<=1?"Add item to inventory":`Add ${t.length} items to inventory`})]})]})]})})},Nh={hidden:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"-100%",transition:{duration:.3,ease:"easeInOut"}}},wh={hidden:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}}},_h=({onClose:t,inventoryId:a})=>{const{data:s,isLoading:r}=Dr(),{suppliers:n,isFetching:l}=Nl(),{handleSubmit:i}=qr(),[o,c]=h.useState([]),[d,u]=h.useState({}),[x,m]=h.useState("main"),p=()=>{u({}),m(x==="main"?"form":"main")},j=N=>{u(N),m("form")},v=N=>{c(y=>y.filter(f=>f.id!==N))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:x==="main"?"ml-auto":"",children:e.jsx(je,{className:"flex flex-row items-center gap-2 bg-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",onClick:()=>{p()},children:e.jsxs(e.Fragment,{children:[x==="main"?e.jsx(Cc,{size:20,strokeWidth:2.5}):e.jsx(wl,{size:20,strokeWidth:2.5}),x==="main"?"Add an item":"Back"]})})}),e.jsx("div",{className:"relative min-h-[490px] min-w-[650px] overflow-x-clip",children:e.jsx(vc,{initial:!1,children:x==="main"?e.jsx(un.div,{variants:Nh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute h-[490px] w-full",children:e.jsx(bh,{data:o,products:s,suppliers:n,handleEditItem:j,handleRemoveItem:v,handleSubmit:i,onClose:t})},"main"):e.jsx(un.div,{variants:wh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute max-h-[490px] w-full p-1",children:e.jsx(yh,{setInventoryProductsQueue:c,inventoryId:a,products:s,productsLoading:r,suppliers:n,suppliersLoading:l,currentId:o.reduce((N,y)=>y.id>N?y.id:N,0),handleNavigation:p,selectedProduct:Object.keys(d).length?d:void 0})},"form")})})]})})},Sh=({onClose:t})=>{const{selectedInventoryProduct:a}=Or(),{value:s,handleChange:r,handleSubmit:n}=qr(),{suppliers:l,isFetching:i}=Nl(),[o,c]=h.useState(!1),[d,u]=h.useState(!1),[x,m]=h.useState(null),[p,j]=h.useState();h.useEffect(()=>{const y=s.bundles_count!==void 0?s.bundles_count:(a==null?void 0:a.bundles_count)||0,f=s.quantity_per_bundle!==void 0?s.quantity_per_bundle:(a==null?void 0:a.quantity_per_bundle)||0,S=y*f;j(S),r("stocks_count",S)},[s.bundles_count,s.quantity_per_bundle]);const[v,N]=h.useState();return h.useEffect(()=>{const y=s.damage_count!==void 0?s.damage_count:(a==null?void 0:a.damage_count)||0,S=(s.stocks_count!==void 0?s.stocks_count:(a==null?void 0:a.stocks_count)||0)-y;N(S),r("total_count",S)},[s.damage_count,s.stocks_count,v]),e.jsx(e.Fragment,{children:e.jsx("form",{action:"",onSubmit:async y=>{u(!d),y.preventDefault();const f=await n({action:"update",id:a.id,data:s});typeof f=="object"&&"status"in f&&f.status===200?(u(!d),t()):(u(!d),m("Failed to update item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsx(A,{id:"product",name:"product",type:"text",readOnly:!0,value:a==null?void 0:a.product.name})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(vt,{open:o,onOpenChange:c,children:[e.jsx(yt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(je,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[s.supplier_id?e.jsx(e.Fragment,{children:(()=>{const y=l.find(f=>f.id===s.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:y==null?void 0:y.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:y==null?void 0:y.address})]})})()}):e.jsx("span",{children:a.supplier_id.name}),e.jsx(Aa,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(jt,{className:"p-0 text-sm font-medium text-slate-700",children:e.jsxs(Xt,{children:[e.jsx(Jt,{placeholder:"Supplier name or address..."}),l===void 0&&i&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ae,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(ea,{children:"No match found"}),e.jsx(ta,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Bt,{children:l.map((y,f)=>e.jsxs(gt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{r("supplier_id",y.id),c(!1)},children:[e.jsx("span",{children:y.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:y.address})]},f))})})]})})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(A,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"e.g. 2000.00",defaultValue:a==null?void 0:a.capital_price.toFixed(2),onBlur:y=>{y.target.value=Number(y.target.value).toFixed(2)},onChange:y=>{const f=Number(y.target.value).toFixed(2);r("capital_price",Number(f))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(A,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,placeholder:"e.g. pcs...",defaultValue:a==null?void 0:a.unit,onChange:y=>r("unit",y.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"bundles_count",className:"text-sm font-bold text-gray-600",children:"Bundles count"}),e.jsx(A,{id:"bundles_count",name:"bundles_count",type:"number",min:0,max:9999999,step:1,placeholder:"0",required:!0,value:s.bundles_count!==void 0?s.bundles_count:(a==null?void 0:a.bundles_count)||"",onBlur:y=>{y.target.value=Number(y.target.value).toFixed(0)},onChange:y=>r("bundles_count",Number(Number(y.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"bundles_unit",className:"text-sm font-bold text-gray-600",children:"Bundles unit"}),e.jsx(A,{id:"bundles_unit",name:"bundles_unit",type:"text",maxLength:40,required:!0,placeholder:"e.g. boxes...",value:s.bundles_unit!==void 0?s.bundles_unit:(a==null?void 0:a.bundles_unit)||"",onChange:y=>r("bundles_unit",y.target.value)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"quantity_per_bundle",className:"text-sm font-bold text-gray-600",children:"Quantity per bundle"}),e.jsx(A,{id:"quantity_per_bundle",name:"quantity_per_bundle",type:"number",min:0,max:9999999,step:1,placeholder:"0",required:!0,value:s.quantity_per_bundle!==void 0?s.quantity_per_bundle:(a==null?void 0:a.quantity_per_bundle)||"",onBlur:y=>{y.target.value=Number(y.target.value).toFixed(0)},onChange:y=>r("quantity_per_bundle",Number(Number(y.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(A,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,placeholder:"0",value:p||0,readOnly:!0})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(A,{id:"damage_count",name:"damage_count",type:"number",min:0,max:p||9999999,step:1,placeholder:"0",required:!0,value:s.damage_count!==void 0?s.damage_count:(a==null?void 0:a.damage_count)||"",onBlur:y=>{y.target.value=Number(y.target.value).toFixed(0)},onChange:y=>r("damage_count",Number(Number(y.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(D,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(A,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,placeholder:"0",value:v||0,readOnly:!0})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(k,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(k,{type:"submit",fill:"green",disabled:d||Object.keys(s).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:d?"Applying...":"Apply changes"})]})}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:x})})]})})})},zh=()=>{const{id:t}=yc(),{data:a,isLoading:s}=jc(Number(t)),r=Ir(),n=()=>{r(-1)},{openModal:l,isOpen:i,closeModal:o}=Ze(),[c,d]=h.useState(""),u=(x,m)=>{d(m),l()};return e.jsx(e.Fragment,{children:e.jsx(ct,{title:"Inventory items",children:e.jsxs(jl,{children:[e.jsxs("div",{className:"flex h-full flex-auto flex-col gap-5 rounded-lg border bg-white p-5",children:[e.jsxs("div",{className:"text-primary-dark-gray flex flex-row items-center gap-6 text-sm font-medium",children:[e.jsxs(je,{onClick:()=>n(),className:"flex flex-row items-center gap-3 whitespace-nowrap bg-gray-200 pr-6 font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",children:[e.jsx(wl,{size:22,strokeWidth:2.25}),e.jsx("span",{children:"Go back"})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("h2",{className:"font-bold",children:"Inventory code:"}),e.jsx("span",{children:s?"Loading...":a==null?void 0:a.code})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg",children:e.jsx(vh,{id:Number(t),openModal:u})})]}),e.jsx(at,{isOpen:i,onClose:o,title:c==="add"?"Add Items":c==="edit"?"Edit Item":"",children:e.jsxs(e.Fragment,{children:[c==="add"&&e.jsx(_h,{inventoryId:Number(t),onClose:o}),c==="edit"&&e.jsx(Sh,{onClose:o})]})})]})})})};export{qh as Inventory,zh as InventoryItemsPage,Th as Invoice,Kh as Login,Mh as PendingTransfer,Eh as PointOfSalePage,Ih as ProductPrices,Ah as Products,Rh as RolePermissions,Ph as Supplier,Lh as Transaction,Fh as Transfer,Oh as UserInfo,Wh as UserSales,Dh as Warehouse};
