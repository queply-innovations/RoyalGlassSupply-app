import{k as Qe,m as Hr,r as f,n as Hi,o as Vi,p as qi,u as pt,e as ge,q as Vt,t as $i,v as Ki,w as Yi,x as xl,y as Bi,z as Gi,D as Qi,E as Zi,G as Xi,H as Ji,I as hl,J as ec,K as tc,L as Ze,j as e,R as ac,B as A,M as qe,W as sc,O as tt,Q as rc,U as nc,V as lc,X as et,Y as P,Z as ne,_ as le,$ as ie,a0 as ce,a1 as z,a2 as W,a3 as ic,a4 as cc,a5 as na,a6 as oc,h as vr,a7 as fl,a8 as pl,a9 as gl,aa as vl,ab as _t,ac as St,ad as Ct,ae as kt,af as lt,ag as we,ah as ee,ai as oe,aj as Rt,ak as ht,al as jl,am as yl,an as dc,ao as uc,ap as mc,aq as de,ar as ba,as as aa,at as Ms,au as sa,C as ft,b as zt,av as ms,aw as Pa,ax as xs,ay as yt,az as bt,aA as Nt,aB as Sa,aC as la,aD as xc,aE as Jt,aF as jt,aG as Vr,aH as qr,aI as Ua,aJ as Os,aK as bl,aL as hc,aM as Nl,aN as ys,aO as _,aP as ot,aQ as j,aR as jr,aS as hs,aT as wl,T as _l,aU as $r,aV as Kr,aW as Na,aX as Yr,aY as Br,aZ as Me,a_ as Gr,a$ as fc,b0 as Ws,b1 as pc,b2 as Sl,b3 as Ca,b4 as gc,b5 as vc,b6 as jc,b7 as Cl,b8 as Xa,b9 as bs,ba as kl,bb as yc,bc,bd as Dl,be as Nc,bf as Qr,f as Zr,bg as Xr,bh as Jr,bi as wc,bj as _c,bk as kn,bl as Dn,bm as Pn,bn as Sc,bo as Pl,bp as Tl,bq as Cc,br as Tn,bs as kc,bt as Dc,bu as Pc,bv as en,bw as Tc,bx as Oc,by as Ac,bz as Ol,bA as Al,bB as Fl,bC as El,bD as Il,bE as Fc,bF as Ec,bG as Ic,bH as Lc,bI as tn,bJ as Mc}from"./index-f6d0df58.js";import{bK as Cf}from"./index-f6d0df58.js";import{M as We,a as Dt,P as Ut,C as ka,b as Wc,c as Ha,u as Rc,A as zc,N as Ll,d as Rs,g as Ml,e as Uc}from"./useInventoryProductCalculations-0d6cb4ed.js";import{a as pe,I as Z,D as $e,A as te,b as ae,c as se,u as Fe,d as Te,e as Hc,h as Vc,i as qc,j as On,f as Lt,P as $c,k as Kc}from"./FormatCurrency-6ecb6b08.js";import{F as zs,S as Yc,B as ia,G as Bc}from"./GrossandNetProfit-e69f3041.js";const Gc=()=>{const t=Qe(),{warehouses:a}=Hr(),[r,s]=f.useState({id:a.length+1||0,code:"",name:"",location:""}),n=u=>{const{name:c,value:m}=u.target;s(x=>({...x,[c]:m}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["warehouses"]}),s({id:a.length+1||0,code:"",name:"",location:""})},onError:u=>{console.error("Warehouse Data failed",u)}},{mutateAsync:i}=pe({mutationKey:["removeWarehouse"],mutationFn:Hi,...l}),{mutateAsync:d}=pe({mutationKey:["addWarehouse"],mutationFn:Vi,...l}),{mutateAsync:o}=pe({mutationKey:["updateWarehouse"],mutationFn:qi,...l});return{value:r,setValue:s,handleChange:n,removeWarehouseMutation:i,addWarehouseMutation:d,updateWarehouseMutation:o}},Qc=()=>{const t=Qe(),{transfers:a}=pt(),{auth:r}=ge(),{warehouses:s}=Vt(),n=a[0]?a[a.length-1].id+1:1,[l,i]=f.useState(!1),[d,o]=f.useState(!1),[u,c]=f.useState(null),[m,x]=f.useState(null),[h,g]=f.useState(null),[b,y]=f.useState(),[v,p]=f.useState(),[S,O]=f.useState(),[w,T]=f.useState({});f.useEffect(()=>{T(Y=>({...Y,approval_status:"pending",created_by:r.user.id,transfer_schedule:""}))},[]);const I=()=>{const Y=Object.keys(w).map(N=>({text:N})),V=Y.length===6||Y.length>6;if(V){const N=w.source!==w.destination;if(N){const B=w.transfer_schedule!=="";return B?[B,""]:[B,"Please fill up transfer schedule"]}else return[N,"You cannot have the same source and destination"]}else return[V,"Please fill up all fields"]},k=Y=>{i(!0),x(null),c(null),T(V=>({...V,[Y.target.name]:Y.target.value}))},C=(Y,V)=>{i(!0),x(null),c(null),g(V);const N=V.getMonth()+1<10?"0"+(V.getMonth()+1).toString():V.getMonth()+1,B=V.getDate()<10?"0"+V.getDate().toString():V.getDate();O(V.getFullYear()+""+N+B);const ue=V.getFullYear()+"-"+(V.getMonth()+1)+"-"+V.getDate()+" "+V.getHours()+":"+V.getMinutes()+":"+V.getSeconds();T(M=>({...M,transfer_schedule:ue}))},E=(Y,V)=>{var N,B;i(!0),x(null),c(null),T(ue=>({...ue,[Y]:V})),Y==="source"?y((N=s.find(ue=>ue.id===V))==null?void 0:N.code):p((B=s.find(ue=>ue.id===V))==null?void 0:B.code)},L=async()=>{if(b&&v&&S){const Y="TRF-"+b+"-"+v+"-"+S+"-"+n;T(V=>({...V,code:Y}))}};f.useEffect(()=>{async function Y(){if(w.code){const V=I();if(o(!0),V[0])return q(w);c(V[1]),o(!1)}}Y()},[w.code]);const R={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfers"]}),o(!1),i(!1),x("Transfer info has been added")},onError:Y=>{console.error(Y),c(Y.message),o(!1)}},{mutateAsync:q}=pe({mutationKey:["addTransfer"],mutationFn:$i,...R});return{transfer:w,lastId:n,isChanged:l,isSubmitting:d,error:u,success:m,dateDisplay:h,handleSubmit:L,handleChange:k,handleChangeSelect:E,handleChangeDateTime:C,addTransferMutation:q}},Wl=()=>{const t=Qe(),[a,r]=f.useState({}),s=(o,u)=>{r(c=>({...c,[o]:u}))},n=async o=>{if(console.log("Submitting: ",o),o.action==="add")return await i(o.data);if(o.action==="update")return await d({id:o.id,data:o.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]})},onError:o=>{console.error("Inventory Data failed",o)}},{mutateAsync:i}=pe({mutationKey:["addInventory"],mutationFn:Ki,...l}),{mutateAsync:d}=pe({mutationKey:["patchInventory"],mutationFn:Yi,...l});return{value:a,setValue:r,handleChange:s,handleSubmit:n}},Rl=()=>{const t=Qe(),{transfers:a,transferProducts:r,selectedTransfer:s}=pt(),n=r.filter($=>$.transfer_id===s.id),{auth:l}=ge(),{warehouses:i}=Vt(),[d,o]=f.useState(!1),[u,c]=f.useState(!1);f.useState(!1);const[m,x]=f.useState(!1);f.useState(!1);const[h,g]=f.useState(!1),{data:b}=xl(),[y,v]=f.useState(0),[p,S]=f.useState(!1),[O,w]=f.useState(!1),[T,I]=f.useState(null),[k,C]=f.useState(null),[E,L]=f.useState(new Date),[R,q]=f.useState(new Date),[Y,V]=f.useState(""),[N,B]=f.useState(),ue=a[a.length-1].id+1,[M,Q]=f.useState({});if(f.useEffect(()=>{s&&(Q({id:s.id,code:s.code,created_by:s.created_by.id,source:s.source.id,destination:s.destination.id,transfer_schedule:s.transfer_schedule,approval_status:s.approval_status,approved_by:s.approved_by?s.approved_by.id:null,transfer_status:s.transfer_status,date_received:s.date_received,received_by:s.received_by?s.received_by.id:null,notes:s.notes}),L(new Date(s.transfer_schedule)),s.date_received?q(new Date(s.date_received)):q(new Date(s.transfer_schedule)))},[s]),M.code==""){const $=M.transfer_schedule.split(" ")[0].split("-").join(""),G="TRF-"+s.source.code+"-"+s.destination.code+"-"+$+"-"+ue;Q(je=>({...je,code:G}))}const xe=()=>{const $=M.source!==M.destination;if($){const G=M.transfer_status==="arrived"?!!(M.received_by&&M.date_received):!0;if(G)return[G,""];{const je=`Fields you need to fill: ${M.received_by?"":"received by"} 
									${!M.date_received&&!M.received_by?" and ":""}
									${M.date_received?"":"date received"}`;return[G,je]}}else return[$,"You cannot have the same source and destination"]},he=$=>{S(!0),C(null),I(null),Q(G=>({...G,[$.target.name]:$.target.value}))},fe=($,G)=>{S(!0),C(null),I(null),V($),B(G),$==="transfer_schedule"?L(G):q(G)};f.useEffect(()=>{async function $(){if(Y&&N){const G=N.getFullYear()+"-"+(N.getMonth()+1)+"-"+N.getDate()+" "+N.getHours()+":"+N.getMinutes()+":"+N.getSeconds();Q(je=>({...je,[Y]:G}))}}$()},[E,R]);const X=($,G)=>{S(!0),C(null),I(null),Q(je=>({...je,[$]:G}))};f.useEffect(()=>{M.approval_status==="approved"?Q($=>({...$,approved_by:l.user.id})):M.approval_status==="rejected"&&g(!0)},[M.approval_status]),f.useEffect(()=>{M.transfer_status==="arrived"?o(!0):o(!1)},[M.transfer_status]),f.useEffect(()=>{if(u){async function $(){const je={code:"INV-"+i.filter(dt=>dt.id===M.destination)[0].code+"-TRA-"+s.code.split("-")[3]+"-"+(Number(b.length)+1).toString(),warehouse_id:M.destination,created_by:M.created_by,date_received:M.date_received,type:"transfer",transfer_id:M.id,notes:M.notes},be=await Ke(je);v(be.data.data.id)}$()}},[u]);async function Oe(){await Zi(n,y).then(async $=>{w(!1),S(!1),C("Transfer info has been edited")}).catch($=>{throw console.error("Error updating inventory products:",$),$})}f.useEffect(()=>{y!=0&&Oe()},[y]);const Re=async()=>{const $=xe();if(w(!0),$[0])if(d)await Ee(M);else return await Ee(M);else I($[1]),w(!1)},ze={onSuccess:async()=>{if(await t.invalidateQueries({queryKey:["transfers"]}),d)c(!0);else{if(h)return await ye(n);w(!1),S(!1),C("Transfer info has been edited")}},onError:$=>{console.error($),I($.message),w(!1)}},{mutateAsync:Ee}=pe({mutationKey:["editTransfer"],mutationFn:Bi,...ze}),Pe={onSuccess:async()=>{await t.invalidateQueries({queryKey:["inventory"]}),x(!0)},onError:$=>{console.error($),I($.message),w(!1)}},{mutateAsync:Ke}=pe({mutationKey:["addInventory"],mutationFn:Gi,...Pe}),_e={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),w(!1),S(!1),C("Transfer info has been edited")},onError:$=>{console.error($),I($.message),w(!1)}},{mutateAsync:ye}=pe({mutationKey:["initInventoryProduct"],mutationFn:Qi,..._e});return{transfer:M,selectedTransfer:s,lastId:ue,isChanged:p,isSubmitting:O,error:T,success:k,dateDisplay:E,dateDisplayArrived:R,handleSubmit:Re,handleChange:he,handleChangeSelect:X,handleChangeDateTime:fe,editTransferMutation:Ee}},fs=()=>{const t=Qe(),[a,r]=f.useState({}),s=(o,u)=>{r(c=>({...c,[o]:u}))},n=async o=>{if(console.log("Submitting: ",o),o.action==="add")return await i(o.data);if(o.action==="update")return await d({id:o.id,data:o.data});{const u="No data to submit. Function requires at least one parameter.";return console.error(u),{status:400,data:u}}},l={onSuccess:async()=>{await t.invalidateQueries({predicate:o=>["productPrices","productPricesTEST"].includes(o.queryKey[0])}),r({})},onError:o=>{console.error("Product Prices Data failed",o)}},{mutateAsync:i}=pe({mutationKey:["addProductListing"],mutationFn:Xi,...l}),{mutateAsync:d}=pe({mutationKey:["patchProductListing"],mutationFn:Ji,...l});return{value:a,setValue:r,handleChange:s,handleSubmit:n,addProductPricesMutation:i,patchProductPricesMutation:d}},Zc=()=>{const t=Qe(),{transfers:a,transferProducts:r,selectedProduct:s,selectedTransfer:n}=pt();ge();const{data:l}=hl(),{data:i}=ec(),{data:d}=xl(),o=d.filter(N=>N.warehouse.id===n.source.id),u=i.filter(N=>o.map(B=>B.id).includes(N.inventory_id)&&N.capital_price>0&&N.remaining_stocks_count&&N.remaining_stocks_count>0),[c,m]=f.useState(0),[x,h]=f.useState(0),[g,b]=f.useState(0),[y,v]=f.useState(!1),[p,S]=f.useState(!1),[O,w]=f.useState(null),[T,I]=f.useState(null),[k,C]=f.useState({});f.useEffect(()=>{C(N=>({...N,id:r.length+1,transfer_id:n.id}))},[]);const E=N=>{v(!0),I(null),w(null),C(B=>({...B,[N.target.name]:Number(N.target.value)}))},L=(N,B,ue)=>{v(!0),I(null),w(null);const M=u[ue],Q=M.id,xe=M.capital_price,he=M.bundles_unit,fe=M.unit,X=M.quantity_per_bundle;C(Oe=>({...Oe,[N]:B,capital_price:xe,bundles_unit:he,unit:fe,quantity_per_bundle:X,source_inventory:Q})),m(M.remaining_stocks_count?M.remaining_stocks_count/M.quantity_per_bundle:0),h(M.remaining_stocks_count?M.remaining_stocks_count:0),b(M.damage_count)};f.useEffect(()=>{k.bundles_count&&k.quantity_per_bundle?C(N=>({...N,total_quantity:k.bundles_count*k.quantity_per_bundle})):C(N=>({...N,total_quantity:0}))},[k]);const R=()=>{const B=Object.keys(k).map(ue=>({text:ue})).length===10;return B?k.bundles_count>c?[!1,"Bundles count input is greater than the current stock quantity."]:[!0,""]:[B,"Please fill up all fields"]},q=async()=>{S(!0);const N=R();if(N[0])return await V(k);w(N[1]),S(!1)},Y={onSuccess:async()=>{await t.invalidateQueries({queryKey:["transfer_products"]}),S(!1),v(!1),I("Transfer product has been added")},onError:N=>{console.error(N),w(N.message),S(!1)}},{mutateAsync:V}=pe({mutationKey:["addTransferProduct"],mutationFn:tc,...Y});return{product:k,allProducts:l,allInventoryProducts:i,filteredProductsSrc:u,bundlesLimit:c,quantityLimit:x,damagedCount:g,isChanged:y,isSubmitting:p,error:O,success:T,handleSubmit:q,handleChange:E,handleChangeSelect:L,addProductMutation:V}};/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=Ze("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=Ze("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=Ze("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=Ze("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Ze("CircleOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.35 2.69A10 10 0 0 1 21.3 15.65",key:"1pfsoa"}],["path",{d:"M19.08 19.08A10 10 0 1 1 4.92 4.92",key:"1ablyi"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ze("Coins",[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ze("HandCoins",[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=Ze("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Ze("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=Ze("MapPinned",[["path",{d:"M18 8c0 4.5-6 9-6 9s-6-4.5-6-9a6 6 0 0 1 12 0",key:"yrbn30"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.835 14H5a1 1 0 0 0-.9.7l-2 6c-.1.1-.1.2-.1.3 0 .6.4 1 1 1h18c.6 0 1-.4 1-1 0-.1 0-.2-.1-.3l-2-6a1 1 0 0 0-.9-.7h-3.835",key:"112zkj"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=Ze("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ze("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ze("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=Ze("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.338.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=Ze("UserRoundPlus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),qt=t=>e.jsx(ac,{className:"flex loading",type:"spin",color:"#16A116",height:t.height,width:t.width}),co=({isUpdate:t=!1,onClose:a,isDelete:r})=>{const{warehouseSelected:s}=Hr(),{value:n,setValue:l,handleChange:i,addWarehouseMutation:d,updateWarehouseMutation:o,removeWarehouseMutation:u}=Gc();f.useEffect(()=>{(t||r)&&l(s)},[t,r,s,l]);const c=async()=>{console.log("warehouseForm:",n);try{await new Promise(m=>setTimeout(m,1e3)),t&&(console.log("Update Warehouse:",n.id),await o(n),a()),r?(console.log("Remove Warehouse:",n.id),await u(n.id),a()):!t&&!r&&(console.log("Add Warehouse:",n.id),await d(n),a())}catch(m){console.error("Warehouse Data submission failed",m)}};return e.jsx(e.Fragment,{children:r?e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:m=>{m.preventDefault(),c()},children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(A,{type:"submit",fill:"red",children:r?"Delete Warehouse":"Add Warehouse"})})})}):e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:m=>{m.preventDefault(),c()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse ID"}),e.jsx(Z,{name:"id",value:(n==null?void 0:n.id)||0,type:"number",disabled:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Code"}),e.jsx(Z,{name:"code",placeholder:"Warehouse Code",value:(n==null?void 0:n.code)||"",onChange:i,maxLength:3})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Name"}),e.jsx(Z,{name:"name",placeholder:"Warehouse Name",value:(n==null?void 0:n.name)||"",onChange:i,required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Warehouse Location"}),e.jsx(Z,{name:"location",placeholder:"Warehouse Location",type:"string",value:(n==null?void 0:n.location)||"",onChange:i,required:!0})]}),e.jsxs("div",{className:"flex flex-row justify-center gap-1",children:[e.jsx(A,{fill:"green",className:"",type:"submit",children:t?"Update Warehouse":"Add Warehouse"}),e.jsx(A,{fill:"red",className:"",onClick:a,type:"reset",children:"Cancel"}),e.jsx(A,{onClick:()=>console.log(n),type:"button",children:"console form"})]})]})})})})},oo=({openModal:t})=>{const{warehouses:a,setWarehouseSelected:r,isFetching:s,progress:n}=Hr(),l=[{id:"select",header:({table:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsAllPageRowsSelected(),onChange:o=>d.toggleAllPageRowsSelected(!!o.target.checked),"aria-label":"Select all"}),cell:({row:d})=>e.jsx("input",{type:"checkbox",checked:d.getIsSelected(),onChange:o=>d.toggleSelected(!!o.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE ID"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.id})},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:d})=>e.jsx("div",{className:"items-center",children:e.jsxs(A,{onClick:()=>d.toggleSorting(d.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["WAREHOUSE NAME ",d.getIsSorted()==="asc"?e.jsx(te,{}):d.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.name})},{accessorKey:"code",header:()=>e.jsx("div",{className:"text-center",children:"code"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.code})},{accessorKey:"location",header:()=>e.jsx("div",{className:"text-center",children:"LOCATION"}),cell:({row:d})=>e.jsx("div",{className:"text-center",children:d.original.location})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:d})=>{const o=d.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>i(o),className:"flex flex-row items-center gap-2",children:[e.jsx(zs,{})," Edit"]})})}}],i=d=>{r(d),t(d,"edit")};return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:l,filterWhat:"location",dataType:"",isLoading:s,openModal:void 0})})},nf=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Warehouse",children:e.jsxs(sc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(oo,{openModal:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="edit"?"Edit Warehouse":s==="remove"?"Remove Warehouse":"Add Warehouse",children:e.jsx(co,{onClose:r,isUpdate:s==="edit",isDelete:s==="remove"})})]})})})},Ul=()=>{const t=Qe();ge(),tt();const[a,r]=f.useState({}),s=(u,c)=>{r(m=>({...m,[u]:c}))},n=u=>{r(c=>({...c,...u}))},l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["invoices"]}),r({}),et.success("Submitted successfully!")},onError:u=>{console.error("Invoices Data failed",u.message)}},{mutateAsync:i}=pe({mutationKey:["addInvoice"],mutationFn:rc,...l}),{mutateAsync:d}=pe({mutationKey:["updateInvoice"],mutationFn:nc,...l}),{mutateAsync:o}=pe({mutationKey:["removeInvoice"],mutationFn:lc,...l});return{value:a,setValue:r,selectChange:n,handleChange:s,addInvoiceMutation:i,updateInvoiceMutation:d,removeInvoiceMutation:o}},uo=({formAction:t="add"})=>{const{invoices:a,invoiceSelected:r}=tt(),{auth:s}=ge(),n=async()=>{console.log("invoiceForm:",l);try{await new Promise(c=>setTimeout(c,1e3)),t==="update"&&console.log("Update Invoice:",l.id),t==="remove"?(console.log("Remove Invoice:",l.id),await u(l.id)):t==="add"&&console.log("Add Invoice:",l.id)}catch(c){console.error("Invoice Data submission failed",c.message)}},{value:l,setValue:i,handleChange:d,selectChange:o,removeInvoiceMutation:u}=Ul();return f.useEffect(()=>{t==="update"&&(i(r),console.log("update",r.id)),t==="remove"&&(i(r),console.log("remove",r.id)),t==="add"&&i({})},[r,t]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:c=>{c.preventDefault(),n()},children:[t==="remove"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(A,{type:"submit",fill:"red",children:"Delete Invoice"})})}),t==="update"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex min-w-[700px] max-w-2xl  flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row justify-between gap-10",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Invoice ID:"}),t==="update"?r.id:""]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Issued By:"}),t==="update"?r.issued_by.firstname.toUpperCase():s.user.firstname.toUpperCase()]})]}),e.jsxs("div",{className:"flex flex-col justify-between",children:[e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Created At:"}),e.jsx("span",{className:"text-base",children:Te(r.created_at)})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"OR #:"}),e.jsx("span",{className:"text-base",children:r.or_no})]}),e.jsxs("div",{className:"flex min-w-0 flex-row gap-1",children:[e.jsx("p",{className:"text-base font-bold uppercase",children:"Reference #:"}),e.jsx("span",{className:"text-base",children:r.reference_no?r.reference_no:"N/A"})]})]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold uppercase ",children:"Type"}),e.jsxs(ne,{id:"type",name:"type",onValueChange:c=>o({type:c}),defaultValue:t==="update"?r.type:"",children:[e.jsx(le,{children:e.jsx(ie,{placeholder:"Select Payment"})}),e.jsxs(ce,{className:"bg-white",id:"type",children:[e.jsx(z,{value:"payment",children:"Payment"},"payment"),e.jsx(z,{value:"exit",children:"Exit"},"exit")]})]},"type")]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"payment_method",className:"text-sm font-bold uppercase ",children:"Payment Method"}),e.jsxs(ne,{id:"payment_method",name:"type",onValueChange:c=>o({payment_method:c}),defaultValue:t==="update"?r.payment_method:"",children:[e.jsx(le,{children:e.jsx(ie,{placeholder:"Select Payment Method"})}),e.jsxs(ce,{className:"bg-white",id:"type",children:[e.jsx(z,{value:"cash",children:"Cash"}),e.jsx(z,{value:"credit",children:"Credit"}),e.jsx(z,{value:"debit",children:"Debit"}),e.jsx(z,{value:"wallet",children:"Wallet"})]})]},"type")]})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex min-w-full max-w-md flex-grow flex-row gap-6",children:[e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"subtotal",className:"text-sm font-bold uppercase",children:"Subtotal"}),e.jsx(W,{name:"subtotal",id:"subtotal",value:t==="update"?r.subtotal:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_tax",className:"text-sm font-bold uppercase",children:"Total Tax"}),e.jsx(W,{name:"total_tax",id:"total_tax",value:t==="update"?r.total_tax:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_discount",className:"text-sm font-bold uppercase",children:"Total Discount"}),e.jsx(W,{name:"total_discount",id:"total_discount",value:t==="update"?r.total_discount:"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex min-w-0 flex-1 flex-col gap-2",children:[e.jsx(P,{htmlFor:"total_amount_due",className:"text-sm font-bold uppercase",children:"Total Amount Due"}),e.jsx(W,{name:"total_amount_due",id:"total_amount_due",value:t==="update"?r.total_amount_due:"",onChange:d,required:!0})]})]})]}),e.jsx(A,{onClick:()=>{console.log("InvoiceFORMDATA:",l)},children:"console form"})]})]})})},mo=({modalHandler:t})=>{const{invoices:a,setInvoiceSelected:r}=tt(),s=(l,i)=>{i==="update"?(r(l),t(l,"update")):i==="remove"?(r(l),t(l,"remove")):(t(l,"add"),console.log("add"))};console.log("invoices:",a);const n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"justify-center",children:"Invoice ID"})},{id:"or_no",accessorKey:"or_no",header:()=>e.jsx("div",{className:"justify-center",children:"OR #"})},{accessorKey:"reference_no",header:()=>e.jsx("div",{className:"justify-center",children:"Reference #"}),cell:({row:l})=>{const i=l.original;return e.jsx(e.Fragment,{children:i.reference_no===null?"N/A":i.reference_no})}},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"justify-center",children:"Sub Total Price"})},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"justify-center",children:"Amount Due"})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:l})=>{const i=l.original;return e.jsxs("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:[e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>s(i,"update"),className:"flex flex-row items-center gap-2",children:[e.jsx(zs,{})," Edit"]}),e.jsx(A,{fill:"red",onClick:()=>s(i,"remove"),children:"Remove"})]})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,filterWhat:"or_no",columns:n,dataType:"Invoice",openModal:()=>s})})},lf=({})=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d),console.log("modalAction:",s)};return console.log(Hc()),e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Invoice",children:e.jsxs(ic,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(mo,{modalHandler:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="update"?"Edit Invoice":s==="remove"?"Remove Invoice":"Add Invoice",children:e.jsx(uo,{onClose:r,formAction:s})})]})})})},xo=(t,a)=>{const r=Qe(),[s,n]=f.useState({firstname:t.firstname,lastname:t.lastname,username:t.username,email:t.email,contact_no:t.contact_no,position:t.position,user_id:t.id,role_id:0});f.useEffect(()=>{a&&n(p=>{var S;return{...p,role_id:(S=a.find(O=>O.title===t.position))==null?void 0:S.id}})},[a]);const[l,i]=f.useState(!1),[d,o]=f.useState(!1),[u,c]=f.useState(null),[m,x]=f.useState(null),h=(p,S)=>{i(!0),x(null),c(null),n(O=>({...O,[p]:S}))},g=p=>{i(!0),x(null),n(S=>({...S,[p.target.name]:p.target.value})),p.target.name==="position"&&n(S=>{var O;return{...S,role_id:(O=a.find(w=>w.title===p.target.value))==null?void 0:O.id}})},b=async()=>{var p,S;if(o(!0),((p=s.contact_no)==null?void 0:p.length)>11||((S=s.contact_no)==null?void 0:S.length)<11)c("Contact number must be 11 digits"),o(!1);else return await v(s)},y={onSuccess:async()=>{await r.invalidateQueries({queryKey:["users"]}),o(!1),i(!1),x("User info has been updated")},onError:p=>{console.error(p),c(p.message),o(!1)}},{mutateAsync:v}=pe({mutationKey:["editUser"],mutationFn:cc,...y});return{user:s,isChanged:l,isSubmitting:d,error:u,success:m,handleSubmit:b,handleChangeSelect:h,handleChange:g,editUserMutation:v}},ho=()=>{const t=Qe(),{users:a}=na(),{roles:r}=na(),s=a[a.length-1].id+1,[n,l]=f.useState({});f.useEffect(()=>{l(S=>({...S,active_status:"active",id:s}))},[]);const[i,d]=f.useState(!1),[o,u]=f.useState(!1),[c,m]=f.useState(null),[x,h]=f.useState(null),g=()=>{var w,T;const O=Object.keys(n).map(I=>({text:I})).length===11;if(O){const I=n.password===n.password_confirmation;if(!I)return[I,"Passwords do not match"];const k=!(((w=n.contact_no)==null?void 0:w.length)>11||((T=n.contact_no)==null?void 0:T.length)<11);return k?[O&&I&&k,""]:[k,"Please input a valid contact number"]}else{const I=!!n.position;return I?[O,"Please correctly fill up all fields"]:[I,"Please choose a position"]}},b=S=>{d(!0),h(null),m(null),l(O=>({...O,[S.target.name]:S.target.value})),S.target.name==="position"&&l(O=>{var w;return{...O,role_id:(w=r.find(T=>T.title===S.target.value))==null?void 0:w.id}})},y=async()=>{const S=g();if(u(!0),S[0])return await p(n);m(S[1]),u(!1)},v={onSuccess:async()=>{await t.invalidateQueries({queryKey:["users"]}),u(!1),d(!1),h("User info has been added")},onError:S=>{console.error(S),m(S.message),u(!1)}},{mutateAsync:p}=pe({mutationKey:["addUser"],mutationFn:oc,...v});return{user:n,isChanged:i,isSubmitting:o,error:c,success:x,handleSubmit:y,handleChange:b,addUserMutation:p}},fo=()=>{const t=Qe(),{roles:a,selectedUser:r}=na(),s=a.filter(E=>E.title===r.position),[n,l]=f.useState([]),[i,d]=f.useState([]),[o,u]=f.useState([]),{data:c}=vr({queryKey:["all-permissions"],queryFn:()=>gl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const E=c;E&&d(E)},[c]);const{isFetching:m,data:x}=vr({queryKey:["permissions"],queryFn:()=>vl(s[0].id),refetchOnWindowFocus:!1});f.useEffect(()=>{const E=x;E&&(l(E),u(E))},[x]);const[h,g]=f.useState(!1),[b,y]=f.useState(!1),[v,p]=f.useState(null),[S,O]=f.useState(null),w=(E,L)=>{g(!0),O(null),p(null),u(E?[...o,{id:null,role_id:s,permission_id:L}]:o.filter(R=>R.permission_id!==L))},T=async()=>{if(y(!0),o.length>n.length){const E=o.filter(L=>L.id===null);if(E.length>1)E.forEach(async L=>{await k(L)});else return await k(E)}else if(o.length<n.length){const E=n.filter(L=>o.find(R=>R.permission_id===L.permission_id)===void 0);if(E.length>1)E.forEach(async L=>{await C(L)});else return await C(E[0])}else y(!1),g(!1),O("No changes made")},I={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),y(!1),g(!1),O("Role permissions have been updated")},onError:E=>{console.error(E),p(E.message),y(!1)}},{mutateAsync:k}=pe({mutationKey:["addpermission"],mutationFn:fl,...I}),{mutateAsync:C}=pe({mutationKey:["deletepermission"],mutationFn:pl,...I});return{permissions:n,allPermissions:i,permissionChange:o,isChanged:h,isSubmitting:b,error:v,success:S,handleSubmit:T,handleChange:w}},po=()=>{const t=Qe(),{roles:a}=na(),[r,s]=f.useState(),[n,l]=f.useState(0);f.useState();const[i,d]=f.useState([]),[o,u]=f.useState([]),[c,m]=f.useState([]),{data:x}=vr({queryKey:["all-permissions"],queryFn:()=>gl(),refetchOnWindowFocus:!1});f.useEffect(()=>{const L=x;L&&u(L)},[x]);const[h,g]=f.useState(!1),[b,y]=f.useState(!1),[v,p]=f.useState(null),[S,O]=f.useState(null),w=(L,R)=>{O(null),p(null),s(a.find(q=>q.title===R)),l(a.find(q=>q.title===R).id)};f.useEffect(()=>{async function L(){const R=await vl(n);d(R),m(R)}L()},[n]);const T=(L,R)=>{g(!0),O(null),p(null),m(L?[...c,{id:null,role_id:n,permission_id:R}]:c.filter(q=>q.permission_id!==R))},I=async()=>{if(y(!0),c.length>i.length){const L=c.filter(R=>R.id===null);if(L.length>1)L.forEach(async R=>{await C(R)});else return await C(L[0])}else if(c.length<i.length){const L=i.filter(R=>c.find(q=>q.permission_id===R.permission_id)===void 0);if(L.length>1)L.forEach(async R=>{await E(R)});else return await E(L[0])}else y(!1),g(!1),O("No changes made")},k={onSuccess:async()=>{await t.invalidateQueries({queryKey:["all-permissions"]}),y(!1),g(!1),O("Role permissions have been updated")},onError:L=>{console.error(L),p(L.message),y(!1)}},{mutateAsync:C}=pe({mutationKey:["addpermission"],mutationFn:fl,...k}),{mutateAsync:E}=pe({mutationKey:["deletepermission"],mutationFn:pl,...k});return{roles:a,roleSelect:r,permissions:i,allPermissions:o,permissionChange:c,roleId:n,isChanged:h,isSubmitting:b,error:v,success:S,handleSubmit:I,handleChange:T,handleChangeSelect:w}},go=({openModal:t})=>{const{users:a,isFetching:r,progress:s,progress2:n,setSelectedUser:l}=na(),i=c=>{l(c),t(c,"edit")},d=c=>{l(c),t(c,"editPerms")},o=()=>{t({},"add")},u=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:m=>c.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:m=>c.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"lastname",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["LAST NAME ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.lastname})},{accessorKey:"firstname",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FIRST NAME ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.firstname})},{accessorKey:"position",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["ROLE ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.position})},{accessorKey:"username",header:()=>e.jsx("div",{className:"text-center",children:"USERNAME"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.username})},{accessorKey:"email",header:()=>e.jsx("div",{className:"text-center",children:"EMAIL ADDRESS"}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.email})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:c})=>{const m=c.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>i(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User"})]}),e.jsxs(we,{onClick:()=>d(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit User Permission"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:u,filterWhat:"username",dataType:"User",openModal:o,isLoading:r})})},vo=({onClose:t})=>{const{user:a,isChanged:r,isSubmitting:s,error:n,success:l,handleSubmit:i,handleChange:d}=ho(),{roles:o}=na(),u=o?o.map(c=>c.title):[];return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:c=>{c.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User ID"}),e.jsx(Z,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User First Name"}),e.jsx(Z,{name:"firstname",placeholder:"User First Name",value:a.firstname||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Last Name"}),e.jsx(Z,{name:"lastname",placeholder:"User Last Name",value:a.lastname||"",onChange:d,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Email Address"}),e.jsx(Z,{name:"email",placeholder:"User Email Address",type:"email",value:a.email||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Contact Number"}),e.jsx(Z,{name:"contact_no",placeholder:"User Contact Number",type:"number",value:a.contact_no||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Position"}),e.jsx(Yc,{name:"position",className:"text-lg",placeholder:"---Select Position---",onChange:d,options:u,required:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Username"}),e.jsx(Z,{name:"username",placeholder:"User Username",type:"string",value:a.username||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"User Password"}),e.jsx(Z,{name:"password",placeholder:"User Password",type:"password",value:a.password||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Confirm Password"}),e.jsx(Z,{name:"password_confirmation",placeholder:"Confirm Password",type:"password",value:a.password_confirmation||"",onChange:d,required:!0})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:r?"green":null,disabled:!r,onClick:i,children:s?"Submitting":"Add User"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),n&&e.jsx("div",{className:"font-bold text-red-700",children:n}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},jo=({onClose:t})=>{const{selectedUser:a,roles:r}=na(),{auth:s}=ge(),{user:n,isChanged:l,isSubmitting:i,error:d,success:o,handleSubmit:u,handleChange:c,handleChangeSelect:m}=xo(a,r);return o&&setTimeout(()=>{t()},1e3),e.jsxs(e.Fragment,{children:[a.id===s.user.id&&e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-6 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-6 font-bold text-red-700 text-start",children:["Warning: Be careful! You are editing your own account.",e.jsx("br",{}),"You are at risk of locking yourself out."]})}),e.jsx("form",{onSubmit:async x=>{x.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"id",children:"User ID"}),e.jsx(Z,{type:"text",name:"id",placeholder:"User ID",className:"inputbox",value:n.user_id,disabled:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"First name"}),e.jsx(Z,{type:"text",name:"firstname",placeholder:"First name",className:"inputbox rounded-md bg-slate-100",value:n.firstname,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Last name"}),e.jsx(Z,{type:"text",name:"lastname",placeholder:"Last name",className:"inputbox rounded-md bg-slate-100",value:n.lastname,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-3",children:[e.jsx("label",{htmlFor:"username",children:"Username"}),e.jsx(Z,{type:"text",name:"username",placeholder:"Username",className:"inputbox rounded-md bg-slate-100",value:n.username,onChange:c})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Email address"}),e.jsx(Z,{type:"email",name:"email",placeholder:"Email address",className:"inputbox rounded-md bg-slate-100",value:n.email,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Contact number"}),e.jsx(Z,{type:"number",name:"contact_no",placeholder:"09XXXXXXXXX",className:"inputbox rounded-md bg-slate-100",value:n.contact_no,onChange:c})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"position",children:"Position"}),e.jsxs(ne,{onValueChange:x=>m("position",x),required:!0,children:[e.jsx(le,{name:"position",className:"flex flex-row items-center gap-3 truncate text-md rounded-md bg-slate-100",children:e.jsx(ie,{placeholder:n.position?n.position.charAt(0).toUpperCase()+n.position.slice(1):"Choose position..."})}),e.jsx(ce,{className:"bg-white font-medium text-md",children:r.length>0?r.map(x=>{if(x.title!=="super_admin")return e.jsx(z,{value:x.title,children:x.title.charAt(0).toUpperCase()+x.title.slice(1)},x.id)}):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]})]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:l?"green":null,disabled:!l,onClick:u,children:i?"Submitting":"Edit User"})}),e.jsxs("div",{className:"flex flex-col col-span-3 items-start",children:[o&&e.jsx("div",{className:"font-bold text-green-700",children:o}),d&&e.jsx("div",{className:"font-bold text-red-700",children:d}),i?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})]})},yo=({onClose:t})=>{const{selectedUser:a}=na(),{permissions:r,allPermissions:s,permissionChange:n,isChanged:l,isSubmitting:i,error:d,success:o,handleChange:u,handleSubmit:c}=fo(),{auth:m}=ge(),x=s.filter(y=>Object.keys(y).some(v=>!y.title.includes("view".toLowerCase())&&y.title.includes("users".toLowerCase()))),h=s.filter(y=>Object.keys(y).some(v=>!y.title.includes("view".toLowerCase())&&!y.title.includes("transfer".toLowerCase())&&y.title.includes("product".toLowerCase())||y.title.includes("catalog".toLowerCase()))),g=s.filter(y=>Object.keys(y).some(v=>!y.title.includes("view".toLowerCase())&&y.title.includes("transfer".toLowerCase()))),b=s.filter(y=>Object.keys(y).some(v=>y.title.includes("view".toLowerCase())));return o&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-72 w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:e.jsx(oe,{variant:"ghost",className:"w-full justify-start capitalize text-slate-700 bg-slate-300/40",children:a.position.split("_").join(" ")},a.id+a.position)}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),a.position===m.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[o&&e.jsx("p",{className:"text-green-600",children:o}),d&&e.jsx("p",{className:"text-red-600",children:d})]}),l&&e.jsx(oe,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!i,onClick:c,children:i?"Saving...":"Save changes"})]})]}),e.jsx(Rt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${i?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:x.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):x.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:`${a.position!=="admin"&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:y.title.split("_").join(" ")}),e.jsx(ht,{id:y.title,name:y.title,value:y.id,disabled:a.position==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(v=>v.permission_id===y.id),onCheckedChange:v=>u(v,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:h.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):h.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(ht,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(v=>v.permission_id===y.id),onCheckedChange:v=>u(v,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:g.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):g.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(ht,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(v=>v.permission_id===y.id),onCheckedChange:v=>u(v,y.id)})]},y.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:b.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):b.map(y=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:y.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:y.title.split("_").join(" ")}),e.jsx(ht,{id:y.title,name:y.title,value:y.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(v=>v.permission_id===y.id),onCheckedChange:v=>u(v,y.id)})]},y.id))})]})]})})]})})},cf=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"User Information",children:e.jsxs(jl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(go,{openModal:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="edit"?"Edit User":s==="add"?"Add User":"Edit User Role Permissions",children:e.jsxs(e.Fragment,{children:[s==="add"&&e.jsx(vo,{onClose:r}),s==="edit"&&e.jsx(jo,{onClose:r}),s==="editPerms"&&e.jsx(yo,{onClose:r})]})})]})})})},bo=()=>{const t=Qe(),{selectedSupplier:a,setSelectedSupplier:r}=yl(),[s,n]=f.useState({});f.useEffect(()=>{a&&n(a)},[a]);const[l,i]=f.useState({}),[d,o]=f.useState(!1),[u,c]=f.useState(!1),[m,x]=f.useState(null),[h,g]=f.useState(null),b=T=>{var I,k,C,E;if(T){const L=Object.keys(s).map(q=>({text:q})),R=L.length===3||L.length>3;if(R){const q=!(((I=s.contact_no)==null?void 0:I.length)>11||((k=s.contact_no)==null?void 0:k.length)<11);return q?[q,""]:[q,"Contact number must be 11 digits"]}else return[R,"Please fill up all fields"]}else{const L=Object.keys(l).map(q=>({text:q})),R=L.length===3||L.length>3;if(R){const q=!(((C=l.contact_no)==null?void 0:C.length)>11||((E=l.contact_no)==null?void 0:E.length)<11);return q?[q,""]:[q,"Contact number must be 11 digits"]}else return[R,"Please fill up all fields"]}},y=(T,I)=>{o(!0),g(null),x(null),I?n(k=>({...k,[T.target.name]:T.target.value})):i(k=>({...k,[T.target.name]:T.target.value}))},v=async T=>{const I=b(T);if(c(!0),I[0])return T?await S(s):await w(l);x(I[1]),c(!1),console.log(l)},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),c(!1),o(!1),g("Supplier info has been edited")},onError:T=>{console.error(T),x(T.message),c(!1)}},{mutateAsync:S}=pe({mutationKey:["updateSupplier"],mutationFn:dc,...p}),O={onSuccess:async()=>{await t.invalidateQueries({queryKey:["supplier"]}),c(!1),o(!1),g("Supplier info has been added")},onError:T=>{console.error(T),x(T.message),c(!1)}},{mutateAsync:w}=pe({mutationKey:["addSupplier"],mutationFn:uc,...O});return{supplier:s,selectedSupplier:a,newSupplier:l,isChanged:d,isSubmitting:u,error:m,success:h,handleSubmit:v,handleChange:y,editSupplierMutation:S}},No=({onClose:t,isUpdate:a})=>{const{supplier:r,newSupplier:s,isSubmitting:n,error:l,success:i,isChanged:d,handleChange:o,handleSubmit:u}=bo();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:c=>{c.preventDefault()},children:[e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"name",children:"Supplier Name"}),e.jsx(Z,{type:"text",name:"name",placeholder:"Supplier Name",value:a?r.name||"":s.name||"",className:"inputbox rounded-md bg-slate-100",onChange:c=>o(c,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"contact_no",children:"Supplier Contact Number"}),e.jsx(Z,{type:"text",name:"contact_no",placeholder:"Supplier Contact Number",className:"inputbox rounded-md bg-slate-100",value:a?r.contact_no||"":s.contact_no||"",onChange:c=>o(c,a),required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsx("label",{htmlFor:"address",children:"Supplier Address"}),e.jsx(Z,{type:"text",name:"address",placeholder:"Supplier Address",className:"inputbox rounded-md bg-slate-100",value:a?r.address||"":s.address||"",onChange:c=>o(c,a),required:!0})]})]}),e.jsx("div",{className:"flex flex-col mt-4 gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:d?"green":null,disabled:!d,onClick:()=>u(a),children:n?"Submitting":a?"Edit Supplier":"Add Supplier"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},wo=({openModal:t})=>{const{suppliers:a,isFetching:r,progress:s,setSelectedSupplier:n}=yl(),l=()=>{t({},"add")},i=o=>{n(o),t(o,"edit")},d=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:u=>o.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:u=>o.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{className:"text-center",children:e.jsxs(A,{onClick:()=>o.toggleSorting(o.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row ml-auto mr-auto items-center",children:["NAME ",o.getIsSorted()==="asc"?e.jsx(te,{}):o.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.name})},{accessorKey:"contact_no",header:()=>e.jsx("div",{className:"text-center",children:"CONTACT NUMBER"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.contact_no})},{accessorKey:"address",header:()=>e.jsx("div",{className:"text-center",children:"ADDRESS"}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.address})},{id:"actions",header:()=>e.jsx("div",{className:"text-center",children:"ACTION"}),cell:({row:o})=>{const u=o.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>i(u),className:"flex flex-row items-center gap-2",children:[e.jsx(zs,{})," Edit"]})})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:d,filterWhat:"address",dataType:"Supplier",openModal:l,isLoading:r})})},of=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Supplier",children:e.jsxs(mc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(wo,{openModal:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="edit"?"Edit Supplier":"Add Supplier",children:e.jsx(e.Fragment,{children:e.jsx(No,{onClose:r,isUpdate:s==="edit"})})})]})})})},_o=({handleEditProduct:t})=>[{id:"select",header:({table:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsAllPageRowsSelected(),onChange:s=>r.toggleAllPageRowsSelected(!!s.target.checked),"aria-label":"Select all"}),cell:({row:r})=>e.jsx("input",{type:"checkbox",checked:r.getIsSelected(),onChange:s=>r.toggleSelected(!!s.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"serial_no",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Serial Number"," ",r.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{id:"name",accessorKey:"name",sortingFn:"text",enableSorting:!0,header:({column:r})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>r.toggleSorting(r.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",r.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):r.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"size",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Size"})},{accessorKey:"color",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Color"})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"})},{id:"actions",cell:({row:r})=>{const s=r.original;return e.jsx("div",{className:"flex flex-row justify-end text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>t(s),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{className:"font-medium",children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],So=({handleProdPriceDetails:t,handleEditProdPrice:a,handleToggleActiveStatus:r})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",n.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"WHS"})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.capital_price?l:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.markup_price||0),i=de(n.original.markup_price/n.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:l}),e.jsxs("span",{className:"text-gray-500",children:["(",i,"%)"]})]})}},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Discount"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.sale_discount||0);return e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:n.original.on_sale?l:e.jsx("div",{className:"group relative flex w-fit items-center",children:e.jsxs(ba,{children:[e.jsx(aa,{children:e.jsx(Ms,{size:20,strokeWidth:2,className:"text-gray-700"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:"Not on sale"})})]})})})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:n})=>{const l=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(n.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:n.original.price?l:""})})}},{accessorKey:"approval_status",sortingFn:"basic",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Approval"," ",n.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})}),cell:({row:n})=>{const l=n.original.approval_status;return e.jsx(e.Fragment,{children:e.jsx("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:e.jsxs(ba,{children:[e.jsx(aa,{children:l==="approved"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):l==="rejected"?e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium capitalize",children:l})})]})})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",n.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})}),cell:({row:n})=>{const l=n.original.active_status;return e.jsx("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:e.jsxs(ba,{children:[e.jsx(aa,{children:l==="active"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ss,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium capitalize",children:l})})]})})},enableGlobalFilter:!1},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>t(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(we,{onClick:()=>a(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(lt,{className:"bg-gray-200"}),e.jsx(we,{onClick:()=>r(l),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:l.active_status?l.active_status==="active"?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ss,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set inactive"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ka,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Set active"})]}):e.jsx("div",{})})]})]})})},enableGlobalFilter:!1}],Co=({openModal:t})=>{const{auth:a}=ge(),{data:r,isLoading:s,setSelectedProduct:n}=ms(),l=()=>{t({},"add")},i=d=>{n(d),t(d,"edit")};return e.jsx(e.Fragment,{children:e.jsx($e,{columns:(a==null?void 0:a.role)==="super_admin"||(a==null?void 0:a.role)==="admin"?_o({handleEditProduct:i}):Wc,data:r,filterWhat:"name",dataType:"Product",openModal:l,isLoading:s})})},ko=({openModal:t,isModalOpen:a,filterWarehouse:r})=>{const{data:s,isLoading:n,setSelectedProductPrice:l}=Pa(),i=()=>{t({},"add")},d=c=>{l(c),t(c,"details")},o=c=>{l(c),t(c,"edit")},u=c=>{l(c),t(c,"toggle_active_stat")};return e.jsx(e.Fragment,{children:e.jsx(xs,{children:e.jsx($e,{columns:So({handleProdPriceDetails:d,handleEditProdPrice:o,handleToggleActiveStatus:u}),data:r?s.filter(c=>c.warehouse.id===r):s,filterWhat:"name",dataType:"Listing",openModal:i,isLoading:n})})})},Do=()=>{const{selectedProductPrice:t}=Pa();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Brand"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.brand||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Serial number"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup percent"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[de(t.markup_price/t.capital_price*100,{precision:3}).value,"%"]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.markup_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:t.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[t.on_sale===1?e.jsx(ft,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(Ms,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[t.active_status==="active"?e.jsx(ka,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(ss,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:t.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.created_by.firstname+" "+t.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(t.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:t.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.approved_by?t.approved_by.firstname+" "+t.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(t.updated_at)})]})]})]})})},Po=({onClose:t})=>{const{patchProductPricesMutation:a}=fs(),{selectedProductPrice:r}=Pa(),[s,n]=f.useState(!1),[l,i]=f.useState(null),d=async()=>(n(!s),a({id:r.id,data:{active_status:r.active_status==="active"?"inactive":"active"}}));return e.jsxs("div",{className:"flex min-w-max flex-col gap-3",children:[e.jsxs("h2",{className:"text-sm text-gray-800",children:["Are you sure you'd like to set this listing to"," ",e.jsx("strong",{children:r.active_status==="active"?"inactive":"active"}),"?"]}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:r.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Product ID"}),e.jsx("p",{className:"text-sm",children:r.product.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Listing ID"}),e.jsx("p",{className:"text-sm",children:r.id})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:r.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:r.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:r.warehouse.code})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:r.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx("p",{className:"text-sm",children:r.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks quantity"}),e.jsx("p",{className:"text-sm",children:r.stocks_quantity})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Stocks unit"}),e.jsx("p",{className:"text-sm",children:r.stocks_unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx("p",{className:"text-sm",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(r.price)})]})]}),e.jsx("div",{className:"flex w-full flex-row justify-between pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{fill:"green",onClick:async()=>{(await d()).status===200?t():i("Failed to update active status")},disabled:s,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:s?"Applying...":`Set to ${r.active_status==="active"?"inactive":"active"}`})]})}),l&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:l})})]})},To=({warehouses:t,selectedWarehouse:a,setSelectedWarehouse:r,setOpenedTab:s,onClose:n})=>{const{data:l,selectedProduct:i,setSelectedProduct:d,isLoading:o}=ms(),{data:u}=Pa(),[c,m]=f.useState(!1),[x,h]=f.useState();return f.useEffect(()=>{if(a){const g=u.filter(y=>y.warehouse.id===(a==null?void 0:a.id)),b=[...new Set(g.map(y=>y.product.id))];h(l==null?void 0:l.filter(y=>!b.includes(y.id)))}},[a]),e.jsxs("div",{className:"grid w-full grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ne,{required:!0,value:a==null?void 0:a.id.toString(),onValueChange:g=>{r(t==null?void 0:t.find(b=>b.id===Number(g))),d(void 0)},children:[e.jsx(le,{id:"warehouse",name:"warehouse",className:"flex flex-row items-center gap-3 truncate bg-white text-sm font-bold text-slate-600",children:e.jsx(ie,{placeholder:"Choose warehouse..."})}),e.jsx(ce,{className:"bg-white font-medium",children:t?t.map(g=>e.jsx(z,{value:g.id.toString(),className:"text-sm font-medium text-slate-700",children:g.name},g.code)):e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),e.jsxs("div",{className:"col-span-8 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(yt,{open:c,onOpenChange:m,children:[e.jsx(bt,{id:"product",name:"product",className:"relative w-full",disabled:!a,asChild:!0,children:e.jsxs(oe,{role:"combobox",className:"justify-between truncate bg-white text-sm font-bold text-slate-600",variant:"outline",children:[i?e.jsx("div",{className:"font-bold text-slate-600",children:i.name}):e.jsx("span",{children:"Select a product..."}),e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"w-[442px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{value:i?i.id+i.name+i.serial_no:"",children:[e.jsx(la,{placeholder:"Product name..."}),o&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsxs(Rt,{className:"max-h-[200px] overflow-y-scroll",children:[(x==null?void 0:x.length)===0&&e.jsxs("div",{className:"flex h-16 w-full items-center justify-center pt-2",children:["No products.",e.jsx(xc,{to:"/products",className:"underline",children:"Add a product"})]}),e.jsx(Jt,{children:x&&x.map(g=>e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",value:g.id+g.name+g.serial_no,onSelect:()=>{d(g),m(!1)},children:[e.jsxs("span",{children:[g.name,g.brand&&e.jsxs("span",{children:[" (",g.brand,")"]})]}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:g.serial_no})]},g.id+g.name+g.serial_no))})]})]})})]})]}),i&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Serial Number"}),e.jsx("p",{className:"font-medium",children:i.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Brand"}),e.jsx("p",{className:"font-medium",children:(i==null?void 0:i.brand)||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-2 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:i.size})]}),e.jsxs("div",{className:"col-span-2 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:i.color})]}),e.jsxs("div",{className:"col-span-12 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Notes"}),e.jsx("p",{className:"font-medium",children:i.notes||e.jsx("span",{className:"opacity-70",children:"No notes provided"})})]})]})}),e.jsx("hr",{className:"col-span-12 border-t border-slate-200"}),e.jsx("p",{className:"col-span-12 text-sm font-medium text-slate-700",children:"You can only add a product price/listing to a warehouse once. If the product is not in the list, it is likely that it already has a listing for that warehouse."}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",onClick:()=>{n(),d(void 0)},className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{fill:"green",disabled:!i,onClick:()=>s("listings"),className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:"Proceed"})]})})]})},rs=(t,a,r=2)=>de(a/t*100,{precision:r}).value,Va=(t,a,r=2)=>de(de(t).multiply(a/100),{precision:r}).value,qa=(t,a,r=2)=>de(de(t).add(a),{precision:r}).value,rn=(t,a,r=2)=>de(de(t).subtract(a),{precision:r}).value,Oo=({selectedWarehouse:t,setOpenedTab:a,onClose:r})=>{var I;const{auth:s}=ge(),{selectedProduct:n,setSelectedProduct:l}=ms(),{value:i,setValue:d,handleChange:o,handleSubmit:u}=fs(),[c,m]=f.useState(!1),[x,h]=f.useState(null);f.useEffect(()=>{d(k=>({...k,product_id:n==null?void 0:n.id,warehouse_id:t.id,unit:"pcs",active_status:"active",approval_status:"pending",created_by:s.user.id,on_sale:0,sale_discount:0}))},[]);const[g,b]=f.useState(0),[y,v]=f.useState(10),[p,S]=f.useState(0),O=k=>{const C=k.target.value;b(de(C).value),o("capital_price",de(C).value),S(Va(de(C).value,y))},w=k=>{const C=Number(k.target.value);v(C),S(Va(g,C))},T=k=>{const C=de(k.target.value).value;S(C),v(rs(g,C,3))};return f.useEffect(()=>{o("capital_price",g),o("markup_price",p),o("cost",qa(g,p))},[g,y,p]),f.useEffect(()=>{o("price",rn(i.cost??0,i.sale_discount??0))},[i.cost,i.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:k=>{m(!c),k.preventDefault(),u({action:"add",data:i}).then(()=>{m(!c),l(void 0),et.success("Product listing added successfully"),r()}).catch(()=>{m(!c),h("Failed to add product listing"),et.error("Failed to add product listing")})},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3 font-medium",children:[e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-3 gap-y-5",children:e.jsxs("div",{className:"col-span-12 grid grid-flow-row grid-cols-12 gap-4 text-sm text-slate-700",children:[e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Name"}),e.jsx("p",{className:"font-medium",children:n==null?void 0:n.name})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Serial Number"}),e.jsx("p",{className:"font-medium",children:n==null?void 0:n.serial_no})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Brand"}),e.jsx("p",{className:"font-medium",children:(n==null?void 0:n.brand)||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(W,{id:"unit",name:"unit",type:"text",maxLength:20,required:!0,value:i.unit||"",onChange:k=>{o("unit",k.target.value)}})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Size"}),e.jsx("p",{className:"font-medium",children:n==null?void 0:n.size})]}),e.jsxs("div",{className:"col-span-4 flex flex-col gap-1",children:[e.jsx("h3",{className:"font-bold",children:"Color"}),e.jsx("p",{className:"font-medium",children:n==null?void 0:n.color})]})]})}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(W,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,autoFocus:!0,className:"pl-7",value:g||"",onChange:O,onBlur:k=>{k.target.value=Number(g||0).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(W,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,value:y||"",onChange:w,onBlur:k=>{k.target.value=de(y,{precision:3}).value.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(W,{id:"markup_price",name:"markup_price",type:"number",min:0,step:.01,className:"pl-7",value:p||"",onChange:T,onBlur:k=>{k.target.value=Number(p).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(W,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:qa(g,p).toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(W,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,max:i.cost||0,step:.01,disabled:i.on_sale===void 0?!0:i.on_sale===0,required:!0,className:"pl-7",value:i.sale_discount||"",onChange:k=>{o("sale_discount",de(k.target.value).value)},onBlur:k=>{k.target.value=Number(i.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(W,{name:"on_sale",id:"on_sale",type:"checkbox",className:"h-4 w-fit",checked:!!i.on_sale,onChange:k=>{o("on_sale",k.target.checked?1:0),o("sale_discount",0)}}),e.jsx(P,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(W,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((I=i.price)==null?void 0:I.toFixed(2))||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start gap-3",children:[e.jsx(ht,{id:"active_status",name:"active_status",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:i.active_status==="active"||!1,onCheckedChange:k=>{o("active_status",k?"active":"inactive")}}),e.jsx(P,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ne,{defaultValue:"pending",value:i.approval_status||"",onValueChange:k=>{o("approval_status",k),k==="approved"&&o("approved_by",s.user.id)},required:!0,children:[e.jsx(le,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(ie,{placeholder:"pending"})}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(z,{className:"rounded-md",value:"approved",children:"Approved"},"approved")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"created_by",className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx(W,{name:"created_by",className:"text-sm disabled:pointer-events-none",readOnly:!0,disabled:!0,value:s.user?s.user.firstname+" "+s.user.lastname:""})]})]}),e.jsxs("div",{className:"flex w-full flex-row justify-between whitespace-nowrap pt-4",children:[e.jsx(A,{fill:"default",onClick:()=>a("product"),className:"flex-0 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Go back"}),e.jsx(A,{type:"submit",fill:"green",disabled:c,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Submitting...":"Add listing"})]}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:x})})]})})})},Ao=({onClose:t})=>{const{warehouses:a}=Vt(),[r,s]=f.useState(),{selectedProduct:n}=ms(),[l,i]=f.useState("product");return e.jsx(e.Fragment,{children:e.jsxs(Vr,{defaultValue:"product",className:"min-w-[42rem] max-w-2xl space-y-4",value:l,onValueChange:d=>i(d),children:[e.jsxs(qr,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ua,{value:"product",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Product"}),e.jsx(Ua,{disabled:!n,value:"listings",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Listing"})]}),e.jsx(Os,{value:"product",children:e.jsx(To,{warehouses:a,selectedWarehouse:r,setSelectedWarehouse:s,setOpenedTab:i,onClose:t})}),e.jsx(Os,{value:"listings",children:n&&e.jsx(Oo,{selectedWarehouse:r||{},setOpenedTab:i,onClose:t})})]})})},Fo=({onClose:t})=>{const{value:a,handleChange:r,handleSubmit:s}=Rc(),{selectedProduct:n}=ms(),[l,i]=f.useState(!1),[d,o]=f.useState(null),[u,c]=f.useState(),m=(x,h,g,b)=>{g.test(x.target.value)?(x.target.value=x.target.value,r(h,x.target.value),c(void 0)):c({type:h,error:b})};return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async x=>{i(!l),x.preventDefault();const h=await s({action:"update",id:n.id,data:a});(h==null?void 0:h.status)===200?(i(!l),t()):(i(!l),o("Failed to update product"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"serial_no",className:"text-sm font-bold text-gray-600",children:"Serial number"}),e.jsx(W,{id:"serial_no",name:"serial_no",type:"text",maxLength:100,required:!0,placeholder:"Serial number...",value:a.serial_no!==void 0?a.serial_no:n.serial_no||"",onChange:x=>{m(x,"serial_no",/^[a-zA-Z0-9-]{0,100}$/,"Must only contain A-Z, 0-9, and -")}}),e.jsx("span",{hidden:!(u&&u.type==="serial_no"),className:"text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"name",className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx(W,{id:"name",name:"name",type:"text",maxLength:100,required:!0,placeholder:"Product name...",value:a.name!==void 0?a.name:n.name||"",onChange:x=>{m(x,"name",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}})," ",e.jsx("span",{hidden:!(u&&u.type==="name"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"brand",className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx(W,{id:"brand",name:"brand",type:"text",maxLength:100,required:!0,placeholder:"Brand...",value:a.brand!==void 0?a.brand:n.brand||"",onChange:x=>{m(x,"brand",/^[0-9a-zA-Z\s\-.,/+:_=]{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="brand"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsx("hr",{className:"col-span-12 my-3 border-t border-slate-200"}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"size",className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx(W,{id:"size",name:"size",type:"text",maxLength:100,required:!0,placeholder:"e.g. medium...",value:a.size!==void 0?a.size:n.size||"",onChange:x=>{m(x,"size",/^[0-9a-zA-Z\s\-.,/+:_="']{0,100}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="size"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"color",className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx(W,{id:"color",name:"color",type:"text",maxLength:40,required:!0,placeholder:"e.g. white...",value:a.color!==void 0?a.color:n.color||"",onChange:x=>{m(x,"color",/^[0-9a-zA-Z\s\-.,/+:_="']{0,40}$/,"Must only contain alphanumeric and limited special characters")}}),e.jsx("span",{hidden:!(u&&u.type==="color"),className:"max-w-[225px] text-xs font-bold text-red-600",children:u==null?void 0:u.error})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-start gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(W,{id:"notes",name:"notes",type:"text",placeholder:"Type product notes here...",defaultValue:a.notes!==void 0?a.notes:n.notes||"",onBlur:x=>r("notes",x.target.value)})]})]}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:l||Object.keys(a).length===0||u!==void 0||a.name===""||a.serial_no==="",className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:l?"Applying...":"Apply changes"})]}),d&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:d})})]})})})},df=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Products",children:e.jsxs(bl,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Co,{openModal:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="add"?"Add Product":"Edit Product",children:e.jsxs(e.Fragment,{children:[s==="add"&&e.jsx(zc,{onClose:r}),s==="edit"&&e.jsx(Fo,{onClose:r})]})})]})})})},Eo=({onClose:t})=>{var S,O;const{auth:a}=ge(),{selectedProductPrice:r}=Pa(),{value:s,handleChange:n,handleSubmit:l}=fs(),[i,d]=f.useState(!1),[o,u]=f.useState(null),[c,m]=f.useState(r.capital_price),[x,h]=f.useState(rs(r.capital_price,r.markup_price,3)),[g,b]=f.useState(r.markup_price),y=w=>{const T=w.target.value;m(de(T).value),n("capital_price",de(T).value),b(Va(de(T).value,x||0))},v=w=>{const T=Number(w.target.value);h(T),b(Va(c,T))},p=w=>{const T=de(w.target.value).value;b(T),h(rs(c,T,3))};return f.useEffect(()=>{n("capital_price",c),n("markup_price",g),n("cost",qa(c,g))},[c,x,g]),f.useEffect(()=>{n("price",rn(s.cost??r.cost,s.sale_discount??r.sale_discount))},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async w=>{d(!i),w.preventDefault(),l({action:"update",id:r.id,data:s}).then(()=>{d(!i),et.success("Product price edited successfully"),t()}).catch(()=>{d(!i),u("Failed to add product listing"),et.error("Failed to add product listing")})},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-4 gap-y-5 font-medium text-gray-700",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:r.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx("p",{className:"text-sm",children:r.product.brand||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Serial Number"}),e.jsx("p",{className:"text-sm",children:r.product.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(W,{id:"unit",name:"unit",type:"text",maxLength:20,required:!0,value:s.unit||r.unit,onChange:w=>{n("unit",w.target.value)}})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:r.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:r.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:r.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(W,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,className:"pl-7",value:c||"",onChange:y,onBlur:w=>{w.target.value=Number(c).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(W,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,value:x||"",onChange:v,onBlur:w=>{w.target.value=de(x,{precision:3}).value.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(W,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,step:.01,className:"pl-7",value:g||"",onChange:p,onBlur:w=>{w.target.value=Number(g).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(W,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:qa(c,g).toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(W,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:r.cost,disabled:s.on_sale===void 0?r.on_sale===0:s.on_sale===0,required:!0,className:"pl-7",value:s.sale_discount??((S=r.sale_discount)==null?void 0:S.toFixed(2))??"",onChange:w=>{n("sale_discount",de(w.target.value).value)},onBlur:w=>{w.target.value=Number(s.sale_discount!==void 0?s.sale_discount:r.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(W,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?r.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:w=>{const T=document.getElementById("sale_discount");n("on_sale",w.target.checked?1:0),!w.target.checked&&(n("sale_discount",0),T&&(T.value="0.00"))}}),e.jsx(P,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(W,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((O=s.price)==null?void 0:O.toFixed(2))||r.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(ht,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":r.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:w=>{n("active_status",w?"active":"inactive")}}),e.jsx(P,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:r.created_by.firstname+" "+r.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:Te(r.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ne,{onValueChange:w=>{n("approval_status",w),w==="approved"?n("approved_by",a.user.id):n("approved_by","")},value:s.approval_status||r.approval_status||"",required:!0,children:[e.jsx(le,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(ie,{placeholder:s.approval_status||r.approval_status||"Select status..."})}),e.jsxs(ce,{className:"bg-white",children:[e.jsx(z,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(z,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(z,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:r.approved_by?r.approved_by.firstname+" "+r.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:Te(r.updated_at)})]})]}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:i,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Applying changes...":"Apply changes"})]})}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:o})})]})})})},uf=()=>{const{warehouses:t}=Vt(),[a,r]=f.useState(0),{isOpen:s,openModal:n,closeModal:l}=Fe(),[i,d]=f.useState(""),o=(u,c)=>{d(c),n()};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Product Listings",children:e.jsx(bl,{children:e.jsxs(hc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ne,{defaultValue:"0",onValueChange:u=>r(Number(u)),children:[e.jsx(le,{className:"w-[300px] text-sm font-medium",children:e.jsx(ie,{placeholder:"All"})}),e.jsxs(ce,{className:"text-sm font-medium capitalize",children:[e.jsx(z,{value:"0",children:"All"},"all"),t.map(u=>e.jsxs(z,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ko,{openModal:o,isModalOpen:s,filterWarehouse:a>0?a:void 0})})]}),e.jsx(We,{title:i==="add"?"Add Listing":i==="details"?"Listing Details":i==="edit"?"Edit Listing":i==="toggle_active_stat"?"Toggle Active Status":"",isOpen:s,onClose:l,closeOnOverlayClick:i==="details"||i==="toggle_active_stat",children:e.jsxs(e.Fragment,{children:[i==="add"&&e.jsx(Ao,{onClose:l}),i==="details"&&e.jsx(Do,{}),i==="edit"&&e.jsx(Eo,{onClose:l}),i==="toggle_active_stat"&&e.jsx(Po,{onClose:l})]})})]})})})})},Io=({openModal:t})=>{const{transfers:a,transferProducts:r,isFetching:s,setSelectedTransfer:n}=pt();ge();const l=c=>{n(c),t(c,"details")},i=c=>{n(c),t(c,"edit")},d=c=>{n(c),t(c,"products")},o=()=>{t({},"add")},u=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:m=>c.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:m=>c.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.code?c.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:c})=>{const m=c.original.source,x=c.original.destination;return e.jsxs("div",{className:"text-center",children:[m.code,"-",x.code]})}},{id:"transfer_products",header:()=>e.jsx("div",{className:"text-center",children:"PRODUCTS ADDED?"}),cell:({row:c})=>e.jsx("div",{className:"flex justify-center",children:r.filter(m=>m.transfer_id===c.original.id).length>0?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"})})},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER STATUS ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.transfer_status?c.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["SCHEDULE ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>{const m=c.getValue("transfer_schedule");if(m.toString()!=="0000-00-00 00:00:00"){const x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(m).toLocaleDateString([],x);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"date_received",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>c.toggleSorting(c.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["DATE RECEIVED ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>{const m=c.getValue("date_received");if(m){const x={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},h=new Date(m).toLocaleDateString([],x);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:c})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:c.original.approval_status.toLowerCase()==="approved"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):c.original.approval_status.toLowerCase()==="rejected"?e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:c})=>{const m=c.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>l(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Details"})]}),e.jsxs(we,{onClick:()=>i(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit Transfer"})]}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>d(m),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:m.transfer_status!="arrived"&&m.approval_status!="rejected"?e.jsx(Ut,{size:16,strokeWidth:2.25}):e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Transfer Products"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:u,filterWhat:"approval_status",dataType:"Transfer",openModal:o,isLoading:s})})},Lo=({onClose:t})=>{const{selectedTransfer:a}=pt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Te(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Te(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})};var Ae=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Mo=["onCopy","onCut","onPaste"],Wo=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Ro=["onFocus","onBlur"],zo=["onInput","onInvalid","onReset","onSubmit"],Uo=["onLoad","onError"],Ho=["onKeyDown","onKeyPress","onKeyUp"],Vo=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],qo=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],$o=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Ko=["onSelect"],Yo=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],Bo=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],Go=["onScroll"],Qo=["onWheel"],Zo=["onAnimationStart","onAnimationEnd","onAnimationIteration"],Xo=["onTransitionEnd"],Jo=["onToggle"],ed=["onChange"],td=Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae(Ae([],Mo,!0),Wo,!0),Ro,!0),zo,!0),Uo,!0),Ho,!0),Vo,!0),qo,!0),$o,!0),Ko,!0),Yo,!0),Bo,!0),Go,!0),Qo,!0),Zo,!0),Xo,!0),ed,!0),Jo,!0);function ad(t,a){var r={};return td.forEach(function(s){var n=t[s];n&&(a?r[s]=function(l){return n(l,a(s))}:r[s]=n)}),r}var sd="Expected a function",Hl="__lodash_hash_undefined__",rd="[object Function]",nd="[object GeneratorFunction]",ld=/[\\^$.*+?()[\]{}|]/g,id=/^\[object .+?Constructor\]$/,cd=typeof ys=="object"&&ys&&ys.Object===Object&&ys,od=typeof self=="object"&&self&&self.Object===Object&&self,Vl=cd||od||Function("return this")();function dd(t,a){return t==null?void 0:t[a]}function ud(t){var a=!1;if(t!=null&&typeof t.toString!="function")try{a=!!(t+"")}catch{}return a}var md=Array.prototype,xd=Function.prototype,ql=Object.prototype,ar=Vl["__core-js_shared__"],An=function(){var t=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$l=xd.toString,nn=ql.hasOwnProperty,hd=ql.toString,fd=RegExp("^"+$l.call(nn).replace(ld,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pd=md.splice,gd=Kl(Vl,"Map"),ns=Kl(Object,"create");function Da(t){var a=-1,r=t?t.length:0;for(this.clear();++a<r;){var s=t[a];this.set(s[0],s[1])}}function vd(){this.__data__=ns?ns(null):{}}function jd(t){return this.has(t)&&delete this.__data__[t]}function yd(t){var a=this.__data__;if(ns){var r=a[t];return r===Hl?void 0:r}return nn.call(a,t)?a[t]:void 0}function bd(t){var a=this.__data__;return ns?a[t]!==void 0:nn.call(a,t)}function Nd(t,a){var r=this.__data__;return r[t]=ns&&a===void 0?Hl:a,this}Da.prototype.clear=vd;Da.prototype.delete=jd;Da.prototype.get=yd;Da.prototype.has=bd;Da.prototype.set=Nd;function $a(t){var a=-1,r=t?t.length:0;for(this.clear();++a<r;){var s=t[a];this.set(s[0],s[1])}}function wd(){this.__data__=[]}function _d(t){var a=this.__data__,r=Us(a,t);if(r<0)return!1;var s=a.length-1;return r==s?a.pop():pd.call(a,r,1),!0}function Sd(t){var a=this.__data__,r=Us(a,t);return r<0?void 0:a[r][1]}function Cd(t){return Us(this.__data__,t)>-1}function kd(t,a){var r=this.__data__,s=Us(r,t);return s<0?r.push([t,a]):r[s][1]=a,this}$a.prototype.clear=wd;$a.prototype.delete=_d;$a.prototype.get=Sd;$a.prototype.has=Cd;$a.prototype.set=kd;function Ta(t){var a=-1,r=t?t.length:0;for(this.clear();++a<r;){var s=t[a];this.set(s[0],s[1])}}function Dd(){this.__data__={hash:new Da,map:new(gd||$a),string:new Da}}function Pd(t){return Hs(this,t).delete(t)}function Td(t){return Hs(this,t).get(t)}function Od(t){return Hs(this,t).has(t)}function Ad(t,a){return Hs(this,t).set(t,a),this}Ta.prototype.clear=Dd;Ta.prototype.delete=Pd;Ta.prototype.get=Td;Ta.prototype.has=Od;Ta.prototype.set=Ad;function Us(t,a){for(var r=t.length;r--;)if(Md(t[r][0],a))return r;return-1}function Fd(t){if(!Yl(t)||Id(t))return!1;var a=Wd(t)||ud(t)?fd:id;return a.test(Ld(t))}function Hs(t,a){var r=t.__data__;return Ed(a)?r[typeof a=="string"?"string":"hash"]:r.map}function Kl(t,a){var r=dd(t,a);return Fd(r)?r:void 0}function Ed(t){var a=typeof t;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?t!=="__proto__":t===null}function Id(t){return!!An&&An in t}function Ld(t){if(t!=null){try{return $l.call(t)}catch{}try{return t+""}catch{}}return""}function ln(t,a){if(typeof t!="function"||a&&typeof a!="function")throw new TypeError(sd);var r=function(){var s=arguments,n=a?a.apply(this,s):s[0],l=r.cache;if(l.has(n))return l.get(n);var i=t.apply(this,s);return r.cache=l.set(n,i),i};return r.cache=new(ln.Cache||Ta),r}ln.Cache=Ta;function Md(t,a){return t===a||t!==t&&a!==a}function Wd(t){var a=Yl(t)?hd.call(t):"";return a==rd||a==nd}function Yl(t){var a=typeof t;return!!t&&(a=="object"||a=="function")}var Rd=ln;const Bl=Nl(Rd);function Gl(t){return JSON.stringify(t)}function zd(t){return typeof t=="string"}function Ud(t,a,r){return r.indexOf(t)===a}function Hd(t){return t.toLowerCase()===t}function Fn(t){return t.indexOf(",")===-1?t:t.split(",")}function yr(t){if(!t)return t;if(t==="C"||t==="posix"||t==="POSIX")return"en-US";if(t.indexOf(".")!==-1){var a=t.split(".")[0],r=a===void 0?"":a;return yr(r)}if(t.indexOf("@")!==-1){var s=t.split("@")[0],r=s===void 0?"":s;return yr(r)}if(t.indexOf("-")===-1||!Hd(t))return t;var n=t.split("-"),l=n[0],i=n[1],d=i===void 0?"":i;return"".concat(l,"-").concat(d.toUpperCase())}function Vd(t){var a=t===void 0?{}:t,r=a.useFallbackLocale,s=r===void 0?!0:r,n=a.fallbackLocale,l=n===void 0?"en-US":n,i=[];if(typeof navigator<"u"){for(var d=navigator.languages||[],o=[],u=0,c=d;u<c.length;u++){var m=c[u];o=o.concat(Fn(m))}var x=navigator.language,h=x&&Fn(x);i=i.concat(o,h)}return s&&i.push(l),i.filter(zd).map(yr).filter(Ud)}var qd=Bl(Vd,Gl);function $d(t){return qd(t)[0]||null}var Ql=Bl($d,Gl);const Ka=Ql;function $t(t,a,r){return function(n,l){l===void 0&&(l=r);var i=t(n)+l;return a(i)}}function ps(t){return function(r){return new Date(t(r).getTime()-1)}}function gs(t,a){return function(s){return[t(s),a(s)]}}function re(t){if(t instanceof Date)return t.getFullYear();if(typeof t=="number")return t;var a=parseInt(t,10);if(typeof t=="string"&&!isNaN(a))return a;throw new Error("Failed to get year from date: ".concat(t,"."))}function oa(t){if(t instanceof Date)return t.getMonth();throw new Error("Failed to get month from date: ".concat(t,"."))}function Mt(t){if(t instanceof Date)return t.getMonth()+1;throw new Error("Failed to get human-readable month from date: ".concat(t,"."))}function Ht(t){if(t instanceof Date)return t.getDate();throw new Error("Failed to get year from date: ".concat(t,"."))}function Ge(t){if(t instanceof Date)return t.getHours();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var r=a[0];if(r){var s=parseInt(r,10);if(!isNaN(s))return s}}}throw new Error("Failed to get hours from date: ".concat(t,"."))}function Wt(t){if(t instanceof Date)return t.getMinutes();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var r=a[1]||"0",s=parseInt(r,10);if(!isNaN(s))return s}}throw new Error("Failed to get minutes from date: ".concat(t,"."))}function wa(t){if(t instanceof Date)return t.getSeconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var r=a[2]||"0",s=parseInt(r,10);if(!isNaN(s))return s}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function sr(t){if(t instanceof Date)return t.getMilliseconds();if(typeof t=="string"){var a=t.split(":");if(a.length>=2){var r=a[2]||"0",s=r.split(".")[1]||"0",n=parseInt(s,10);if(!isNaN(n))return n}}throw new Error("Failed to get seconds from date: ".concat(t,"."))}function Ya(t){var a=re(t),r=a+(-a+1)%100,s=new Date;return s.setFullYear(r,0,1),s.setHours(0,0,0,0),s}var Kd=$t(re,Ya,-100),Zl=$t(re,Ya,100),cn=ps(Zl),Yd=$t(re,cn,-100),Xl=gs(Ya,cn);function da(t){var a=re(t),r=a+(-a+1)%10,s=new Date;return s.setFullYear(r,0,1),s.setHours(0,0,0,0),s}var Jl=$t(re,da,-10),on=$t(re,da,10),Vs=ps(on),ei=$t(re,Vs,-10),ti=gs(da,Vs);function Ba(t){var a=re(t),r=new Date;return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}var ai=$t(re,Ba,-1),dn=$t(re,Ba,1),qs=ps(dn),si=$t(re,qs,-1),Bd=gs(Ba,qs);function un(t,a){return function(s,n){n===void 0&&(n=a);var l=re(s),i=oa(s)+n,d=new Date;return d.setFullYear(l,i,1),d.setHours(0,0,0,0),t(d)}}function Oa(t){var a=re(t),r=oa(t),s=new Date;return s.setFullYear(a,r,1),s.setHours(0,0,0,0),s}var ri=un(Oa,-1),mn=un(Oa,1),vs=ps(mn),ni=un(vs,-1),Gd=gs(Oa,vs);function Qd(t,a){return function(s,n){n===void 0&&(n=a);var l=re(s),i=oa(s),d=Ht(s)+n,o=new Date;return o.setFullYear(l,i,d),o.setHours(0,0,0,0),t(o)}}function js(t){var a=re(t),r=oa(t),s=Ht(t),n=new Date;return n.setFullYear(a,r,s),n.setHours(0,0,0,0),n}var Zd=Qd(js,1),xn=ps(Zd),Xd=gs(js,xn);function hn(t){return Ht(vs(t))}function ra(t,a){a===void 0&&(a=2);var r="".concat(t);return r.length>=a?t:"0000".concat(r).slice(-a)}function Jd(t){var a=ra(Ge(t)),r=ra(Wt(t));return"".concat(a,":").concat(r)}function br(t){var a=ra(Ge(t)),r=ra(Wt(t)),s=ra(wa(t));return"".concat(a,":").concat(r,":").concat(s)}function Nr(t){var a=ra(re(t),4),r=ra(Mt(t)),s=ra(Ht(t));return"".concat(a,"-").concat(r,"-").concat(s)}function eu(t){return"".concat(Nr(t),"T").concat(br(t))}var Ja,ve={GREGORY:"gregory",HEBREW:"hebrew",ISLAMIC:"islamic",ISO_8601:"iso8601"},Ma={ARABIC:"Arabic",HEBREW:"Hebrew",ISO_8601:"ISO 8601",US:"US"},tu=(Ja={},Ja[ve.GREGORY]=["en-CA","en-US","es-AR","es-BO","es-CL","es-CO","es-CR","es-DO","es-EC","es-GT","es-HN","es-MX","es-NI","es-PA","es-PE","es-PR","es-SV","es-VE","pt-BR"],Ja[ve.HEBREW]=["he","he-IL"],Ja[ve.ISLAMIC]=["ar","ar-AE","ar-BH","ar-DZ","ar-EG","ar-IQ","ar-JO","ar-KW","ar-LY","ar-OM","ar-QA","ar-SA","ar-SD","ar-SY","ar-YE","dv","dv-MV","ps","ps-AR"],Ja),fn=[0,1,2,3,4,5,6],rr=new Map;function au(t){return function(r,s){var n=r||Ka();rr.has(n)||rr.set(n,new Map);var l=rr.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(s)}}function su(t){var a=new Date(t);return new Date(a.setHours(12))}function Aa(t){return function(a,r){return au(t)(a,su(r))}}var ru={day:"numeric"},nu={day:"numeric",month:"long",year:"numeric"},lu={month:"long"},iu={month:"long",year:"numeric"},cu={weekday:"short"},ou={weekday:"long"},du={year:"numeric"},uu=Aa(ru),mu=Aa(nu),xu=Aa(lu),li=Aa(iu),hu=Aa(cu),fu=Aa(ou),$s=Aa(du),pu=fn[0],gu=fn[5],En=fn[6];function ls(t,a){a===void 0&&(a=ve.ISO_8601);var r=t.getDay();switch(a){case ve.ISO_8601:return(r+6)%7;case ve.ISLAMIC:return(r+1)%7;case ve.HEBREW:case ve.GREGORY:return r;default:throw new Error("Unsupported calendar type.")}}function vu(t){var a=Ya(t);return re(a)}function ju(t){var a=da(t);return re(a)}function wr(t,a){a===void 0&&(a=ve.ISO_8601);var r=re(t),s=oa(t),n=t.getDate()-ls(t,a);return new Date(r,s,n)}function yu(t,a){a===void 0&&(a=ve.ISO_8601);var r=a===ve.GREGORY?ve.GREGORY:ve.ISO_8601,s=wr(t,a),n=re(t)+1,l,i;do l=new Date(n,0,r===ve.ISO_8601?4:1),i=wr(l,a),n-=1;while(t<i);return Math.round((s.getTime()-i.getTime())/(864e5*7))+1}function _a(t,a){switch(t){case"century":return Ya(a);case"decade":return da(a);case"year":return Ba(a);case"month":return Oa(a);case"day":return js(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function bu(t,a){switch(t){case"century":return Kd(a);case"decade":return Jl(a);case"year":return ai(a);case"month":return ri(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function ii(t,a){switch(t){case"century":return Zl(a);case"decade":return on(a);case"year":return dn(a);case"month":return mn(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Nu(t,a){switch(t){case"decade":return Jl(a,-100);case"year":return ai(a,-10);case"month":return ri(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function wu(t,a){switch(t){case"decade":return on(a,100);case"year":return dn(a,10);case"month":return mn(a,12);default:throw new Error("Invalid rangeType: ".concat(t))}}function ci(t,a){switch(t){case"century":return cn(a);case"decade":return Vs(a);case"year":return qs(a);case"month":return vs(a);case"day":return xn(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function _u(t,a){switch(t){case"century":return Yd(a);case"decade":return ei(a);case"year":return si(a);case"month":return ni(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Su(t,a){switch(t){case"decade":return ei(a,-100);case"year":return si(a,-10);case"month":return ni(a,-12);default:throw new Error("Invalid rangeType: ".concat(t))}}function In(t,a){switch(t){case"century":return Xl(a);case"decade":return ti(a);case"year":return Bd(a);case"month":return Gd(a);case"day":return Xd(a);default:throw new Error("Invalid rangeType: ".concat(t))}}function Cu(t,a,r){var s=[a,r].sort(function(n,l){return n.getTime()-l.getTime()});return[_a(t,s[0]),ci(t,s[1])]}function oi(t,a,r){return a===void 0&&(a=$s),r.map(function(s){return a(t,s)}).join("  ")}function ku(t,a,r){return oi(t,a,Xl(r))}function di(t,a,r){return oi(t,a,ti(r))}function Du(t){return t.getDay()===new Date().getDay()}function ui(t,a){a===void 0&&(a=ve.ISO_8601);var r=t.getDay();switch(a){case ve.ISLAMIC:case ve.HEBREW:return r===gu||r===En;case ve.ISO_8601:case ve.GREGORY:return r===En||r===pu;default:throw new Error("Unsupported calendar type.")}}var vt="react-calendar__navigation";function Pu(t){var a=t.activeStartDate,r=t.drillUp,s=t.formatMonthYear,n=s===void 0?li:s,l=t.formatYear,i=l===void 0?$s:l,d=t.locale,o=t.maxDate,u=t.minDate,c=t.navigationAriaLabel,m=c===void 0?"":c,x=t.navigationAriaLive,h=t.navigationLabel,g=t.next2AriaLabel,b=g===void 0?"":g,y=t.next2Label,v=y===void 0?"":y,p=t.nextAriaLabel,S=p===void 0?"":p,O=t.nextLabel,w=O===void 0?"":O,T=t.prev2AriaLabel,I=T===void 0?"":T,k=t.prev2Label,C=k===void 0?"":k,E=t.prevAriaLabel,L=E===void 0?"":E,R=t.prevLabel,q=R===void 0?"":R,Y=t.setActiveStartDate,V=t.showDoubleView,N=t.view,B=t.views,ue=B.indexOf(N)>0,M=N!=="century",Q=bu(N,a),xe=M?Nu(N,a):void 0,he=ii(N,a),fe=M?wu(N,a):void 0,X=function(){if(Q.getFullYear()<0)return!0;var G=_u(N,a);return u&&u>=G}(),Oe=M&&function(){if(xe.getFullYear()<0)return!0;var G=Su(N,a);return u&&u>=G}(),Re=o&&o<he,ze=M&&o&&o<fe;function Ee(){Y(Q,"prev")}function Pe(){Y(xe,"prev2")}function Ke(){Y(he,"next")}function _e(){Y(fe,"next2")}function ye(G){var je=function(){switch(N){case"century":return ku(d,i,G);case"decade":return di(d,i,G);case"year":return i(d,G);case"month":return n(d,G);default:throw new Error("Invalid view: ".concat(N,"."))}}();return h?h({date:G,label:je,locale:d||Ql()||void 0,view:N}):je}function $(){var G="".concat(vt,"__label");return _.createElement("button",{"aria-label":m,"aria-live":x,className:G,disabled:!ue,onClick:r,style:{flexGrow:1},type:"button"},_.createElement("span",{className:"".concat(G,"__labelText ").concat(G,"__labelText--from")},ye(a)),V?_.createElement(_.Fragment,null,_.createElement("span",{className:"".concat(G,"__divider")},"  "),_.createElement("span",{className:"".concat(G,"__labelText ").concat(G,"__labelText--to")},ye(he))):null)}return _.createElement("div",{className:vt},C!==null&&M?_.createElement("button",{"aria-label":I,className:"".concat(vt,"__arrow ").concat(vt,"__prev2-button"),disabled:Oe,onClick:Pe,type:"button"},C):null,q!==null&&_.createElement("button",{"aria-label":L,className:"".concat(vt,"__arrow ").concat(vt,"__prev-button"),disabled:X,onClick:Ee,type:"button"},q),$(),w!==null&&_.createElement("button",{"aria-label":S,className:"".concat(vt,"__arrow ").concat(vt,"__next-button"),disabled:Re,onClick:Ke,type:"button"},w),v!==null&&M?_.createElement("button",{"aria-label":b,className:"".concat(vt,"__arrow ").concat(vt,"__next2-button"),disabled:ze,onClick:_e,type:"button"},v):null)}var Wa=globalThis&&globalThis.__assign||function(){return Wa=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Wa.apply(this,arguments)},Tu=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Ln(t){return"".concat(t,"%")}function pn(t){var a=t.children,r=t.className,s=t.count,n=t.direction,l=t.offset,i=t.style,d=t.wrap,o=Tu(t,["children","className","count","direction","offset","style","wrap"]);return _.createElement("div",Wa({className:r,style:Wa({display:"flex",flexDirection:n,flexWrap:d?"wrap":"nowrap"},i)},o),_.Children.map(a,function(u,c){var m=l&&c===0?Ln(100*l/s):null;return _.cloneElement(u,Wa(Wa({},u.props),{style:{flexBasis:Ln(100/s),flexShrink:0,flexGrow:0,overflow:"hidden",marginLeft:m,marginInlineStart:m,marginInlineEnd:0}}))}))}var Ou=function(){},Au=Ou;const Fu=Nl(Au);var La;function Eu(t,a,r){return a&&a>t?a:r&&r<t?r:t}function is(t,a){return a[0]<=t&&a[1]>=t}function Iu(t,a){return t[0]<=a[0]&&t[1]>=a[1]}function mi(t,a){return is(t[0],a)||is(t[1],a)}function Mn(t,a,r){var s=mi(a,t),n=[];if(s){n.push(r);var l=is(t[0],a),i=is(t[1],a);l&&n.push("".concat(r,"Start")),i&&n.push("".concat(r,"End")),l&&i&&n.push("".concat(r,"BothEnds"))}return n}function Lu(t){return Array.isArray(t)?t[0]!==null&&t[1]!==null:t!==null}function Mu(t){if(!t)throw new Error("args is required");var a=t.value,r=t.date,s=t.hover,n="react-calendar__tile",l=[n];if(!r)return l;var i=new Date,d=function(){if(Array.isArray(r))return r;var h=t.dateType;if(!h)throw new Error("dateType is required when date is not an array of two dates");return In(h,r)}();if(is(i,d)&&l.push("".concat(n,"--now")),!a||!Lu(a))return l;var o=function(){if(Array.isArray(a))return a;var h=t.valueType;if(!h)throw new Error("valueType is required when value is not an array of two dates");return In(h,a)}();Iu(o,d)?l.push("".concat(n,"--active")):mi(o,d)&&l.push("".concat(n,"--hasActive"));var u=Mn(o,d,"".concat(n,"--range"));l.push.apply(l,u);var c=Array.isArray(a)?a:[a];if(s&&c.length===1){var m=s>o[0]?[o[0],s]:[s,o[0]],x=Mn(m,d,"".concat(n,"--hover"));l.push.apply(l,x)}return l}var Wu=(La={},La[Ma.ARABIC]=ve.ISLAMIC,La[Ma.HEBREW]=ve.HEBREW,La[Ma.ISO_8601]=ve.ISO_8601,La[Ma.US]=ve.GREGORY,La);function Ru(t){return t!==void 0&&t in Ma}var Wn=!1;function Ks(t){if(Ru(t)){var a=Wu[t];return Fu(Wn,'Specifying calendarType="'.concat(t,'" is deprecated. Use calendarType="').concat(a,'" instead.')),Wn=!0,a}return t}function Ys(t){for(var a=t.className,r=t.count,s=r===void 0?3:r,n=t.dateTransform,l=t.dateType,i=t.end,d=t.hover,o=t.offset,u=t.renderTile,c=t.start,m=t.step,x=m===void 0?1:m,h=t.value,g=t.valueType,b=[],y=c;y<=i;y+=x){var v=n(y);b.push(u({classes:Mu({date:v,dateType:l,hover:d,value:h,valueType:g}),date:v}))}return _.createElement(pn,{className:a,count:s,offset:o,wrap:!0},b)}function Bs(t){var a=t.activeStartDate,r=t.children,s=t.classes,n=t.date,l=t.formatAbbr,i=t.locale,d=t.maxDate,o=t.maxDateTransform,u=t.minDate,c=t.minDateTransform,m=t.onClick,x=t.onMouseOver,h=t.style,g=t.tileClassName,b=t.tileContent,y=t.tileDisabled,v=t.view,p=f.useMemo(function(){var O={activeStartDate:a,date:n,view:v};return typeof g=="function"?g(O):g},[a,n,g,v]),S=f.useMemo(function(){var O={activeStartDate:a,date:n,view:v};return typeof b=="function"?b(O):b},[a,n,b,v]);return _.createElement("button",{className:ot(s,p),disabled:u&&c(u)>n||d&&o(d)<n||y&&y({activeStartDate:a,date:n,view:v}),onClick:m?function(O){return m(n,O)}:void 0,onFocus:x?function(){return x(n)}:void 0,onMouseOver:x?function(){return x(n)}:void 0,style:h,type:"button"},l?_.createElement("abbr",{"aria-label":l(i,n)},r):r,S)}var _r=globalThis&&globalThis.__assign||function(){return _r=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},_r.apply(this,arguments)},zu=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},nr="react-calendar__century-view__decades__decade";function Uu(t){var a=t.classes,r=a===void 0?[]:a,s=t.currentCentury,n=t.formatYear,l=n===void 0?$s:n,i=zu(t,["classes","currentCentury","formatYear"]),d=i.date,o=i.locale,u=[];return r&&u.push.apply(u,r),nr&&u.push(nr),Ya(d).getFullYear()!==s&&u.push("".concat(nr,"--neighboringCentury")),_.createElement(Bs,_r({},i,{classes:u,maxDateTransform:Vs,minDateTransform:da,view:"century"}),di(o,l,d))}var Sr=globalThis&&globalThis.__assign||function(){return Sr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Sr.apply(this,arguments)},Rn=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Hu(t){var a=t.activeStartDate,r=t.hover,s=t.showNeighboringCentury,n=t.value,l=t.valueType,i=Rn(t,["activeStartDate","hover","showNeighboringCentury","value","valueType"]),d=vu(a),o=d+(s?119:99);return _.createElement(Ys,{className:"react-calendar__century-view__decades",dateTransform:da,dateType:"decade",end:o,hover:r,renderTile:function(u){var c=u.date,m=Rn(u,["date"]);return _.createElement(Uu,Sr({key:c.getTime()},i,m,{activeStartDate:a,currentCentury:d,date:c}))},start:d,step:10,value:n,valueType:l})}var zn=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Vu=Object.values(ve),qu=Object.values(Ma),Cr=["century","decade","year","month"],xi=j.oneOf(zn(zn([],Vu,!0),qu,!0)),As=j.oneOfType([j.string,j.arrayOf(j.string)]),gn=function(a,r,s){var n=a,l=r,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, minDate cannot be larger than maxDate.")):null},vn=function(a,r,s){var n=a,l=r,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, maxDate cannot be smaller than minDate.")):null},$u=j.oneOfType([j.func,j.exact({current:j.any})]),Ku=j.arrayOf(j.oneOfType([j.instanceOf(Date),j.oneOf([null])]).isRequired),Yu=j.oneOfType([j.instanceOf(Date),j.oneOf([null]),Ku]);j.arrayOf(j.oneOf(Cr));var Fs=function(a,r,s){var n=a,l=r,i=n[l];return i!==void 0&&(typeof i!="string"||Cr.indexOf(i)===-1)?new Error("Invalid prop `".concat(r,"` of value `").concat(i,"` supplied to `").concat(s,"`, expected one of [").concat(Cr.map(function(d){return'"'.concat(d,'"')}).join(", "),"].")):null};Fs.isRequired=function(a,r,s,n,l){var i=a,d=r,o=i[d];return o?Fs(a,r,s):new Error("The prop `".concat(r,"` is marked as required in `").concat(s,"`, but its value is `").concat(o,"`."))};var Bu=function(t){return j.arrayOf(t)},Gs={activeStartDate:j.instanceOf(Date).isRequired,hover:j.instanceOf(Date),locale:j.string,maxDate:vn,minDate:gn,onClick:j.func,onMouseOver:j.func,tileClassName:j.oneOfType([j.func,As]),tileContent:j.oneOfType([j.func,j.node]),value:Yu,valueType:j.oneOf(["century","decade","year","month","day"]).isRequired};j.instanceOf(Date).isRequired,j.arrayOf(j.string.isRequired).isRequired,j.instanceOf(Date).isRequired,j.string,j.func,j.func,j.objectOf(j.oneOfType([j.string,j.number])),j.oneOfType([j.func,As]),j.oneOfType([j.func,j.node]),j.func;var cs=globalThis&&globalThis.__assign||function(){return cs=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},cs.apply(this,arguments)},hi=function(a){function r(){return _.createElement(Hu,cs({},a))}return _.createElement("div",{className:"react-calendar__century-view"},r())};hi.propTypes=cs(cs({},Gs),{showNeighboringCentury:j.bool});const Gu=hi;var kr=globalThis&&globalThis.__assign||function(){return kr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},kr.apply(this,arguments)},Qu=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},lr="react-calendar__decade-view__years__year";function Zu(t){var a=t.classes,r=a===void 0?[]:a,s=t.currentDecade,n=t.formatYear,l=n===void 0?$s:n,i=Qu(t,["classes","currentDecade","formatYear"]),d=i.date,o=i.locale,u=[];return r&&u.push.apply(u,r),lr&&u.push(lr),da(d).getFullYear()!==s&&u.push("".concat(lr,"--neighboringDecade")),_.createElement(Bs,kr({},i,{classes:u,maxDateTransform:qs,minDateTransform:Ba,view:"decade"}),l(o,d))}var Dr=globalThis&&globalThis.__assign||function(){return Dr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Dr.apply(this,arguments)},Un=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Xu(t){var a=t.activeStartDate,r=t.hover,s=t.showNeighboringDecade,n=t.value,l=t.valueType,i=Un(t,["activeStartDate","hover","showNeighboringDecade","value","valueType"]),d=ju(a),o=d+(s?11:9);return _.createElement(Ys,{className:"react-calendar__decade-view__years",dateTransform:Ba,dateType:"year",end:o,hover:r,renderTile:function(u){var c=u.date,m=Un(u,["date"]);return _.createElement(Zu,Dr({key:c.getTime()},i,m,{activeStartDate:a,currentDecade:d,date:c}))},start:d,value:n,valueType:l})}var os=globalThis&&globalThis.__assign||function(){return os=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},os.apply(this,arguments)},fi=function(a){function r(){return _.createElement(Xu,os({},a))}return _.createElement("div",{className:"react-calendar__decade-view"},r())};fi.propTypes=os(os({},Gs),{showNeighboringDecade:j.bool});const Ju=fi;var Pr=globalThis&&globalThis.__assign||function(){return Pr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Pr.apply(this,arguments)},em=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Hn=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},tm="react-calendar__year-view__months__month";function am(t){var a=t.classes,r=a===void 0?[]:a,s=t.formatMonth,n=s===void 0?xu:s,l=t.formatMonthYear,i=l===void 0?li:l,d=em(t,["classes","formatMonth","formatMonthYear"]),o=d.date,u=d.locale;return _.createElement(Bs,Pr({},d,{classes:Hn(Hn([],r,!0),[tm],!1),formatAbbr:i,maxDateTransform:vs,minDateTransform:Oa,view:"year"}),n(u,o))}var Tr=globalThis&&globalThis.__assign||function(){return Tr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Tr.apply(this,arguments)},Vn=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function sm(t){var a=t.activeStartDate,r=t.hover,s=t.value,n=t.valueType,l=Vn(t,["activeStartDate","hover","value","valueType"]),i=0,d=11,o=re(a);return _.createElement(Ys,{className:"react-calendar__year-view__months",dateTransform:function(u){var c=new Date;return c.setFullYear(o,u,1),Oa(c)},dateType:"month",end:d,hover:r,renderTile:function(u){var c=u.date,m=Vn(u,["date"]);return _.createElement(am,Tr({key:c.getTime()},l,m,{activeStartDate:a,date:c}))},start:i,value:s,valueType:n})}var Es=globalThis&&globalThis.__assign||function(){return Es=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Es.apply(this,arguments)},pi=function(a){function r(){return _.createElement(sm,Es({},a))}return _.createElement("div",{className:"react-calendar__year-view"},r())};pi.propTypes=Es({},Gs);const rm=pi;var Or=globalThis&&globalThis.__assign||function(){return Or=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Or.apply(this,arguments)},nm=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Ns="react-calendar__month-view__days__day";function lm(t){var a=t.calendarType,r=t.classes,s=r===void 0?[]:r,n=t.currentMonthIndex,l=t.formatDay,i=l===void 0?uu:l,d=t.formatLongDate,o=d===void 0?mu:d,u=nm(t,["calendarType","classes","currentMonthIndex","formatDay","formatLongDate"]),c=Ks(a),m=u.date,x=u.locale,h=[];return s&&h.push.apply(h,s),Ns&&h.push(Ns),ui(m,c)&&h.push("".concat(Ns,"--weekend")),m.getMonth()!==n&&h.push("".concat(Ns,"--neighboringMonth")),_.createElement(Bs,Or({},u,{classes:h,formatAbbr:o,maxDateTransform:xn,minDateTransform:js,view:"month"}),i(x,m))}var Ar=globalThis&&globalThis.__assign||function(){return Ar=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ar.apply(this,arguments)},qn=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function im(t){var a=t.activeStartDate,r=t.calendarType,s=t.hover,n=t.showFixedNumberOfWeeks,l=t.showNeighboringMonth,i=t.value,d=t.valueType,o=qn(t,["activeStartDate","calendarType","hover","showFixedNumberOfWeeks","showNeighboringMonth","value","valueType"]),u=Ks(r),c=re(a),m=oa(a),x=n||l,h=ls(a,u),g=x?0:h,b=(x?-h:0)+1,y=function(){if(n)return b+6*7-1;var v=hn(a);if(l){var p=new Date;p.setFullYear(c,m,v),p.setHours(0,0,0,0);var S=7-ls(p,u)-1;return v+S}return v}();return _.createElement(Ys,{className:"react-calendar__month-view__days",count:7,dateTransform:function(v){var p=new Date;return p.setFullYear(c,m,v),js(p)},dateType:"day",hover:s,end:y,renderTile:function(v){var p=v.date,S=qn(v,["date"]);return _.createElement(lm,Ar({key:p.getTime()},o,S,{activeStartDate:a,calendarType:r,currentMonthIndex:m,date:p}))},offset:g,start:b,value:i,valueType:d})}var gi="react-calendar__month-view__weekdays",ir="".concat(gi,"__weekday");function cm(t){for(var a=t.calendarType,r=t.formatShortWeekday,s=r===void 0?hu:r,n=t.formatWeekday,l=n===void 0?fu:n,i=t.locale,d=t.onMouseLeave,o=Ks(a),u=new Date,c=Oa(u),m=re(c),x=oa(c),h=[],g=1;g<=7;g+=1){var b=new Date(m,x,g-ls(c,o)),y=l(i,b);h.push(_.createElement("div",{key:g,className:ot(ir,Du(b)&&"".concat(ir,"--current"),ui(b,o)&&"".concat(ir,"--weekend"))},_.createElement("abbr",{"aria-label":y,title:y},s(i,b).replace(".",""))))}return _.createElement(pn,{className:gi,count:7,onFocus:d,onMouseOver:d},h)}var Is=globalThis&&globalThis.__assign||function(){return Is=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Is.apply(this,arguments)},$n=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Kn="react-calendar__tile";function om(t){var a=t.onClickWeekNumber,r=t.weekNumber,s=_.createElement("span",null,r);if(a){var n=t.date,l=t.onClickWeekNumber,i=t.weekNumber,d=$n(t,["date","onClickWeekNumber","weekNumber"]);return _.createElement("button",Is({},d,{className:Kn,onClick:function(o){return l(i,n,o)},type:"button"}),s)}else{t.date,t.onClickWeekNumber,t.weekNumber;var d=$n(t,["date","onClickWeekNumber","weekNumber"]);return _.createElement("div",Is({},d,{className:Kn}),s)}}function dm(t){var a=t.activeStartDate,r=t.calendarType,s=t.onClickWeekNumber,n=t.onMouseLeave,l=t.showFixedNumberOfWeeks,i=Ks(r),d=function(){if(l)return 6;var c=hn(a),m=ls(a,i),x=c-(7-m);return 1+Math.ceil(x/7)}(),o=function(){for(var c=re(a),m=oa(a),x=Ht(a),h=[],g=0;g<d;g+=1)h.push(wr(new Date(c,m,x+g*7),i));return h}(),u=o.map(function(c){return yu(c,i)});return _.createElement(pn,{className:"react-calendar__month-view__weekNumbers",count:d,direction:"column",onFocus:n,onMouseOver:n,style:{flexBasis:"calc(100% * (1 / 8)",flexShrink:0}},u.map(function(c,m){var x=o[m];if(!x)throw new Error("date is not defined");return _.createElement(om,{key:c,date:x,onClickWeekNumber:s,weekNumber:c})}))}var ds=globalThis&&globalThis.__assign||function(){return ds=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ds.apply(this,arguments)},um=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function mm(t){if(t)for(var a=0,r=Object.entries(tu);a<r.length;a++){var s=r[a],n=s[0],l=s[1];if(l.includes(t))return n}return ve.ISO_8601}var vi=function(a){var r=a.activeStartDate,s=a.locale,n=a.onMouseLeave,l=a.showFixedNumberOfWeeks,i=a.calendarType,d=i===void 0?mm(s):i,o=a.formatShortWeekday,u=a.formatWeekday,c=a.onClickWeekNumber,m=a.showWeekNumbers,x=um(a,["calendarType","formatShortWeekday","formatWeekday","onClickWeekNumber","showWeekNumbers"]);function h(){return _.createElement(cm,{calendarType:d,formatShortWeekday:o,formatWeekday:u,locale:s,onMouseLeave:n})}function g(){return m?_.createElement(dm,{activeStartDate:r,calendarType:d,onClickWeekNumber:c,onMouseLeave:n,showFixedNumberOfWeeks:l}):null}function b(){return _.createElement(im,ds({calendarType:d},x))}var y="react-calendar__month-view";return _.createElement("div",{className:ot(y,m?"".concat(y,"--weekNumbers"):"")},_.createElement("div",{style:{display:"flex",alignItems:"flex-end"}},g(),_.createElement("div",{style:{flexGrow:1,width:"100%"}},h(),b())))};vi.propTypes=ds(ds({},Gs),{calendarType:xi,formatDay:j.func,formatLongDate:j.func,formatShortWeekday:j.func,formatWeekday:j.func,onClickWeekNumber:j.func,onMouseLeave:j.func,showFixedNumberOfWeeks:j.bool,showNeighboringMonth:j.bool,showWeekNumbers:j.bool});const xm=vi;var Ra=globalThis&&globalThis.__assign||function(){return Ra=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ra.apply(this,arguments)},ws="react-calendar",za=["century","decade","year","month"],hm=["decade","year","month","day"],jn=new Date;jn.setFullYear(1,0,1);jn.setHours(0,0,0,0);var fm=new Date(864e13);function es(t){return t instanceof Date?t:new Date(t)}function ji(t,a){return za.slice(za.indexOf(t),za.indexOf(a)+1)}function pm(t,a,r){var s=ji(a,r);return s.indexOf(t)!==-1}function yn(t,a,r){return t&&pm(t,a,r)?t:r}function yi(t){var a=za.indexOf(t);return hm[a]}function gm(t,a){var r=Array.isArray(t)?t[a]:t;if(!r)return null;var s=es(r);if(isNaN(s.getTime()))throw new Error("Invalid date: ".concat(t));return s}function bi(t,a){var r=t.value,s=t.minDate,n=t.maxDate,l=t.maxDetail,i=gm(r,a);if(!i)return null;var d=yi(l),o=function(){switch(a){case 0:return _a(d,i);case 1:return ci(d,i);default:throw new Error("Invalid index value: ".concat(a))}}();return Eu(o,s,n)}var bn=function(t){return bi(t,0)},Ni=function(t){return bi(t,1)},vm=function(t){return[bn,Ni].map(function(a){return a(t)})};function wi(t){var a=t.maxDate,r=t.maxDetail,s=t.minDate,n=t.minDetail,l=t.value,i=t.view,d=yn(i,n,r),o=bn({value:l,minDate:s,maxDate:a,maxDetail:r})||new Date;return _a(d,o)}function jm(t){var a=t.activeStartDate,r=t.defaultActiveStartDate,s=t.defaultValue,n=t.defaultView,l=t.maxDate,i=t.maxDetail,d=t.minDate,o=t.minDetail,u=t.value,c=t.view,m=yn(c,o,i),x=a||r;return x?_a(m,x):wi({maxDate:l,maxDetail:i,minDate:d,minDetail:o,value:u||s,view:c||n})}function cr(t){return t&&(!Array.isArray(t)||t.length===1)}function _s(t,a){return t instanceof Date&&a instanceof Date&&t.getTime()===a.getTime()}var _i=f.forwardRef(function(a,r){var s=a.activeStartDate,n=a.allowPartialRange,l=a.calendarType,i=a.className,d=a.defaultActiveStartDate,o=a.defaultValue,u=a.defaultView,c=a.formatDay,m=a.formatLongDate,x=a.formatMonth,h=a.formatMonthYear,g=a.formatShortWeekday,b=a.formatWeekday,y=a.formatYear,v=a.goToRangeStartOnSelect,p=v===void 0?!0:v,S=a.inputRef,O=a.locale,w=a.maxDate,T=w===void 0?fm:w,I=a.maxDetail,k=I===void 0?"month":I,C=a.minDate,E=C===void 0?jn:C,L=a.minDetail,R=L===void 0?"century":L,q=a.navigationAriaLabel,Y=a.navigationAriaLive,V=a.navigationLabel,N=a.next2AriaLabel,B=a.next2Label,ue=a.nextAriaLabel,M=a.nextLabel,Q=a.onActiveStartDateChange,xe=a.onChange,he=a.onClickDay,fe=a.onClickDecade,X=a.onClickMonth,Oe=a.onClickWeekNumber,Re=a.onClickYear,ze=a.onDrillDown,Ee=a.onDrillUp,Pe=a.onViewChange,Ke=a.prev2AriaLabel,_e=a.prev2Label,ye=a.prevAriaLabel,$=a.prevLabel,G=a.returnValue,je=G===void 0?"start":G,be=a.selectRange,dt=a.showDoubleView,ut=a.showFixedNumberOfWeeks,ua=a.showNavigation,Fa=ua===void 0?!0:ua,ma=a.showNeighboringCentury,xa=a.showNeighboringDecade,Ie=a.showNeighboringMonth,Pt=Ie===void 0?!0:Ie,ha=a.showWeekNumbers,Ye=a.tileClassName,Tt=a.tileContent,Kt=a.tileDisabled,gt=a.value,Ot=a.view,fa=f.useState(d),Yt=fa[0],Bt=fa[1],Ea=f.useState(null),pa=Ea[0],mt=Ea[1],At=f.useState(Array.isArray(o)?o.map(function(F){return F!==null?es(F):null}):o!=null?es(o):null),ga=At[0],Ga=At[1],Gt=f.useState(u),Qa=Gt[0],va=Gt[1],ke=s||Yt||jm({activeStartDate:s,defaultActiveStartDate:d,defaultValue:o,defaultView:u,maxDate:T,maxDetail:k,minDate:E,minDetail:R,value:gt,view:Ot}),De=function(){var F=function(){return be&&cr(ga)?ga:gt!==void 0?gt:ga}();return F?Array.isArray(F)?F.map(function(U){return U!==null?es(U):null}):F!==null?es(F):null:null}(),Qt=yi(k),me=yn(Ot||Qa,R,k),Xe=ji(R,k),at=be?pa:null,K=Xe.indexOf(me)<Xe.length-1,J=Xe.indexOf(me)>0,Le=f.useCallback(function(F){var U=function(){switch(je){case"start":return bn;case"end":return Ni;case"range":return vm;default:throw new Error("Invalid returnValue.")}}();return U({maxDate:T,maxDetail:k,minDate:E,value:F})},[T,k,E,je]),Ue=f.useCallback(function(F,U){Bt(F);var H={action:U,activeStartDate:F,value:De,view:me};Q&&!_s(ke,F)&&Q(H)},[ke,Q,De,me]),Ne=f.useCallback(function(F,U){var H=function(){switch(me){case"century":return fe;case"decade":return Re;case"year":return X;case"month":return he;default:throw new Error("Invalid view: ".concat(me,"."))}}();H&&H(F,U)},[he,fe,X,Re,me]),st=f.useCallback(function(F,U){if(K){Ne(F,U);var H=Xe[Xe.indexOf(me)+1];if(!H)throw new Error("Attempted to drill down from the lowest view.");Bt(F),va(H);var Se={action:"drillDown",activeStartDate:F,value:De,view:H};Q&&!_s(ke,F)&&Q(Se),Pe&&me!==H&&Pe(Se),ze&&ze(Se)}},[ke,K,Q,Ne,ze,Pe,De,me,Xe]),it=f.useCallback(function(){if(J){var F=Xe[Xe.indexOf(me)-1];if(!F)throw new Error("Attempted to drill up from the highest view.");var U=_a(F,ke);Bt(U),va(F);var H={action:"drillUp",activeStartDate:U,value:De,view:F};Q&&!_s(ke,U)&&Q(H),Pe&&me!==F&&Pe(H),Ee&&Ee(H)}},[ke,J,Q,Ee,Pe,De,me,Xe]),rt=f.useCallback(function(F,U){var H=De;Ne(F,U);var Se=be&&!cr(H),Ce;if(be)if(Se)Ce=_a(Qt,F);else{if(!H)throw new Error("previousValue is required");if(Array.isArray(H))throw new Error("previousValue must not be an array");Ce=Cu(Qt,H,F)}else Ce=Le(F);var Je=!be||Se||p?wi({maxDate:T,maxDetail:k,minDate:E,minDetail:R,value:Ce,view:me}):null;U.persist(),Bt(Je),Ga(Ce);var Ft={action:"onChange",activeStartDate:Je,value:Ce,view:me};if(Q&&!_s(ke,Je)&&Q(Ft),xe)if(be){var nt=cr(Ce);if(!nt)xe(Ce||null,U);else if(n){if(Array.isArray(Ce))throw new Error("value must not be an array");xe([Ce||null,null],U)}}else xe(Ce||null,U)},[ke,n,Le,p,T,k,E,R,Q,xe,Ne,be,De,Qt,me]);function Za(F){mt(F)}function Zt(){mt(null)}f.useImperativeHandle(r,function(){return{activeStartDate:ke,drillDown:st,drillUp:it,onChange:rt,setActiveStartDate:Ue,value:De,view:me}},[ke,st,it,rt,Ue,De,me]);function ja(F){var U=F?ii(me,ke):_a(me,ke),H=K?st:rt,Se={activeStartDate:U,hover:at,locale:O,maxDate:T,minDate:E,onClick:H,onMouseOver:be?Za:void 0,tileClassName:Ye,tileContent:Tt,tileDisabled:Kt,value:De,valueType:Qt};switch(me){case"century":return _.createElement(Gu,Ra({formatYear:y,showNeighboringCentury:ma},Se));case"decade":return _.createElement(Ju,Ra({formatYear:y,showNeighboringDecade:xa},Se));case"year":return _.createElement(rm,Ra({formatMonth:x,formatMonthYear:h},Se));case"month":return _.createElement(xm,Ra({calendarType:l,formatDay:c,formatLongDate:m,formatShortWeekday:g,formatWeekday:b,onClickWeekNumber:Oe,onMouseLeave:be?Zt:void 0,showFixedNumberOfWeeks:typeof ut<"u"?ut:dt,showNeighboringMonth:Pt,showWeekNumbers:ha},Se));default:throw new Error("Invalid view: ".concat(me,"."))}}function Ia(){return Fa?_.createElement(Pu,{activeStartDate:ke,drillUp:it,formatMonthYear:h,formatYear:y,locale:O,maxDate:T,minDate:E,navigationAriaLabel:q,navigationAriaLive:Y,navigationLabel:V,next2AriaLabel:N,next2Label:B,nextAriaLabel:ue,nextLabel:M,prev2AriaLabel:Ke,prev2Label:_e,prevAriaLabel:ye,prevLabel:$,setActiveStartDate:Ue,showDoubleView:dt,view:me,views:Xe}):null}var D=Array.isArray(De)?De:[De];return _.createElement("div",{className:ot(ws,be&&D.length===1&&"".concat(ws,"--selectRange"),dt&&"".concat(ws,"--doubleView"),i),ref:S},Ia(),_.createElement("div",{className:"".concat(ws,"__viewContainer"),onBlur:be?Zt:void 0,onMouseLeave:be?Zt:void 0},ja(),dt?ja(!0):null))}),Yn=j.instanceOf(Date),Bn=j.oneOfType([j.string,j.instanceOf(Date)]),Gn=j.oneOfType([Bn,Bu(Bn)]);_i.propTypes={activeStartDate:Yn,allowPartialRange:j.bool,calendarType:xi,className:As,defaultActiveStartDate:Yn,defaultValue:Gn,defaultView:Fs,formatDay:j.func,formatLongDate:j.func,formatMonth:j.func,formatMonthYear:j.func,formatShortWeekday:j.func,formatWeekday:j.func,formatYear:j.func,goToRangeStartOnSelect:j.bool,inputRef:$u,locale:j.string,maxDate:vn,maxDetail:j.oneOf(za),minDate:gn,minDetail:j.oneOf(za),navigationAriaLabel:j.string,navigationAriaLive:j.oneOf(["off","polite","assertive"]),navigationLabel:j.func,next2AriaLabel:j.string,next2Label:j.node,nextAriaLabel:j.string,nextLabel:j.node,onActiveStartDateChange:j.func,onChange:j.func,onClickDay:j.func,onClickDecade:j.func,onClickMonth:j.func,onClickWeekNumber:j.func,onClickYear:j.func,onDrillDown:j.func,onDrillUp:j.func,onViewChange:j.func,prev2AriaLabel:j.string,prev2Label:j.node,prevAriaLabel:j.string,prevLabel:j.node,returnValue:j.oneOf(["start","end","range"]),selectRange:j.bool,showDoubleView:j.bool,showFixedNumberOfWeeks:j.bool,showNavigation:j.bool,showNeighboringCentury:j.bool,showNeighboringDecade:j.bool,showNeighboringMonth:j.bool,showWeekNumbers:j.bool,tileClassName:j.oneOfType([j.func,As]),tileContent:j.oneOfType([j.func,j.node]),tileDisabled:j.func,value:Gn,view:Fs};const ym=_i;function or(t){var a=t.angle,r=a===void 0?0:a,s=t.name,n=t.length,l=n===void 0?100:n,i=t.oppositeLength,d=i===void 0?10:i,o=t.width,u=o===void 0?1:o;return _.createElement("div",{className:"react-clock__hand react-clock__".concat(s,"-hand"),style:{transform:"rotate(".concat(r,"deg)")}},_.createElement("div",{className:"react-clock__hand__body react-clock__".concat(s,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-l/2,"%"),bottom:"".concat(50-d/2,"%")}}))}function Si(t){var a=t.angle,r=a===void 0?0:a,s=t.length,n=s===void 0?10:s,l=t.name,i=t.width,d=i===void 0?1:i,o=t.number;return _.createElement("div",{className:"react-clock__mark react-clock__".concat(l,"-mark"),style:{transform:"rotate(".concat(r,"deg)")}},_.createElement("div",{className:"react-clock__mark__body react-clock__".concat(l,"-mark__body"),style:{width:"".concat(d,"px"),top:0,bottom:"".concat(100-n/2,"%")}}),o?_.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(r,"deg)"),top:"".concat(n/2,"%")}},o):null)}var Fr=globalThis&&globalThis.__assign||function(){return Fr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Fr.apply(this,arguments)},bm=f.memo(function(a){return _.createElement(Si,Fr({},a))});const Nm=bm;function wm(t,a){return a.toLocaleString(t||Ka()||void 0)}var Er=globalThis&&globalThis.__assign||function(){return Er=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Er.apply(this,arguments)},_m=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Sm=f.memo(function(a){var r=a.formatHour,s=r===void 0?wm:r,n=a.locale,l=a.number,i=_m(a,["formatHour","locale","number"]);return _.createElement(Si,Er({number:l?s(n,l):null},i))});const Cm=Sm;function Ci(t,a){return function(r,s,n){var l=r,i=s,d=l[i];if(typeof d<"u"){if(typeof d!="number")return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof d,"` supplied to `").concat(n,"`, expected `number`."));if(d<t||d>a)return new Error("Invalid prop `".concat(s,"` of type `").concat(typeof d,"` supplied to `").concat(n,"`, length must be between ").concat(t," and ").concat(a,"."))}return null}}var Ps=Ci(0,100),dr=Ci(-100,100),Ts=function(a,r,s){var n=a,l=r,i=n[l];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, width must be greater or equal to 0."))}return null},Qn=Ps,Zn=Ts,ki=function(a){var r=a.className,s=a.formatHour,n=a.hourHandLength,l=n===void 0?50:n,i=a.hourHandOppositeLength,d=a.hourHandWidth,o=d===void 0?4:d,u=a.hourMarksLength,c=u===void 0?10:u,m=a.hourMarksWidth,x=m===void 0?3:m,h=a.locale,g=a.minuteHandLength,b=g===void 0?70:g,y=a.minuteHandOppositeLength,v=a.minuteHandWidth,p=v===void 0?2:v,S=a.minuteMarksLength,O=S===void 0?6:S,w=a.minuteMarksWidth,T=w===void 0?1:w,I=a.renderHourMarks,k=I===void 0?!0:I,C=a.renderMinuteHand,E=C===void 0?!0:C,L=a.renderMinuteMarks,R=L===void 0?!0:L,q=a.renderNumbers,Y=a.renderSecondHand,V=Y===void 0?!0:Y,N=a.secondHandLength,B=N===void 0?90:N,ue=a.secondHandOppositeLength,M=a.secondHandWidth,Q=M===void 0?1:M,xe=a.size,he=xe===void 0?150:xe,fe=a.useMillisecondPrecision,X=a.value;function Oe(){if(!R)return null;for(var _e=[],ye=1;ye<=60;ye+=1){var $=k&&!(ye%5);$||_e.push(_.createElement(Nm,{key:"minute_".concat(ye),angle:ye*6,length:O,name:"minute",width:T}))}return _e}function Re(){if(!k)return null;for(var _e=[],ye=1;ye<=12;ye+=1)_e.push(_.createElement(Cm,{key:"hour_".concat(ye),angle:ye*30,formatHour:s,length:c,locale:h,name:"hour",number:q?ye:void 0,width:x}));return _e}function ze(){return _.createElement("div",{className:"react-clock__face"},Oe(),Re())}function Ee(){var _e=X?Ge(X)*30+Wt(X)/2+wa(X)/120+(fe?sr(X)/12e4:0):0;return _.createElement(or,{angle:_e,length:l,name:"hour",oppositeLength:i,width:o})}function Pe(){if(!E)return null;var _e=X?Ge(X)*360+Wt(X)*6+wa(X)/10+(fe?sr(X)/1e4:0):0;return _.createElement(or,{angle:_e,length:b,name:"minute",oppositeLength:y,width:p})}function Ke(){if(!V)return null;var _e=X?Wt(X)*360+wa(X)*6+(fe?sr(X)*.006:0):0;return _.createElement(or,{angle:_e,length:B,name:"second",oppositeLength:ue,width:Q})}return _.createElement("time",{className:ot("react-clock",r),dateTime:X instanceof Date?X.toISOString():X||void 0,style:{width:he,height:he}},ze(),Ee(),Pe(),Ke())};ki.propTypes={className:j.oneOfType([j.string,j.arrayOf(j.string)]),formatHour:j.func,hourHandLength:Ps,hourHandOppositeLength:dr,hourHandWidth:Ts,hourMarksLength:Qn,hourMarksWidth:Zn,locale:j.string,minuteHandLength:Ps,minuteHandOppositeLength:dr,minuteHandWidth:Ts,minuteMarksLength:Qn,minuteMarksWidth:Zn,renderHourMarks:j.bool,renderMinuteHand:j.bool,renderMinuteMarks:j.bool,renderNumbers:j.bool,renderSecondHand:j.bool,secondHandLength:Ps,secondHandOppositeLength:dr,secondHandWidth:Ts,size:j.oneOfType([j.number,j.string]),value:j.oneOfType([j.string,j.instanceOf(Date)])};const km=ki;function Ve(t){return t.getBoundingClientRect()}function Xn(t,a){return{get collidedTop(){return Ve(t).top<Ve(a).top},get collidedBottom(){return Ve(t).bottom>Ve(a).bottom},get collidedLeft(){return Ve(t).left<Ve(a).left},get collidedRight(){return Ve(t).right>Ve(a).right},get overflowTop(){return Ve(a).top-Ve(t).top},get overflowBottom(){return Ve(t).bottom-Ve(a).bottom},get overflowLeft(){return Ve(a).left-Ve(t).left},get overflowRight(){return Ve(t).right-Ve(a).right}}}var Dm=!0;function Jn(t,a){if(!Dm){if(t)return;var r="Warning: "+a;typeof console<"u"&&console.warn(r);try{throw Error(r)}catch{}}}var Pm=globalThis&&globalThis.__extends||function(){var t=function(a,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,n){s.__proto__=n}||function(s,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=n[l])},t(a,r)};return function(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(a,r);function s(){this.constructor=a}a.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}}(),ea=globalThis&&globalThis.__assign||function(){return ea=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ea.apply(this,arguments)},Tm=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Di=typeof document<"u",el=Di&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),Om=Di&&"MutationObserver"in window;function Ss(t){return t.charAt(0).toUpperCase()+t.slice(1)}function tl(t){for(var a=t.parentElement;a;){var r=window.getComputedStyle(a).overflow;if(r.split(" ").every(function(s){return s==="auto"||s==="scroll"}))return a;a=a.parentElement}return document.documentElement}function Pi(t){var a=t.axis,r=t.container,s=t.element,n=t.invertAxis,l=t.scrollContainer,i=t.secondary,d=t.spacing,o=window.getComputedStyle(s),u=r.parentElement;if(!u)return;var c=Xn(u,l),m=Xn(u,document.documentElement),x=a==="x",h=x?"left":"top",g=x?"right":"bottom",b=x?"width":"height",y="overflow".concat(Ss(h)),v="overflow".concat(Ss(g)),p="scroll".concat(Ss(h)),S=Ss(b),O="offset".concat(S),w="client".concat(S),T="min-".concat(b),I=l[O]-l[w],k=typeof d=="object"?d[h]:d,C=-Math.max(c[y],m[y]+document.documentElement[p])-k,E=typeof d=="object"?d[g]:d,L=-Math.max(c[v],m[v]-document.documentElement[p])-E-I;i&&(C+=u[w],L+=u[w]);var R=s[O];function q(){s.style[h]="auto",s.style[g]=i?"0":"100%"}function Y(){s.style[h]=i?"0":"100%",s.style[g]="auto"}function V(Q,xe){var he=R<=Q;return he&&xe(),he}function N(){return V(C,q)}function B(){return V(L,Y)}function ue(){var Q=C>L,xe=o.getPropertyValue(T),he=xe?parseInt(xe,10):null;function fe(X){Jn(!he||X>=he,"<Fit />'s child will not fit anywhere with its current ".concat(T," of ").concat(he,"px."));var Oe=Math.max(X,he||0);Jn(!1,"<Fit />'s child needed to have its ".concat(b," decreased to ").concat(Oe,"px.")),s.style[b]="".concat(Oe,"px")}Q?(fe(C),q()):(fe(L),Y())}var M;n?M=N()||B():M=B()||N(),M||ue()}function Am(t){Pi(t)}function Fm(t){Pi(ea(ea({},t),{axis:t.axis==="x"?"y":"x",secondary:!0}))}function Em(t){var a=t.invertAxis,r=t.invertSecondaryAxis,s=Tm(t,["invertAxis","invertSecondaryAxis"]);Am(ea(ea({},s),{invertAxis:a})),Fm(ea(ea({},s),{invertAxis:r}))}var Im=function(t){Pm(a,t);function a(){var r=t!==null&&t.apply(this,arguments)||this;return r.fit=function(){var s=r,n=s.scrollContainer,l=s.container,i=s.element;if(!(!n||!l||!i)){var d=i.clientWidth,o=i.clientHeight;if(!(r.elementWidth===d&&r.elementHeight===o)){r.elementWidth=d,r.elementHeight=o;var u=l.parentElement;if(u){var c=window.getComputedStyle(i),m=c.position;m!=="absolute"&&(i.style.position="absolute");var x=window.getComputedStyle(u),h=x.position;h!=="relative"&&h!=="absolute"&&(u.style.position="relative");var g=r.props,b=g.invertAxis,y=g.invertSecondaryAxis,v=g.mainAxis,p=v===void 0?"y":v,S=g.spacing,O=S===void 0?8:S;Em({axis:p,container:l,element:i,invertAxis:b,invertSecondaryAxis:y,scrollContainer:n,spacing:O})}}}},r}return a.prototype.componentDidMount=function(){var r=this;if(!el){var s=jr.findDOMNode(this);if(!s||!(s instanceof HTMLElement))return;this.container=s,this.element=s,this.scrollContainer=tl(s)}this.fit();var n=function(){r.fit()};if(Om&&this.element){var l=new MutationObserver(n);l.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},a.prototype.render=function(){var r=this,s=this.props.children,n=_.Children.only(s);return el?_.createElement("span",{ref:function(l){r.container=l;var i=l&&l.firstElementChild;!i||!(i instanceof HTMLElement)||(r.element=i,r.scrollContainer=tl(i))},style:{display:"contents"}},n):n},a.propTypes={children:j.node.isRequired,invertAxis:j.bool,invertSecondaryAxis:j.bool,mainAxis:j.oneOf(["x","y"]),spacing:j.oneOfType([j.number,j.shape({bottom:j.number.isRequired,left:j.number.isRequired,right:j.number.isRequired,top:j.number.isRequired})])},a}(f.Component);const al=Im;function Lm(t){var a=t.children;return _.createElement("span",{className:"react-datetime-picker__inputGroup__divider"},a)}var Mm=["normal","small-caps"];function Nn(t){if(!t)return"";var a=window.getComputedStyle(t);if(a.font)return a.font;var r=a.fontFamily!=="";if(!r)return"";var s=Mm.includes(a.fontVariant)?a.fontVariant:"normal";return"".concat(a.fontStyle," ").concat(s," ").concat(a.fontWeight," ").concat(a.fontSize," / ").concat(a.lineHeight," ").concat(a.fontFamily)}var sl;function Wm(t,a){var r=sl||(sl=document.createElement("canvas")),s=r.getContext("2d");if(!s)return null;s.font=a;var n=s.measureText(t).width;return Math.ceil(n)}function ca(t){if(typeof document>"u"||!t)return null;var a=Nn(t),r=t.value||t.placeholder,s=Wm(r,a);return s===null?null:(t.style.width="".concat(s,"px"),s)}var wn=typeof document<"u",Rm=wn?f.useLayoutEffect:f.useEffect,zm=wn&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Um=wn&&/Firefox/.test(navigator.userAgent);function Hm(t){var a=t.target;zm?requestAnimationFrame(function(){return a.select()}):a.select()}function Vm(t){if(document.readyState==="complete")return;function a(){ca(t)}window.addEventListener("load",a)}function qm(t){if(!document.fonts)return;var a=Nn(t);if(!a)return;var r=document.fonts.check(a);if(r)return;function s(){ca(t)}document.fonts.addEventListener("loadingdone",s)}function $m(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function Km(t){if(t!==null)return function(r){if(!Um){var s=r.key,n=r.target,l=n.value,i=s.length===1&&/\d/.test(s),d=$m(n);(!i||!(d||l.length<t))&&r.preventDefault()}}}function _n(t){var a=t.ariaLabel,r=t.autoFocus,s=t.className,n=t.disabled,l=t.inputRef,i=t.max,d=t.min,o=t.name,u=t.nameForClass,c=t.onChange,m=t.onKeyDown,x=t.onKeyUp,h=t.placeholder,g=h===void 0?"--":h,b=t.required,y=t.showLeadingZeros,v=t.step,p=t.value;Rm(function(){!l||!l.current||(ca(l.current),Vm(l.current),qm(l.current))},[l,p]);var S=y&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),O=i?i.toString().length:null;return _.createElement(_.Fragment,null,S?_.createElement("span",{className:"".concat(s,"__leadingZero")},"0"):null,_.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:r,className:ot("".concat(s,"__input"),"".concat(s,"__").concat(u||o),S&&"".concat(s,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:d,name:o,onChange:c,onFocus:Hm,onKeyDown:m,onKeyPress:Km(O),onKeyUp:function(w){ca(w.target),x&&x(w)},placeholder:g,ref:l,required:b,step:v,type:"number",value:p!==null?p:""}))}function Ti(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Qs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Ti))}function Zs(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Ti))}var Ir=globalThis&&globalThis.__assign||function(){return Ir=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ir.apply(this,arguments)},Ym=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Bm(t){var a=t.maxDate,r=t.minDate,s=t.month,n=t.year,l=Ym(t,["maxDate","minDate","month","year"]),i=function(){return s?hn(new Date(Number(n),Number(s)-1,1)):31}();function d(c){return n===re(c).toString()&&s===Mt(c).toString()}var o=Qs(i,a&&d(a)&&Ht(a)),u=Zs(1,r&&d(r)&&Ht(r));return _.createElement(_n,Ir({max:o,min:u,name:"day"},l))}var Lr=globalThis&&globalThis.__assign||function(){return Lr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Lr.apply(this,arguments)},Gm=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Qm(t){var a=t.maxDate,r=t.minDate,s=t.year,n=Gm(t,["maxDate","minDate","year"]);function l(o){return o&&s===re(o).toString()}var i=Qs(12,a&&l(a)&&Mt(a)),d=Zs(1,r&&l(r)&&Mt(r));return _.createElement(_n,Lr({max:i,min:d,name:"month"},n))}var ur=new Map;function Zm(t){return function(r,s){var n=r||Ka();ur.has(n)||ur.set(n,new Map);var l=ur.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(s)}}function Xm(t){var a=new Date(t);return new Date(a.setHours(12))}function Oi(t){return function(a,r){return Zm(t)(a,Xm(r))}}var Jm={month:"long"},ex={month:"short"},tx=Oi(Jm),ax=Oi(ex),sx=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))};function rx(t){var a=t.ariaLabel,r=t.autoFocus,s=t.className,n=t.disabled,l=t.inputRef,i=t.locale,d=t.maxDate,o=t.minDate,u=t.onChange,c=t.onKeyDown,m=t.placeholder,x=m===void 0?"--":m,h=t.required,g=t.short,b=t.value,y=t.year;function v(I){return I&&y===re(I).toString()}var p=Qs(12,d&&v(d)&&Mt(d)),S=Zs(1,o&&v(o)&&Mt(o)),O=sx([],Array(12),!0).map(function(I,k){return new Date(2019,k,1)}),w="month",T=g?ax:tx;return _.createElement("select",{"aria-label":a,autoFocus:r,className:ot("".concat(s,"__input"),"".concat(s,"__").concat(w)),"data-input":"true","data-select":"true",disabled:n,name:w,onChange:u,onKeyDown:c,ref:l,required:h,value:b!==null?b:""},!b&&_.createElement("option",{value:""},x),O.map(function(I){var k=Mt(I),C=k<S||k>p;return _.createElement("option",{key:k,disabled:C,value:k},T(i,I))}))}var Mr=globalThis&&globalThis.__assign||function(){return Mr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Mr.apply(this,arguments)},nx=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function lx(t){var a=t.maxDate,r=t.minDate,s=t.placeholder,n=s===void 0?"----":s,l=t.valueType,i=nx(t,["maxDate","minDate","placeholder","valueType"]),d=Qs(275760,a&&re(a)),o=Zs(1,r&&re(r)),u=function(){return l==="century"?10:1}();return _.createElement(_n,Mr({max:d,min:o,name:"year",placeholder:n,step:u},i))}var Sn=typeof document<"u",ix=Sn?f.useLayoutEffect:f.useEffect,cx=Sn&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),ox=Sn&&/Firefox/.test(navigator.userAgent);function dx(t){var a=t.target;cx?requestAnimationFrame(function(){return a.select()}):a.select()}function ux(t){if(document.readyState==="complete")return;function a(){ca(t)}window.addEventListener("load",a)}function mx(t){if(!document.fonts)return;var a=Nn(t);if(!a)return;var r=document.fonts.check(a);if(r)return;function s(){ca(t)}document.fonts.addEventListener("loadingdone",s)}function xx(t){if(t&&"selectionStart"in t&&t.selectionStart!==null&&"selectionEnd"in t&&t.selectionEnd!==null)return t.value.slice(t.selectionStart,t.selectionEnd);if("getSelection"in window){var a=window.getSelection();return a&&a.toString()}return null}function hx(t){if(t!==null)return function(r){if(!ox){var s=r.key,n=r.target,l=n.value,i=s.length===1&&/\d/.test(s),d=xx(n);(!i||!(d||l.length<t))&&r.preventDefault()}}}function Xs(t){var a=t.ariaLabel,r=t.autoFocus,s=t.className,n=t.disabled,l=t.inputRef,i=t.max,d=t.min,o=t.name,u=t.nameForClass,c=t.onChange,m=t.onKeyDown,x=t.onKeyUp,h=t.placeholder,g=h===void 0?"--":h,b=t.required,y=t.showLeadingZeros,v=t.step,p=t.value;ix(function(){!l||!l.current||(ca(l.current),ux(l.current),mx(l.current))},[l,p]);var S=y&&p&&Number(p)<10&&(p==="0"||!p.toString().startsWith("0")),O=i?i.toString().length:null;return _.createElement(_.Fragment,null,S?_.createElement("span",{className:"".concat(s,"__leadingZero")},"0"):null,_.createElement("input",{"aria-label":a,autoComplete:"off",autoFocus:r,className:ot("".concat(s,"__input"),"".concat(s,"__").concat(u||o),S&&"".concat(s,"__input--hasLeadingZero")),"data-input":"true",disabled:n,inputMode:"numeric",max:i,min:d,name:o,onChange:c,onFocus:dx,onKeyDown:m,onKeyPress:hx(O),onKeyUp:function(w){ca(w.target),x&&x(w)},placeholder:g,ref:l,required:b,step:v,type:"number",value:p!==null?p:""}))}function ts(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}var mr=new Map;function fx(t){return function(r,s){var n=r||Ka();mr.has(n)||mr.set(n,new Map);var l=mr.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(s)}}var px=["9",""],rl=new RegExp("[".concat(px.join(""),"]")),nl=fx({hour:"numeric"});function gx(t){var a=nl(t,new Date(2017,0,1,9)),r=nl(t,new Date(2017,0,1,21)),s=a.split(rl),n=s[0],l=s[1],i=r.split(rl),d=i[0],o=i[1];if(o!==void 0){if(n!==d)return[n,d].map(function(u){return u.trim()});if(l!==o)return[l,o].map(function(u){return u.trim()})}return["AM","PM"]}function Ai(t){return t!==null&&t!==!1&&!Number.isNaN(Number(t))}function Js(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.min.apply(Math,t.filter(Ai))}function er(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return Math.max.apply(Math,t.filter(Ai))}var Wr=globalThis&&globalThis.__assign||function(){return Wr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Wr.apply(this,arguments)},vx=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function jx(t){var a=t.amPm,r=t.maxTime,s=t.minTime,n=t.value,l=vx(t,["amPm","maxTime","minTime","value"]),i=Js(12,r&&function(){var u=ts(Ge(r)),c=u[0],m=u[1];return m!==a?null:c}()),d=er(1,s&&function(){var u=ts(Ge(s)),c=u[0],m=u[1];return m!==a||c===12?null:c}()),o=n?ts(n)[0].toString():"";return _.createElement(Xs,Wr({max:i,min:d,name:"hour12",nameForClass:"hour",value:o},l))}var Rr=globalThis&&globalThis.__assign||function(){return Rr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Rr.apply(this,arguments)},yx=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function bx(t){var a=t.maxTime,r=t.minTime,s=yx(t,["maxTime","minTime"]),n=Js(23,a&&Ge(a)),l=er(0,r&&Ge(r));return _.createElement(Xs,Rr({max:n,min:l,name:"hour24",nameForClass:"hour"},s))}var zr=globalThis&&globalThis.__assign||function(){return zr=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},zr.apply(this,arguments)},Nx=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function wx(t){var a=t.hour,r=t.maxTime,s=t.minTime,n=t.showLeadingZeros,l=n===void 0?!0:n,i=Nx(t,["hour","maxTime","minTime","showLeadingZeros"]);function d(c){return a===Ge(c).toString()}var o=Js(59,r&&d(r)&&Wt(r)),u=er(0,s&&d(s)&&Wt(s));return _.createElement(Xs,zr({max:o,min:u,name:"minute",showLeadingZeros:l},i))}var Ur=globalThis&&globalThis.__assign||function(){return Ur=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},Ur.apply(this,arguments)},_x=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r};function Sx(t){var a=t.hour,r=t.maxTime,s=t.minTime,n=t.minute,l=t.showLeadingZeros,i=l===void 0?!0:l,d=_x(t,["hour","maxTime","minTime","minute","showLeadingZeros"]);function o(m){return a===Ge(m).toString()&&n===Wt(m).toString()}var u=Js(59,r&&o(r)&&wa(r)),c=er(0,s&&o(s)&&wa(s));return _.createElement(Xs,Ur({max:u,min:c,name:"second",showLeadingZeros:i},d))}function Cx(t){var a=t.ariaLabel,r=t.autoFocus,s=t.className,n=t.disabled,l=t.inputRef,i=t.locale,d=t.maxTime,o=t.minTime,u=t.onChange,c=t.onKeyDown,m=t.required,x=t.value,h=o?ts(Ge(o))[1]==="pm":!1,g=d?ts(Ge(d))[1]==="am":!1,b="amPm",y=gx(i),v=y[0],p=y[1];return _.createElement("select",{"aria-label":a,autoFocus:r,className:ot("".concat(s,"__input"),"".concat(s,"__").concat(b)),"data-input":"true","data-select":"true",disabled:n,name:b,onChange:u,onKeyDown:c,ref:l,required:m,value:x!==null?x:""},!x&&_.createElement("option",{value:""},"--"),_.createElement("option",{disabled:h,value:"am"},v),_.createElement("option",{disabled:g,value:"pm"},p))}function kx(t){var a=t.ariaLabel,r=t.disabled,s=t.maxDate,n=t.minDate,l=t.name,i=t.onChange,d=t.required,o=t.value,u=t.valueType,c=function(){switch(u){case"hour":return function(h){return"".concat(Nr(h),"T").concat(Ge(h),":00")};case"minute":return function(h){return"".concat(Nr(h),"T").concat(Jd(h))};case"second":return eu;default:throw new Error("Invalid valueType")}}(),m=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function x(h){h.stopPropagation()}return _.createElement("input",{"aria-label":a,disabled:r,hidden:!0,max:s?c(s):void 0,min:n?c(n):void 0,name:l,onChange:i,onFocus:x,required:d,step:m,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"datetime-local",value:o?c(o):""})}var xr=new Map;function Ls(t){return function(r,s){var n=r||Ka();xr.has(n)||xr.set(n,new Map);var l=xr.get(n);return l.has(t)||l.set(t,new Intl.DateTimeFormat(n||void 0,t).format),l.get(t)(s)}}var hr=new Map;function Dx(t){return function(a,r){var s=a||Ka();hr.has(s)||hr.set(s,new Map);var n=hr.get(s);return n.has(t)||n.set(t,new Intl.NumberFormat(s||void 0,t).format),n.get(t)(r)}}var Px={day:"numeric",month:"numeric",year:"numeric"},Tx=Ls(Px);function ll(t,a){var r=Number(t);return a==="am"&&r===12?r=0:a==="pm"&&r<12&&(r+=12),r}function Ox(t){var a=Number(t)%12||12;return[a,Number(t)<12?"am":"pm"]}function Ax(t,a,r){return a&&a>t?a:r&&r<t?r:t}var Fx=["9",""],il=new RegExp("[".concat(Fx.join(""),"]")),cl=Ls({hour:"numeric"});function Ex(t){var a=cl(t,new Date(2017,0,1,9)),r=cl(t,new Date(2017,0,1,21)),s=a.split(il),n=s[0],l=s[1],i=r.split(il),d=i[0],o=i[1];if(o!==void 0){if(n!==d)return[n,d].map(function(u){return u.trim()});if(l!==o)return[l,o].map(function(u){return u.trim()})}return["AM","PM"]}var xt=globalThis&&globalThis.__assign||function(){return xt=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},xt.apply(this,arguments)},ol=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Cs={},as=new Date;as.setFullYear(1,0,1);as.setHours(0,0,0,0);var fr=new Date(864e13),Ix=["hour","minute","second"];function Fi(t){return t instanceof Date?t:new Date(t)}function dl(t,a,r,s){return a===re(t).toString()&&r===Mt(t).toString()&&s===Ht(t).toString()}function Lx(t,a){var r=Array.isArray(t)?t[a]:t;if(!r)return null;var s=Fi(r);if(isNaN(s.getTime()))throw new Error("Invalid date: ".concat(t));return s}function Mx(t,a){var r=t.value,s=t.minDate,n=t.maxDate,l=Lx(r,a);return l?Ax(l,s,n):null}var Wx=function(t){return Mx(t,0)};function Rx(t){return t.dataset.input==="true"}function ul(t,a){var r=t;do r=r[a];while(r&&!Rx(r));return r}function pr(t){t&&t.focus()}function zx(t,a,r){var s=[],n=new RegExp(Object.keys(a).map(function(i){return"".concat(i,"+")}).join("|"),"g"),l=t.match(n);return t.split(n).reduce(function(i,d,o){var u=d&&_.createElement(Lm,{key:"separator_".concat(o)},d),c=ol(ol([],i,!0),[u],!1),m=l&&l[o];if(m){var x=a[m]||a[Object.keys(a).find(function(h){return m.match(h)})];if(!x)return c;!r&&s.includes(x)?c.push(m):(c.push(x(m,o)),s.push(x))}return c},[])}var ks=Dx({useGrouping:!1});function Ux(t){var a=t.amPmAriaLabel,r=t.autoFocus,s=t.className,n=t.dayAriaLabel,l=t.dayPlaceholder,i=t.disabled,d=t.format,o=t.hourAriaLabel,u=t.hourPlaceholder,c=t.isWidgetOpen,m=t.locale,x=t.maxDate,h=t.maxDetail,g=h===void 0?"minute":h,b=t.minDate,y=t.minuteAriaLabel,v=t.minutePlaceholder,p=t.monthAriaLabel,S=t.monthPlaceholder,O=t.name,w=O===void 0?"datetime":O,T=t.nativeInputAriaLabel,I=t.onChange,k=t.onInvalidChange,C=t.required,E=t.secondAriaLabel,L=t.secondPlaceholder,R=t.showLeadingZeros,q=t.value,Y=t.yearAriaLabel,V=t.yearPlaceholder,N=f.useState(null),B=N[0],ue=N[1],M=f.useState(null),Q=M[0],xe=M[1],he=f.useState(null),fe=he[0],X=he[1],Oe=f.useState(null),Re=Oe[0],ze=Oe[1],Ee=f.useState(null),Pe=Ee[0],Ke=Ee[1],_e=f.useState(null),ye=_e[0],$=_e[1],G=f.useState(null),je=G[0],be=G[1],dt=f.useState(null),ut=dt[0],ua=dt[1],Fa=f.useRef(null),ma=f.useRef(null),xa=f.useRef(null),Ie=f.useRef(null),Pt=f.useRef(null),ha=f.useRef(null),Ye=f.useRef(null),Tt=f.useRef(null),Kt=f.useRef(null),gt=f.useState(c),Ot=gt[0],fa=gt[1],Yt=f.useRef();f.useEffect(function(){fa(c)},[c]),f.useEffect(function(){var D=Wx({value:q,minDate:b,maxDate:x});D?(ue(Ox(Ge(D))[1]),xe(re(D).toString()),X(Mt(D).toString()),ze(Ht(D).toString()),Ke(Ge(D).toString()),$(Wt(D).toString()),be(wa(D).toString()),ua(Fi(D))):(ue(null),xe(null),X(null),ze(null),Ke(null),$(null),be(null),ua(null))},[q,b,x,Ot]);var Bt=g,Ea=function(){var D=Ix.indexOf(g),F=Cs[D]||function(){var U={hour:"numeric"};return D>=1&&(U.minute="numeric"),D>=2&&(U.second="numeric"),Cs[D]=U,U}();return Ls(F)}(),pa=function(){var D=2017,F=11,U=11,H=new Date(D,F,U),Se=Tx(m,H),Ce=["year","month","day"],Je=["y","M","d"];function Ft(Et,ya){var Xt=Cs[Et]||function(){var It,ct=(It={},It[Et]="numeric",It);return Cs[Et]=ct,ct}();return Ls(Xt)(m,ya).match(/\d{1,}/)}var nt=Se;return Ce.forEach(function(Et,ya){var Xt=Ft(Et,H);if(Xt){var It=Xt[0],ct=Je[ya];nt=nt.replace(It,ct)}}),nt=nt.replace("17","y"),nt}(),mt=function(){var D=21,F=9,U=13,H=14,Se=new Date(2017,0,1,D,U,H);return Ea(m,Se).replace(ks(m,F),"h").replace(ks(m,D),"H").replace(ks(m,U),"mm").replace(ks(m,H),"ss").replace(new RegExp(Ex(m).join("|")),"a")}(),At=d||"".concat(pa,"").concat(mt),ga=function(){var D=pa.match(/[^0-9a-z]/i);return D?D[0]:null}(),Ga=function(){var D=mt.match(/[^0-9a-z]/i);return D?D[0]:null}(),Gt=function(){if(x&&dl(x,Q,fe,Re))return br(x||fr)}(),Qa=function(){if(b&&dl(b,Q,fe,Re))return br(b||as)}();function va(D){if(D.target===D.currentTarget){var F=D.target.children[1];pr(F)}}function ke(D){switch(Yt.current=D.key,D.key){case"ArrowLeft":case"ArrowRight":case ga:case Ga:{D.preventDefault();var F=D.target,U=D.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",H=ul(F,U);pr(H);break}}}function De(D){var F=D.key,U=D.target,H=Yt.current===F;if(H){var Se=!isNaN(Number(F));if(Se){var Ce=U.getAttribute("max");if(Ce){var Je=U.value;if(Number(Je)*10>Number(Ce)||Je.length>=Ce.length){var Ft="nextElementSibling",nt=ul(U,Ft);pr(nt)}}}}}function Qt(){if(!I)return;function D(He){return!!He}var F=[Fa.current,Pt.current,xa.current,Ie.current,ma.current,ha.current,Ye.current,Tt.current,Kt.current].filter(D),U=F.slice(1),H={};F.forEach(function(He){H[He.name]=He.type==="number"?"valueAsNumber"in He?He.valueAsNumber:Number(He.value):He.value});var Se=U.every(function(He){return!He.value});if(Se){I(null,!1);return}var Ce=F.every(function(He){return He.value}),Je=F.every(function(He){return He.validity.valid});if(Ce&&Je){var Ft=Number(H.year||new Date().getFullYear()),nt=Number(H.month||1)-1,Et=Number(H.day||1),ya=Number(H.hour24||H.hour12&&H.amPm&&ll(H.hour12,H.amPm)||0),Xt=Number(H.minute||0),It=Number(H.second||0),ct=new Date;ct.setFullYear(Ft,nt,Et),ct.setHours(ya,Xt,It,0),I(ct,!1);return}k&&k()}function me(D){var F=D.target,U=F.name,H=F.value;switch(U){case"amPm":ue(H);break;case"year":xe(H);break;case"month":X(H);break;case"day":ze(H);break;case"hour12":Ke(H?ll(H,B||"am").toString():"");break;case"hour24":Ke(H);break;case"minute":$(H);break;case"second":be(H);break}Qt()}function Xe(D){var F=D.target.value;if(I){var U=function(){if(!F)return null;var H=F.split("T"),Se=H[0],Ce=H[1],Je=Se.split("-"),Ft=Je[0],nt=Je[1],Et=Je[2],ya=Number(Ft),Xt=Number(nt)-1||0,It=Number(Et)||1,ct=Ce.split(":"),He=ct[0],Mi=ct[1],Wi=ct[2],Ri=Number(He)||0,zi=Number(Mi)||0,Ui=Number(Wi)||0,tr=new Date;return tr.setFullYear(ya,Xt,It),tr.setHours(Ri,zi,Ui,0),tr}();I(U,!1)}}var at={className:s,disabled:i,maxDate:x||fr,minDate:b||as,onChange:me,onKeyDown:ke,onKeyUp:De,required:!!(C||Ot)},K={maxTime:Gt,minTime:Qa};function J(D,F){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var U=D&&D.length===2;return _.createElement(Bm,xt({key:"day"},at,{ariaLabel:n,autoFocus:F===0&&r,inputRef:Pt,month:fe,placeholder:l,showLeadingZeros:U||R,value:Re,year:Q}))}function Le(D,F){if(D&&D.length>4)throw new Error("Unsupported token: ".concat(D));if(D.length>2)return _.createElement(rx,xt({key:"month"},at,{ariaLabel:p,autoFocus:F===0&&r,inputRef:Ie,locale:m,placeholder:S,short:D.length===3,value:fe,year:Q}));var U=D&&D.length===2;return _.createElement(Qm,xt({key:"month"},at,{ariaLabel:p,autoFocus:F===0&&r,inputRef:xa,placeholder:S,showLeadingZeros:U||R,value:fe,year:Q}))}function Ue(D,F){return _.createElement(lx,xt({key:"year"},at,{ariaLabel:Y,autoFocus:F===0&&r,inputRef:ma,placeholder:V,value:Q,valueType:"day"}))}function Ne(D,F){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var U=D?D.length===2:!1;return _.createElement(jx,xt({key:"hour12"},at,K,{amPm:B,ariaLabel:o,autoFocus:F===0&&r,inputRef:ha,placeholder:u,showLeadingZeros:U,value:Pe}))}function st(D,F){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var U=D?D.length===2:!1;return _.createElement(bx,xt({key:"hour24"},at,K,{ariaLabel:o,autoFocus:F===0&&r,inputRef:Ye,placeholder:u,showLeadingZeros:U,value:Pe}))}function it(D,F){return/h/.test(D)?Ne(D,F):st(D,F)}function rt(D,F){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var U=D?D.length===2:!1;return _.createElement(wx,xt({key:"minute"},at,K,{ariaLabel:y,autoFocus:F===0&&r,hour:Pe,inputRef:Tt,placeholder:v,showLeadingZeros:U,value:ye}))}function Za(D,F){if(D&&D.length>2)throw new Error("Unsupported token: ".concat(D));var U=D?D.length===2:!0;return _.createElement(Sx,xt({key:"second"},at,K,{ariaLabel:E,autoFocus:F===0&&r,hour:Pe,inputRef:Kt,minute:ye,placeholder:L,showLeadingZeros:U,value:je}))}function Zt(D,F){return _.createElement(Cx,xt({key:"ampm"},at,K,{ariaLabel:a,autoFocus:F===0&&r,inputRef:Fa,locale:m,onChange:me,value:B}))}function ja(){var D={d:J,M:Le,y:Ue,h:it,H:it,m:rt,s:Za,a:Zt},F=typeof d<"u";return zx(At,D,F)}function Ia(){return _.createElement(kx,{key:"datetime",ariaLabel:T,disabled:i,maxDate:x||fr,minDate:b||as,name:w,onChange:Xe,required:C,value:ut,valueType:Bt})}return _.createElement("div",{className:s,onClick:va},Ia(),ja())}var Hx=globalThis&&globalThis.__spreadArray||function(t,a,r){if(r||arguments.length===2)for(var s=0,n=a.length,l;s<n;s++)(l||!(s in a))&&(l||(l=Array.prototype.slice.call(a,0,s)),l[s]=a[s]);return t.concat(l||Array.prototype.slice.call(a))},Vx=["hour","minute","second"],qx=Hx([],Vx,!0),$x=function(a,r,s){var n=a,l=r,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.maxDate;return d&&i>d?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, minDate cannot be larger than maxDate.")):null},Kx=function(a,r,s){var n=a,l=r,i=n[l];if(!i)return null;if(!(i instanceof Date))return new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, expected instance of `Date`."));var d=a.minDate;return d&&i<d?new Error("Invalid prop `".concat(r,"` of type `").concat(typeof i,"` supplied to `").concat(s,"`, maxDate cannot be smaller than minDate.")):null};j.oneOf(qx);var Yx=function(t){return j.arrayOf(t)},ta=globalThis&&globalThis.__assign||function(){return ta=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},ta.apply(this,arguments)},gr=globalThis&&globalThis.__rest||function(t,a){var r={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&a.indexOf(s)<0&&(r[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,s=Object.getOwnPropertySymbols(t);n<s.length;n++)a.indexOf(s[n])<0&&Object.prototype.propertyIsEnumerable.call(t,s[n])&&(r[s[n]]=t[s[n]]);return r},Bx=typeof document<"u",Be="react-datetime-picker",Gx=["mousedown","focusin","touchstart"],Ei=["hour","minute","second"],Ii={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},Qx=_.createElement("svg",ta({},Ii,{className:"".concat(Be,"__calendar-button__icon ").concat(Be,"__button__icon")}),_.createElement("rect",{fill:"none",height:"15",width:"15",x:"2",y:"2"}),_.createElement("line",{x1:"6",x2:"6",y1:"0",y2:"4"}),_.createElement("line",{x1:"13",x2:"13",y1:"0",y2:"4"})),Zx=_.createElement("svg",ta({},Ii,{className:"".concat(Be,"__clear-button__icon ").concat(Be,"__button__icon")}),_.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),_.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),Cn=function(a){var r=a.amPmAriaLabel,s=a.autoFocus,n=a.calendarAriaLabel,l=a.calendarIcon,i=l===void 0?Qx:l,d=a.className,o=a.clearAriaLabel,u=a.clearIcon,c=u===void 0?Zx:u,m=a.closeWidgets,x=m===void 0?!0:m,h=a["data-testid"],g=a.dayAriaLabel,b=a.dayPlaceholder,y=a.disableCalendar,v=a.disableClock,p=a.disabled,S=a.format,O=a.hourAriaLabel,w=a.hourPlaceholder,T=a.id,I=a.isCalendarOpen,k=I===void 0?null:I,C=a.isClockOpen,E=C===void 0?null:C,L=a.locale,R=a.maxDate,q=a.maxDetail,Y=q===void 0?"minute":q,V=a.minDate,N=a.minuteAriaLabel,B=a.minutePlaceholder,ue=a.monthAriaLabel,M=a.monthPlaceholder,Q=a.name,xe=Q===void 0?"datetime":Q,he=a.nativeInputAriaLabel,fe=a.onCalendarClose,X=a.onCalendarOpen,Oe=a.onChange,Re=a.onClockClose,ze=a.onClockOpen,Ee=a.onFocus,Pe=a.onInvalidChange,Ke=a.openWidgetsOnFocus,_e=Ke===void 0?!0:Ke,ye=a.required,$=a.secondAriaLabel,G=a.secondPlaceholder,je=a.shouldCloseWidgets,be=a.shouldOpenWidgets,dt=a.showLeadingZeros,ut=a.value,ua=a.yearAriaLabel,Fa=a.yearPlaceholder,ma=gr(a,["amPmAriaLabel","autoFocus","calendarAriaLabel","calendarIcon","className","clearAriaLabel","clearIcon","closeWidgets","data-testid","dayAriaLabel","dayPlaceholder","disableCalendar","disableClock","disabled","format","hourAriaLabel","hourPlaceholder","id","isCalendarOpen","isClockOpen","locale","maxDate","maxDetail","minDate","minuteAriaLabel","minutePlaceholder","monthAriaLabel","monthPlaceholder","name","nativeInputAriaLabel","onCalendarClose","onCalendarOpen","onChange","onClockClose","onClockOpen","onFocus","onInvalidChange","openWidgetsOnFocus","required","secondAriaLabel","secondPlaceholder","shouldCloseWidgets","shouldOpenWidgets","showLeadingZeros","value","yearAriaLabel","yearPlaceholder"]),xa=f.useState(k),Ie=xa[0],Pt=xa[1],ha=f.useState(E),Ye=ha[0],Tt=ha[1],Kt=f.useRef(null),gt=f.useRef(null),Ot=f.useRef(null);f.useEffect(function(){Pt(k)},[k]),f.useEffect(function(){Tt(E)},[E]);function fa(K){var J=K.reason;be&&!be({reason:J,widget:"calendar"})||(Tt(Ye&&!1),Pt(!0),X&&X())}var Yt=f.useCallback(function(K){var J=K.reason;je&&!je({reason:J,widget:"calendar"})||(Pt(!1),fe&&fe())},[fe,je]);function Bt(){Ie?Yt({reason:"buttonClick"}):fa({reason:"buttonClick"})}function Ea(K){var J=K.reason;be&&!be({reason:J,widget:"clock"})||(Pt(Ie&&!1),Tt(!0),ze&&ze())}var pa=f.useCallback(function(K){var J=K.reason;je&&!je({reason:J,widget:"clock"})||(Tt(!1),Re&&Re())},[Re,je]),mt=f.useCallback(function(K){var J=K.reason;Yt({reason:J}),pa({reason:J})},[Yt,pa]);function At(K,J){J===void 0&&(J=x),J&&mt({reason:"select"}),Oe&&Oe(K)}function ga(K,J){var Le=(Array.isArray(K)?K:[K])[0],Ue=(Array.isArray(ut)?ut:[ut])[0];if(Ue&&Le){var Ne=new Date(Ue),st=new Date(Le);st.setHours(Ne.getHours(),Ne.getMinutes(),Ne.getSeconds(),Ne.getMilliseconds()),At(st,J)}else At(Le,J)}function Ga(K){if(Ee&&Ee(K),!(p||!_e||K.target.dataset.select==="true"))switch(K.target.name){case"day":case"month":case"year":{if(Ie)return;fa({reason:"focus"});break}case"hour12":case"hour24":case"minute":case"second":{if(Ye)return;Ea({reason:"focus"});break}}}var Gt=f.useCallback(function(K){K.key==="Escape"&&mt({reason:"escape"})},[mt]);function Qa(){At(null)}function va(K){K.stopPropagation()}var ke=f.useCallback(function(K){var J=Kt.current,Le=gt.current,Ue=Ot.current,Ne="composedPath"in K?K.composedPath()[0]:K.target;Ne&&J&&!J.contains(Ne)&&(!Le||!Le.contains(Ne))&&(!Ue||!Ue.contains(Ne))&&mt({reason:"outsideAction"})},[gt,Ot,mt,Kt]),De=f.useCallback(function(K){K===void 0&&(K=Ie||Ye),Gx.forEach(function(J){K?document.addEventListener(J,ke):document.removeEventListener(J,ke)}),K?document.addEventListener("keydown",Gt):document.removeEventListener("keydown",Gt)},[Ie,Ye,ke,Gt]);f.useEffect(function(){return De(),function(){De(!1)}},[De]);function Qt(){var K=(Array.isArray(ut)?ut:[ut])[0],J={amPmAriaLabel:r,dayAriaLabel:g,hourAriaLabel:O,minuteAriaLabel:N,monthAriaLabel:ue,nativeInputAriaLabel:he,secondAriaLabel:$,yearAriaLabel:ua},Le={dayPlaceholder:b,hourPlaceholder:w,minutePlaceholder:B,monthPlaceholder:M,secondPlaceholder:G,yearPlaceholder:Fa};return _.createElement("div",{className:"".concat(Be,"__wrapper")},_.createElement(Ux,ta({},J,Le,{autoFocus:s,className:"".concat(Be,"__inputGroup"),disabled:p,format:S,isWidgetOpen:Ie||Ye,locale:L,maxDate:R,maxDetail:Y,minDate:V,name:xe,onChange:At,onInvalidChange:Pe,required:ye,showLeadingZeros:dt,value:K})),c!==null&&_.createElement("button",{"aria-label":o,className:"".concat(Be,"__clear-button ").concat(Be,"__button"),disabled:p,onClick:Qa,onFocus:va,type:"button"},typeof c=="function"?_.createElement(c):c),i!==null&&!y&&_.createElement("button",{"aria-label":n,className:"".concat(Be,"__calendar-button ").concat(Be,"__button"),disabled:p,onClick:Bt,onFocus:va,type:"button"},typeof i=="function"?_.createElement(i):i))}function me(){if(Ie===null||y)return null;var K=a.calendarClassName;a.className,a.maxDetail,a.onChange;var J=a.portalContainer,Le=a.value,Ue=gr(a,["calendarClassName","className","maxDetail","onChange","portalContainer","value"]),Ne="".concat(Be,"__calendar"),st=ot(Ne,"".concat(Ne,"--").concat(Ie?"open":"closed")),it=_.createElement(ym,ta({className:K,onChange:function(rt){return ga(rt)},value:Le},Ue));return J?jr.createPortal(_.createElement("div",{ref:gt,className:st},it),J):_.createElement(al,null,_.createElement("div",{ref:function(rt){rt&&!Ie&&rt.removeAttribute("style")},className:st},it))}function Xe(){if(Ye===null||v)return null;var K=a.clockClassName;a.className;var J=a.maxDetail,Le=J===void 0?"minute":J;a.onChange;var Ue=a.portalContainer,Ne=a.value,st=gr(a,["clockClassName","className","maxDetail","onChange","portalContainer","value"]),it="".concat(Be,"__clock"),rt=ot(it,"".concat(it,"--").concat(Ye?"open":"closed")),Za=(Array.isArray(Ne)?Ne:[Ne])[0],Zt=Ei.indexOf(Le),ja=_.createElement(km,ta({className:K,renderMinuteHand:Zt>0,renderSecondHand:Zt>1,value:Za},st));return Ue?jr.createPortal(_.createElement("div",{ref:Ot,className:rt},ja),Ue):_.createElement(al,null,_.createElement("div",{ref:function(Ia){Ia&&!Ye&&Ia.removeAttribute("style")},className:rt},ja))}var at=f.useMemo(function(){return ad(ma)},[ma]);return _.createElement("div",ta({className:ot(Be,"".concat(Be,"--").concat(Ie||Ye?"open":"closed"),"".concat(Be,"--").concat(p?"disabled":"enabled"),d),"data-testid":h,id:T},at,{onFocus:Ga,ref:Kt}),Qt(),me(),Xe())},ml=j.oneOfType([j.string,j.instanceOf(Date)]),Xx=j.oneOfType([ml,Yx(ml)]);Cn.propTypes={amPmAriaLabel:j.string,autoFocus:j.bool,calendarAriaLabel:j.string,calendarClassName:j.oneOfType([j.string,j.arrayOf(j.string)]),calendarIcon:j.oneOfType([j.node,j.func]),className:j.oneOfType([j.string,j.arrayOf(j.string)]),clearAriaLabel:j.string,clearIcon:j.oneOfType([j.node,j.func]),clockClassName:j.oneOfType([j.string,j.arrayOf(j.string)]),closeWidgets:j.bool,"data-testid":j.string,dayAriaLabel:j.string,dayPlaceholder:j.string,disableCalendar:j.bool,disableClock:j.bool,disabled:j.bool,format:j.string,hourAriaLabel:j.string,hourPlaceholder:j.string,id:j.string,isCalendarOpen:j.bool,isClockOpen:j.bool,locale:j.string,maxDate:Kx,maxDetail:j.oneOf(Ei),minDate:$x,minuteAriaLabel:j.string,minutePlaceholder:j.string,monthAriaLabel:j.string,monthPlaceholder:j.string,name:j.string,nativeInputAriaLabel:j.string,onCalendarClose:j.func,onCalendarOpen:j.func,onChange:j.func,onClockClose:j.func,onClockOpen:j.func,onFocus:j.func,openWidgetsOnFocus:j.bool,required:j.bool,secondAriaLabel:j.string,secondPlaceholder:j.string,showLeadingZeros:j.bool,value:Xx,yearAriaLabel:j.string,yearPlaceholder:j.string};Bx&&(Cn.propTypes.portalContainer=j.instanceOf(HTMLElement));const us=Cn,Jx=({onClose:t})=>{const{transfer:a,lastId:r,isChanged:s,isSubmitting:n,error:l,success:i,dateDisplay:d,handleSubmit:o,handleChange:u,handleChangeSelect:c,handleChangeDateTime:m}=Qc(),{warehouses:x}=Vt(),{auth:h}=ge();return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:g=>{g.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(Z,{name:"id",value:r,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Created by"}),e.jsx(Z,{name:"created_by",placeholder:"User ID",value:h.user.firstname+" "+h.user.lastname,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Source"}),e.jsxs(ne,{onValueChange:g=>c("source",Number(g)),required:!0,name:"source",children:[e.jsx(le,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:"Choose source location..."})}),e.jsx(ce,{className:"bg-white font-medium",children:x.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):x.map((g,b)=>e.jsxs(z,{value:g.id.toString(),className:"text-sm font-medium text-slate-700",children:[g.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+g.code+"  "+g.location})]},b))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Destination"}),e.jsxs(ne,{onValueChange:g=>c("destination",Number(g)),required:!0,name:"destination",children:[e.jsx(le,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:"Choose source location..."})}),e.jsx(ce,{className:"bg-white font-medium",children:x.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):x.map((g,b)=>e.jsxs(z,{value:g.id.toString(),className:"text-sm font-medium text-slate-700",children:[g.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+g.code+"  "+g.location})]},g.code))})]})]})]}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12 justify-center",children:e.jsxs("div",{className:"flex flex-col col-span-10 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Schedule"}),e.jsx(us,{onChange:g=>m("transfer_schedule",g),format:"yyyy-M-d H:m",minDate:new Date,value:d,required:!0})]})}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"}),e.jsx("div",{className:"flex flex-row gap-3 grid-cols-12",children:e.jsxs("div",{className:"flex flex-col gap-1 col-span-12 w-full",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Notes:"}),e.jsx(hs,{name:"notes",onChange:u,value:a.notes||"",placeholder:"Add notes here...."})]})}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:o,children:n?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},eh=({onClose:t})=>{var I,k,C,E,L,R,q,Y,V;const{transfer:a,lastId:r,isChanged:s,isSubmitting:n,error:l,success:i,dateDisplay:d,dateDisplayArrived:o,handleSubmit:u,handleChange:c,handleChangeSelect:m,handleChangeDateTime:x}=Rl(),{selectedTransfer:h,transferProducts:g}=pt(),{warehouses:b}=Vt(),{users:y}=wl(),{auth:v}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ne,{onValueChange:N=>m("approval_status",N),name:"approval_status",value:a.approval_status||"",children:e.jsxs(le,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(ie,{placeholder:a.approval_status?a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1):"Choose status..."}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(z,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(z,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),g.filter(N=>N.transfer_id===a.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(an,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),S=e.jsxs(ne,{onValueChange:N=>m("source",Number(N)),name:"source",children:[e.jsx(le,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(I=b[a.source-1])==null?void 0:I.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(k=b[a.source-1])==null?void 0:k.code," ",""," ",(C=b[a.source-1])==null?void 0:C.location]})]})})}),e.jsx(ce,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.source&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},B))})]}),O=e.jsxs(ne,{onValueChange:N=>m("destination",Number(N)),name:"destination",children:[e.jsx(le,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=b[a.destination-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(L=b[a.destination-1])==null?void 0:L.code," ",""," ",(R=b[a.destination-1])==null?void 0:R.location]})]})})}),e.jsx(ce,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.destination&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),w=e.jsx(ne,{onValueChange:N=>m("transfer_status",N),name:"transfer_status",value:a.transfer_status||"",children:e.jsxs(le,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(ie,{placeholder:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"Choose status..."}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(z,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(z,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),T=e.jsxs(ne,{onValueChange:N=>m("received_by",Number(N)),name:"received_by",children:[e.jsx(le,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:a.received_by?y[Number(a.received_by)-1].firstname+" "+y[Number(a.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ce,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((N,B)=>e.jsx(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===a.received_by&&"selected"}`,children:N.firstname+" "+N.lastname},B))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),S]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),O]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((q=a.approval_status)==null?void 0:q.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"})]}),((Y=a.approval_status)==null?void 0:Y.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"})]}),v.rolePermissions.some(N=>N.permission_id===22)?((V=a.approval_status)==null?void 0:V.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:y.length>0?y[a.approved_by-1].firstname+" "+y[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:w})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(us,{onChange:N=>x("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:T})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(us,{onChange:N=>x("date_received",N),value:o,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(hs,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:c})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:u,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},th=({openModal:t})=>{const{transfers:a,transferProducts:r,isFetching:s,selectedTransfer:n,setSelectedTransfer:l,selectedProduct:i,setSelectedProduct:d}=pt();ge();const o=r.filter(m=>m.transfer_id===n.id),u=()=>{t({},"add")},c=[{id:"select",header:({table:m})=>e.jsx("input",{type:"checkbox",checked:m.getIsAllPageRowsSelected(),onChange:x=>m.toggleAllPageRowsSelected(!!x.target.checked),"aria-label":"Select all"}),cell:({row:m})=>e.jsx("input",{type:"checkbox",checked:m.getIsSelected(),onChange:x=>m.toggleSelected(!!x.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{id:"product_name",sortingFn:"text",enableSorting:!0,header:({column:m})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>m.toggleSorting(m.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["PRODUCT NAME ",m.getIsSorted()==="asc"?e.jsx(te,{}):m.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:m})=>e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:m.original.product.name})},{accessorKey:"bundles_count",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES COUNT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.bundles_count})},{accessorKey:"bundles_unit",header:()=>e.jsx("div",{className:"text-center",children:"BUNDLES UNIT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.bundles_unit})},{accessorKey:"quantity_per_bundle",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY PER BUNDLE"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.quantity_per_bundle})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"text-center",children:"UNIT"}),cell:({row:m})=>e.jsx("div",{className:"text-center",children:m.original.unit})},{accessorKey:"total_quantity",header:()=>e.jsx("div",{className:"text-center",children:"TOTAL QUANTITY"}),cell:({row:m})=>e.jsxs("div",{className:"text-center",children:[m.original.total_quantity," ",m.original.unit]})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:m})=>(m.original,n.transfer_status!="arrived"&&n.approval_status!="rejected"&&e.jsx("div",{className:"flex flex-row text-xs justify-center font-normal uppercase",children:e.jsx(A,{fill:"yellow",textColor:"black",children:"Edit Product"})}))}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:o,columns:c,filterWhat:"product_name",dataType:"Transfer Products",openModal:n.transfer_status!="arrived"&&n.approval_status!="rejected"?u:void 0,isLoading:s})})},ah=({onClose:t})=>{const{product:a,allProducts:r,allInventoryProducts:s,filteredProductsSrc:n,bundlesLimit:l,quantityLimit:i,damagedCount:d,isChanged:o,isSubmitting:u,error:c,success:m,handleSubmit:x,handleChange:h,handleChangeSelect:g}=Zc();ge();const b=a.capital_price?a.capital_price:0,y=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(b);return m&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:v=>{v.preventDefault()},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-5",children:[e.jsxs("div",{className:"grid grid-cols-12 gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer Product ID"}),e.jsx(Z,{name:"id",value:a.id,type:"number",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-2 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Transfer ID"}),e.jsx(Z,{name:"created_by",placeholder:"User ID",value:a.transfer_id,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Product to transfer:"}),e.jsxs(ne,{onValueChange:v=>g("product_id",Number(v.split("-")[0]),Number(v.split("-")[1])),required:!0,name:"product_id",children:[e.jsx(le,{name:"product_id",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:"Choose product..."})}),e.jsx(ce,{className:"bg-white font-medium",children:n.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):n.map((v,p)=>e.jsx(z,{value:v.product.id?v.product.id.toString()+"-"+p.toString():"",className:"text-sm font-medium text-slate-700",children:v.product.name},p))})]})]}),e.jsxs("div",{className:"flex flex-col col-span-3 gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"Capital Price:"}),e.jsx(Z,{name:"capital_price",type:"string",value:y,onChange:h,disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES COUNT"}),e.jsx(Z,{name:"bundles_count",type:"number",value:a.bundles_count||"",placeholder:`Available stocks: ${l}`,max:l,onChange:h,required:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"BUNDLES UNIT"}),e.jsx(Z,{name:"bundles_unit",type:"string",value:a.bundles_unit||"",placeholder:"box, bundle, etc.",disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"QUANTITY PER BUNDLE"}),e.jsx(Z,{name:"quantity_per_bundle",type:"number",value:a.quantity_per_bundle||"",placeholder:"Quantity per bundle",onChange:h,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"UNIT"}),e.jsx(Z,{name:"unit",type:"string",value:a.unit||"",placeholder:"box, pieces, etc.",disabled:!0,readOnly:!0})]})]}),e.jsxs("div",{className:"flex flex-row gap-3 justify-center",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"text-sm font-bold uppercase",children:"TOTAL QUANTITY"}),e.jsx(Z,{name:"total_quantity",type:"string",value:a.total_quantity&&a.unit?a.total_quantity.toString()+" "+a.unit.toString():"",placeholder:`Available stocks: ${i}`,onChange:h,disabled:!0,readOnly:!0})]}),a.total_quantity!=0&&d!=0&&a.total_quantity==i&&e.jsxs("div",{className:"grid content-center group",children:[e.jsx(an,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsxs("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-2 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:["Some damaged goods (",d," ",a.unit,") are included in the transfer."]})]})]}),e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-8 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:o?"green":null,disabled:!o,onClick:x,children:u?"Submitting":"Add Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-4 items-start",children:[m&&e.jsx("div",{className:"font-bold text-green-700",children:m}),c&&e.jsx("div",{className:"font-bold text-red-700",children:c}),u?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-2 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})]})})})},sh=({onClose:t})=>{const{transfers:a,transferProducts:r,isFetching:s,selectedTransfer:n,setSelectedTransfer:l}=pt(),{isOpen:i,openModal:d,closeModal:o}=Fe(),[u,c]=f.useState("");ge(),r.filter(x=>x.transfer_id===n.id);const m=(x,h)=>{d(),c(h)};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx(th,{openModal:m})}),e.jsx(We,{title:u==="edit"?"Edit Transfer Product":"Add Transfer Product",isOpen:i,onClose:o,children:e.jsx(e.Fragment,{children:u==="add"&&e.jsx(ah,{onClose:o})})})]})},mf=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Transfer",children:e.jsxs(_l,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Io,{openModal:l})})}),e.jsx(We,{title:s==="details"?"Transfer Details":s==="edit"?"Edit Transfer":s==="add"?"Add Transfer":"Transfer Products",isOpen:t,onClose:r,closeOnOverlayClick:s==="details",children:e.jsxs(e.Fragment,{children:[s==="details"&&e.jsx(Lo,{onClose:r}),s==="edit"&&e.jsx(eh,{onClose:r}),s==="add"&&e.jsx(Jx,{onClose:r}),s==="products"&&e.jsx(sh,{onClose:r})]})})]})})})};function rh({columns:t,data:a}){var s;const r=Vc({data:a,columns:t,getCoreRowModel:qc(),defaultColumn:{size:200,minSize:50,maxSize:500}});return e.jsx("div",{className:"rounded-md border",children:e.jsxs($r,{children:[e.jsx(Kr,{children:r.getHeaderGroups().map(n=>e.jsx(Na,{children:n.headers.map(l=>e.jsx(Yr,{style:{width:l.index===0?250:500},children:l.isPlaceholder?null:On(l.column.columnDef.header,l.getContext())},l.id))},n.id))}),e.jsx(Br,{children:((s=r.getRowModel().rows)==null?void 0:s.length)&&r.getRowModel().rows.map(n=>e.jsx(Na,{children:n.getVisibleCells().map(l=>e.jsx(Me,{children:On(l.column.columnDef.cell,l.getContext())},l.id))},n.id))})]})})}const nh=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center",children:[e.jsx(no,{width:150,height:150,color:"#888888",strokeWidth:-1}),e.jsx("span",{className:"max-w-[300px] text-center text-[#888]",children:"Start entering products / product code / serial number / brand"})]})}),lh=({})=>{const{invoiceItemsQueue:t,quantityHandler:a,formatCurrency:r,handleInvoiceItemsChange:s,handleRemoveInvoiceItem:n}=tt(),{data:l}=Gr(),{data:i}=Pa(),d=[{id:"orderItem",enableResizing:!1,header:()=>e.jsx("div",{className:"flex justify-center",children:"Item #"}),cell:({row:o})=>e.jsx("div",{className:"flex justify-center",children:o.index+1}),size:250},{accessorKey:"name",header:()=>e.jsx("div",{className:"justify-center",children:"Product Name"}),cell:({row:o})=>e.jsx("div",{className:"flex ",children:o.original.product_id.name})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"flex justify-center",children:"Quantity"}),cell:({row:o})=>{const u=o.index,c=l.find(m=>m.product.id===o.original.product_id.id);return e.jsx("div",{className:"flex justify-center ",children:e.jsxs("div",{className:"flex flex-row border drop-shadow-sm",children:[e.jsx(oe,{className:"rounded-sm bg-red-300 hover:bg-red-500 disabled:opacity-100",onClick:()=>{a(u,o.original.quantity-1,(c==null?void 0:c.remaining_stocks_count)??0)},disabled:o.original.quantity<=1,children:e.jsx("span",{children:"-"})}),e.jsx(W,{id:"quantity",className:"w-20 rounded-none text-center drop-shadow-none",type:"number",value:o.original.quantity||"",onChange:m=>{a(u,Number(m.target.value),c?c.remaining_stocks_count??0:0)},disabled:!(c!=null&&c.remaining_stocks_count)}),e.jsx(oe,{className:"rounded-sm bg-slate-500 hover:bg-slate-700 disabled:bg-slate-200",onClick:()=>{a(u,o.original.quantity+1,(c==null?void 0:c.remaining_stocks_count)??0)},disabled:o.original.quantity>=((c==null?void 0:c.remaining_stocks_count)??0),children:e.jsx("span",{children:"+"})})]})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center",children:"Product Price"}),cell:({row:o})=>{const u=i.find(c=>c.product.id===o.original.product_id.id);return e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:r(o.original.product_price)}),u!=null&&u.sale_discount?e.jsxs("span",{className:"text-sm font-light",children:["(",r((u==null?void 0:u.sale_discount)??0),")"]}):null]})}},{accessorKey:"item_discount",header:()=>e.jsx("div",{className:"justify-center",children:"Item Discount"}),cell:({row:o})=>e.jsx("div",{children:e.jsx(W,{id:"item_discount",value:o.original.item_discount,type:"number",onChange:u=>{s(o.index,"item_discount",Number(u.target.value))}})},o.index)},{id:"total_price",accessorKey:"total_price",header:()=>e.jsx("div",{className:"justify-center",children:"Total"}),cell:({row:o})=>e.jsx("div",{className:"",children:e.jsx("span",{children:r(o.original.total_price)})}),size:250},{id:"actions",cell:({row:o})=>{const u=o.index;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsx(oe,{className:"bg-red-500 hover:bg-red-700",onClick:()=>{n(u)},children:e.jsx(lo,{color:"#FFF"})})})}}];return e.jsx(e.Fragment,{children:t.length===0?e.jsx(nh,{}):e.jsx(rh,{data:t,columns:d})})},ih=()=>{const t=Qe(),[a,r]=f.useState({}),s=(d,o)=>{r(u=>({...u,[d]:o}))},n=async d=>(console.log("Submitting: ",d),await i(d)),l={onSuccess:async()=>{await t.invalidateQueries({queryKey:["customers"]}),r({})},onError:d=>{console.error("Error adding customer:",d.message)}},{mutateAsync:i}=pe({mutationKey:["addCustomer"],mutationFn:fc,...l});return{value:a,setValue:r,handleChange:s,handleSubmit:n}},ch=({onClose:t})=>{const{value:a,setValue:r,handleChange:s,handleSubmit:n}=ih(),{setSelectedCustomer:l}=Ws();f.useEffect(()=>{r(c=>({...c}))},[]);const[i,d]=f.useState(!1),[o,u]=f.useState(null);return e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async c=>{d(!i),c.preventDefault();const m=await n(a);(m==null?void 0:m.status)===201?(d(!i),l(m.data.data),t(),console.log(m.data)):(d(!i),u("Failed to add inventory"))},children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-2 ",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"firstname",children:"First Name"}),e.jsx(W,{id:"firstname",name:"firstname",required:!0,type:"text",placeholder:"First Name",onChange:c=>s("firstname",c.target.value)})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"lastname",children:"Last Name"}),e.jsx(W,{id:"lastname",name:"lastname",required:!0,type:"text",placeholder:"Last Name",onChange:c=>s("lastname",c.target.value)})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"address",children:"Address"}),e.jsxs("div",{className:"relative flex flex-col ",children:[e.jsx(ao,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(W,{id:"address",name:"address",type:"text",placeholder:"Address",defaultValue:"",className:"pl-10",onChange:c=>s("address",c.target.value),required:!0})]})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(P,{className:"text-sm font-semibold uppercase",htmlFor:"contact_no",children:"Contact Number"}),e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(so,{color:"#2D2D2D",className:"absolute top-0 translate-x-3 translate-y-1/2",size:20}),e.jsx(W,{required:!0,id:"contact_no",name:"contact_no",type:"text",inputMode:"numeric",placeholder:"Contact Number",className:"pl-10",defaultValue:"",max:11,maxLength:11,onChange:c=>s("contact_no",c.target.value)})]})]})]}),e.jsxs("div",{className:"flex flex-row justify-end gap-4",children:[e.jsx(A,{onClick:()=>t(),type:"reset",className:'hover:text-white"  py-2 text-sm font-bold text-slate-700',children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:i||Object.keys(a).length<=2,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Submitting...":"Add Customer"})]}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:o})})]})})})},oh=({})=>{const{data:t,isLoading:a,selectedCustomer:r,setSelectedCustomer:s,openSearchCustomer:n,setOpenSearchCustomer:l}=Ws(),[i,d]=f.useState(""),{invoice:o,setInvoice:u}=tt();f.useEffect(()=>{r&&d("")},[r,n]);const{openModal:c,isOpen:m,closeModal:x}=Fe();return e.jsxs(e.Fragment,{children:[e.jsxs(pc,{open:n,onOpenChange:l,children:[e.jsx(la,{value:i,onValueChange:d,placeholder:a?"Loading Customers":r.id?`${r.firstname} ${r.lastname}`:"Enter Customer Name"}),e.jsx(Sl,{children:i?e.jsxs(e.Fragment,{children:[e.jsxs(Ca,{className:"flex flex-col gap-2 py-4 pb-1 text-center text-sm",children:[e.jsx("span",{className:"font-bold uppercase",children:"Customer Not Found"}),e.jsxs(oe,{className:"flex flex-row gap-4",onClick:()=>{c(),l(!1)},children:[e.jsx(io,{color:"#fff"}),e.jsx("span",{className:"text-white",children:"Add Customer"})]})]}),t.map((h,g)=>e.jsx(jt,{className:"",value:h.id+""+h.firstname+" "+h.lastname,onSelect:()=>{s(h),l(!1),d(""),u({...o,customer_id:h.id})},children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:h.firstname}),e.jsx("span",{children:h.lastname})]})},g))]}):null})]}),e.jsx(We,{isOpen:m,onClose:x,title:"Add Customer",children:e.jsx(ch,{onClose:x})})]})},dh=({})=>{const{selectedCustomer:t,setOpenSearchCustomer:a}=Ws();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-1 rounded-md bg-white p-3",children:[e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx(P,{className:"text-lg font-bold uppercase text-slate-900",children:"Customer Info"}),e.jsx(oe,{onClick:()=>a(!0),size:"icon",children:e.jsx(gc,{size:18})})]}),Object.keys(t).length===0?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx(P,{className:"text-slate-900",children:"Full Name: "}),e.jsx("span",{className:"font-medium uppercase text-slate-950",children:t.firstname+" "+t.lastname})]}),e.jsx("div",{children:e.jsxs(P,{className:"text-slate-900",children:["Address: ",t.address]})}),e.jsx("div",{children:e.jsxs(P,{className:"text-slate-900",children:["Contact Number: ",t.contact_no]})})]})})]})})},uh=()=>{const{formatCurrency:t,invoiceItemsQueue:a}=tt(),r=a.reduce((s,n)=>s+n.total_price,0);return e.jsx("div",{className:"flex flex-col gap-2 ",children:e.jsxs(yt,{children:[e.jsx(bt,{asChild:!0,children:e.jsxs(oe,{variant:"outline",className:"justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(ro,{}),e.jsx("span",{children:"Total Items"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:a.length})})]})}),e.jsx(Nt,{className:"",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("div",{children:a.map((s,n)=>{const l=s.total_price?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.total_price):"";return e.jsxs("div",{className:"flex flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsxs("div",{className:"flex w-5 flex-row justify-between",children:[e.jsx("span",{className:"text-sm",children:s.quantity}),e.jsx("span",{className:"text-sm",children:"x"})]}),e.jsx("span",{className:"text-sm",children:s.product_id.name})]}),e.jsx("span",{className:"text-sm",children:l})]},n)})}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Amount:"}),e.jsx("span",{className:"border-t border-t-slate-800 text-sm",children:r?t(r):"0.00"})]})]})})]})})},mh=()=>{const{invoice:t,invoiceItemsQueue:a}=tt();function r(){return t.paid_amount===0?0:(t.paid_amount??0)-a.reduce((s,n)=>s+n.total_price,0)+(t.total_discount??0)}return e.jsx(e.Fragment,{children:e.jsxs(oe,{variant:"outline",className:"justify-between hover:cursor-default hover:bg-white",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(eo,{}),e.jsx("span",{children:"Change"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:Lt(Number(r()))})})]})})},xh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:r}=tt(),s=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(oe,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{s.current.focus()},disabled:r.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(zl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Paid Amount"})]}),e.jsx(W,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:s,id:"paid_amount",name:"paid_amount",type:"text",placeholder:"0.00",disabled:r.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${Lt(l)}`,a("paid_amount",l)},onChange:n=>{a("paid_amount",Number(n.target.value)),a("change_amount",Number(Number(Number(n.target.value)-r.reduce((l,i)=>l+i.total_price,0)).toFixed(2))),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},hh=()=>{const{invoiceItemsQueue:t,invoice:a}=tt(),r=t.reduce((s,n)=>s+n.total_price,0)-(a.total_discount??0);return e.jsx(e.Fragment,{children:e.jsxs(oe,{variant:"outline",className:"justify-between hover:cursor-default",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(vc,{}),e.jsx("span",{children:"Total Amount"})]}),e.jsx("div",{children:e.jsx("span",{className:"justify-between text-base",children:r?Lt(r):"0.00"})})]})})},fh=()=>{const{invoice:t,handleChange:a,invoiceItemsQueue:r}=tt(),s=f.useRef(null);return e.jsx(e.Fragment,{children:e.jsxs(oe,{className:"flex w-full flex-row justify-between border-0 bg-white pr-0 hover:bg-white disabled:bg-white disabled:opacity-100",onClick:()=>{s.current.focus()},disabled:r.length<=0,children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(zl,{color:"black",className:"",size:24}),e.jsx("span",{className:"text-black ",children:"Discount Amount"})]}),e.jsx(W,{className:"w-3/4 border-0 text-end text-base font-medium text-black focus-visible:ring-0 focus-visible:ring-offset-0 disabled:border-0",ref:s,id:"total_discount",name:"total_discount",type:"text",placeholder:"0.00",disabled:r.length<=0,onBlur:n=>{let l=n.target.value?parseFloat(n.target.value.replace(/[^\d.]/g,"")):0;l=Number(l.toFixed(2)),n.target.value=`${Lt(l)}`,a("total_discount",l)},onChange:n=>{a("total_discount",Number(n.target.value)),a("change_amount",Number(n.target.value)-r.reduce((l,i)=>l+i.total_price,0)),a("status",Number(n.target.value)>0?"pending":"approved"),console.log("change:",t.change_amount)},onFocus:n=>{n.target.value=n.target.value.replace(/[^\d.]/g,"")}})]})})},ph=()=>{const{handleChange:t,invoice:a}=tt();return f.useEffect(()=>{a.type==="exit"&&t("payment_method","exit")},[a.type]),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx(P,{htmlFor:"payment_method",className:"text-lg uppercase text-white",children:"Payment Type"}),e.jsx(Vr,{id:"type",defaultValue:"payment",onValueChange:r=>{t("type",r)},children:e.jsxs(qr,{className:"flex flex-row gap-1",children:[e.jsx(Ua,{value:"payment",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Payment"}),e.jsx(Ua,{value:"exit",className:`data-[state=active]:bg-primary w-full rounded-md
                                text-slate-800 hover:bg-slate-200 data-[state=active]:text-white`,children:"Exit"})]})}),a.type==="payment"&&e.jsx(e.Fragment,{children:e.jsxs(ne,{onValueChange:r=>{t("payment_method",r)},children:[e.jsx(le,{className:"font-medium focus:ring-0 focus:ring-offset-0",children:e.jsx(ie,{placeholder:"Select a payment method"})}),e.jsx(ce,{children:e.jsxs(jc,{children:[e.jsx(z,{className:"font-medium",value:"cash",children:"Cash"}),e.jsx(z,{className:"font-medium",value:"purchase_order",children:"Purchase Order"}),e.jsx(z,{className:"font-medium",value:"check",children:"Check"}),e.jsx(z,{className:"font-medium",value:"voucher",children:"Voucher"}),e.jsx(z,{className:"font-medium",value:"e-wallet",children:"E-Wallet"})]})})]})})]}),e.jsx(xs,{children:e.jsxs(ba,{children:[e.jsx(aa,{asChild:!0,children:e.jsxs("div",{className:"relative flex flex-col",children:[e.jsx(to,{color:"black",className:"absolute top-0 translate-x-4 translate-y-2",size:24}),e.jsx(W,{id:"reference_no",name:"reference_no",type:"text",placeholder:"Reference Number",onChange:r=>{t("reference_no",Number(r.target.value))},disabled:a.payment_method!=="check"&&a.payment_method!=="voucher"&&a.payment_method!=="e-wallet"&&a.payment_method!=="purchase_order",className:"pl-[3rem] text-base font-medium disabled:opacity-100"})]})}),e.jsx(sa,{align:"center",className:"bg-pos-primary-background",side:"left",sideOffset:2,children:e.jsx("span",{className:"p-2 text-white",children:"Reference Number"})})]})})]})},gh=()=>e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(ph,{}),e.jsx(hh,{}),e.jsx(fh,{}),e.jsx(xh,{}),e.jsx(mh,{})]}),vh=({})=>{const{auth:t}=ge(),{setFilter:a,selectedWarehouse:r,setSelectedWarehouse:s}=Cl(),{invoiceItemsQueue:n,invoice:l,setInvoice:i}=tt(),{value:d,addInvoiceMutation:o}=Ul(),{selectedCustomer:u}=Ws();async function c(){console.log("Invoice:",l),console.log("InvoiceItems:",n);let b=l;b.invoice_items=n.map(y=>({...y,product_id:y.product_id.id})),await o(b)}const{openModal:m,isOpen:x,closeModal:h}=Fe(),g=Fe();return f.useEffect(()=>{var b,y,v,p;t.role==="admin"?m():((b=t.role)==null?void 0:b.split("_")[1])==="CDO"?(console.log((y=t.role)==null?void 0:y.split("_")),a({approval_status:"approved",warehouse_id:1}),s("CDO"),i({...l,warehouse_id:1})):((v=t.role)==null?void 0:v.split("_")[1])==="ILI"&&(console.log((p=t.role)==null?void 0:p.split("_")),a({approval_status:"approved",warehouse_id:2}),s("Iligan"),i({...l,warehouse_id:2}))},[t.role]),e.jsxs("div",{className:"bg-pos-primary-background flex w-full max-w-[350px] flex-col gap-2 p-4",children:[t.role==="admin"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-1 px-3",children:[e.jsxs(Xa,{className:"text-sm font-medium uppercase text-slate-900",children:["Warehouse: ",r]}),e.jsx(oe,{onClick:m,size:"icon",className:"h-8",children:e.jsx(bs,{size:18})})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-md bg-white p-2",children:[e.jsxs(Xa,{className:"flex flex-row items-center gap-2 text-sm font-medium uppercase text-slate-900",children:[e.jsx(bs,{size:18}),r+" BRANCH"]}),e.jsx(Xa,{className:"text-sm font-medium uppercase text-slate-900",children:t.user.firstname+" "+t.user.lastname})]})}),e.jsx(oh,{}),e.jsx(dh,{}),e.jsx(uh,{}),e.jsx(gh,{}),e.jsx(oe,{onClick:()=>{et.info("Coming Soon!")},children:"Print Invoice"}),e.jsx(oe,{onClick:()=>{c()},disabled:Object.keys(u).length===0||n.length===0||l.paid_amount===0||l.payment_method==="",children:"Submit"}),e.jsx(We,{title:"",isOpen:g.isOpen,onClose:g.closeModal,closeOnOverlayClick:!0,children:e.jsx("div",{children:e.jsx("div",{children:"Test"})})}),t.role==="admin"?e.jsx(e.Fragment,{children:e.jsx(We,{isOpen:x,onClose:h,title:"Select Warehouse",closeOnOverlayClick:!1,children:e.jsxs("div",{className:"flex flex-row gap-6",children:[e.jsx(oe,{onClick:()=>{a({approval_status:"approved",warehouse_id:1}),h(),s("CDO"),i({...l,warehouse_id:1})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(bs,{}),e.jsx(Xa,{children:"CDO Warehouse"})]})}),e.jsx(oe,{onClick:()=>{a({approval_status:"approved",warehouse_id:2}),h(),s("Iligan"),i({...l,warehouse_id:2})},className:"h-20 ",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(bs,{}),e.jsx(Xa,{children:"Iligan Warehouse"})]})})]})})}):null]})},jh=({})=>{const[t,a]=f.useState(""),{isLoading:r,productListing:s}=Cl(),{invoiceItemsQueue:n,setInvoiceItemsQueue:l}=tt();return e.jsx("div",{className:"relative z-20 pb-10",children:e.jsx("div",{className:"absolute box-content flex w-full ",children:e.jsxs(Sa,{className:"rounded-lg border p-1 shadow-md",children:[e.jsx(la,{value:t,onValueChange:a,placeholder:r?"Loading Products":"Enter Serial Number / Brand / Product Name",disabled:s.length===0}),e.jsx(Sl,{className:"",children:t?e.jsxs(e.Fragment,{children:[e.jsx(Ca,{children:"Product Not Found"}),s.map((i,d)=>e.jsx(jt,{className:"",value:i.type==="retail"?`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Retail)`:`${i.product.id} ${i.id} ${i.product.name} ${i.product.serial_no} (Wholesale)`,onSelect:()=>{const o=n.findIndex(u=>u.product_price_id===i.id);if(o!==-1){const u=[...n];u[o].quantity++,l(u)}else l([...n,{unit:"",discount_approval_status:null,approved_by:null,item_discount:0,invoice_id:null,product_id:{id:i.product.id,name:i.product.name},product_price_id:i.id,product_price:i.cost,total_price:i.price,quantity:1,source_inventory:i.warehouse.id}]);a("")},children:e.jsxs("div",{className:"flex flex-1 flex-row justify-between",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[i.type==="retail"?e.jsx(Jc,{strokeWidth:1}):e.jsx(kl,{strokeWidth:1}),e.jsx("span",{children:i.product.name}),e.jsx("span",{className:"text-xs text-gray-600 ",children:`(${i.type} ${i.warehouse.code}) ${i.stocks_quantity}`})]}),e.jsx("div",{children:e.jsxs("span",{children:[" ",i.price]})})]})},d))]}):null})]})})})},xf=({})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Ll,{}),e.jsxs("div",{id:"main",className:"flex w-screen flex-row",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx(jh,{}),e.jsx(lh,{})]}),e.jsx(vh,{})]})]})}),yh=({openModal:t})=>{const{transactions:a,isFetching:r,progress:s}=yc(),n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:()=>e.jsx("div",{className:"text-center",children:"Product ID"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.id})},{accessorKey:"price",header:()=>e.jsx("div",{className:"text-center",children:"Price"}),cell:({row:l})=>{const i=parseFloat(l.getValue("amount")),d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"product_name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["PRODUCT NAME ",l.getIsSorted()==="asc"?e.jsx(te,{}):l.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.product_name})},{accessorKey:"dimensions",header:()=>e.jsx("div",{className:"text-center",children:"DIMENSIONS"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.dimensions})},{accessorKey:"serial",header:()=>e.jsx("div",{className:"text-center",children:"SERIAL"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.serial})},{accessorKey:"sku",header:()=>e.jsx("div",{className:"text-center",children:"SKU"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.sku})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"INVENTORY STATUS"}),cell:({row:l})=>{const i=l.getValue("status"),d=i==="LOW"?"bg-red-500":i==="MEDIUM"?"bg-amber-500":"bg-lime-600";return e.jsx("div",{className:`flex w-full flex-1 flex-col text-center ${d}`,children:l.getValue("status")})}},{accessorKey:"type",header:()=>e.jsx("div",{className:"text-center",children:"ORDER TYPE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"quantity",header:()=>e.jsx("div",{className:"text-center",children:"QUANTITY"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.quantity})}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:n,filterWhat:"serial",dataType:"Transaction",openModal:()=>t,isLoading:r})})},hf=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Transaction",children:e.jsx(bc,{children:e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(yh,{openModal:l})})})})})})},bh=({openModal:t})=>{const{transfers:a,transferProducts:r,isFetching:s,progress:n,setSelectedTransfer:l}=pt(),i=r.map(h=>({transfer_id:h.transfer_id})),o=a.filter(h=>{if(i.some(g=>g.transfer_id===h.id))return h}).filter(h=>{if(h.approval_status==="pending")return h}),{auth:u}=ge(),c=h=>{l(h),t(h,"details")},m=h=>{l(h),t(h,"edit")},x=[{id:"select",header:({table:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsAllPageRowsSelected(),onChange:g=>h.toggleAllPageRowsSelected(!!g.target.checked),"aria-label":"Select all"}),cell:({row:h})=>e.jsx("input",{type:"checkbox",checked:h.getIsSelected(),onChange:g=>h.toggleSelected(!!g.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"code",sortingFn:"alphanumeric",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center",children:["TRANSFER CODE ",h.getIsSorted()==="asc"?e.jsx(te,{}):h.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.code?h.original.code:"N/A"})},{accessorKey:"source",header:()=>e.jsx("div",{className:"text-center",children:"SOURCE-DESTINATION"}),cell:({row:h})=>{const g=h.original.source,b=h.original.destination;return e.jsxs("div",{className:"text-center",children:[g.code,"-",b.code]})}},{accessorKey:"transfer_status",sortingFn:"text",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["TRANSFER STATUS ",h.getIsSorted()==="asc"?e.jsx(te,{}):h.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:h})=>e.jsx("div",{className:"text-center",children:h.original.transfer_status?h.original.transfer_status:"N/A"})},{accessorKey:"transfer_schedule",sortingFn:"datetime",enableSorting:!0,header:({column:h})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>h.toggleSorting(h.getIsSorted()==="asc"),className:"flex flex-row bg-transparent text-black items-center z-10",children:["SCHEDULE ",h.getIsSorted()==="asc"?e.jsx(te,{}):h.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:h})=>{const g=h.getValue("transfer_schedule");if(g.toString()!=="0000-00-00 00:00:00"){const b={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},y=new Date(g).toLocaleDateString([],b);return e.jsx("div",{className:"text-center",children:y})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"approval_status",header:()=>e.jsx("div",{className:"text-center",children:"APPROVAL STATUS"}),cell:({row:h})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:h.original.approval_status.toLowerCase()==="approved"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):h.original.approval_status.toLowerCase()==="rejected"?e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:h})=>{var b;const g=h.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>c(g),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),((b=u.role)==null?void 0:b.toLowerCase())!="encoder"&&e.jsxs(we,{onClick:()=>m(g),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:g.transfer_status!="arrived"&&g.approval_status!="rejected"?e.jsx(Ut,{size:16,strokeWidth:2.25}):e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:o,columns:x,filterWhat:"approval_status",dataType:"",openModal:void 0,isLoading:s})})},Nh=({onClose:t})=>{const{selectedTransfer:a}=pt();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer Code"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Source"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.source.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Destination"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.destination.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_status?a.transfer_status.charAt(0).toUpperCase()+a.transfer_status.slice(1):"N/A"})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Transfer schedule"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.transfer_schedule.toString()==="0000-00-00 00:00:00"?"N/A":Te(a.transfer_schedule)})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Received by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.received_by?a.received_by.firstname+" "+a.received_by.lastname:"N/A"})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Date received"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.date_received?Te(a.date_received):"N/A"})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.created_by.firstname+" "+a.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.approved_by?a.approved_by.firstname+" "+a.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(a.updated_at)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Notes"}),e.jsx("p",{className:"text-sm text-gray-800",children:a.notes?a.notes:"N/A"})]})})]})})},wh=({onClose:t})=>{var I,k,C,E,L,R,q,Y,V;const{transfer:a,lastId:r,isChanged:s,isSubmitting:n,error:l,success:i,dateDisplay:d,dateDisplayArrived:o,handleSubmit:u,handleChange:c,handleChangeSelect:m,handleChangeDateTime:x}=Rl(),{selectedTransfer:h,transferProducts:g}=pt(),{warehouses:b}=Vt(),{users:y}=wl(),{auth:v}=ge(),p=e.jsxs(e.Fragment,{children:[e.jsx(ne,{onValueChange:N=>m("approval_status",N),name:"approval_status",value:h.approval_status||"",children:e.jsxs(le,{name:"approval_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(ie,{placeholder:h.approval_status?h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1):"Choose status..."}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{value:"pending",className:"text-sm font-medium text-slate-700",children:"Pending"},"pending"),e.jsx(z,{value:"approved",className:"text-sm font-medium text-slate-700",children:"Approved"},"approved"),e.jsx(z,{value:"rejected",className:"text-sm font-medium text-slate-700",children:"Rejected"},"rejected")]})]})}),g.filter(N=>N.transfer_id===h.id).length===0&&e.jsxs("div",{className:"flex align-center group",children:[e.jsx(an,{size:30,strokeWidth:2,className:"self-center text-yellow-600"}),e.jsx("span",{className:"text-nowrap absolute left-1/2 mx-auto -translate-x-10 -translate-y-7 rounded-md bg-gray-800 px-1 text-sm text-gray-100 transition-opacity opacity-0 group-hover:opacity-100",children:"No products have been added yet."})]})]}),S=e.jsxs(ne,{onValueChange:N=>m("source",Number(N)),name:"source",children:[e.jsx(le,{name:"source",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(I=b[h.source.id-1])==null?void 0:I.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(k=b[h.source.id-1])==null?void 0:k.code," ",""," ",(C=b[h.source.id-1])==null?void 0:C.location]})]})})}),e.jsx(ce,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===h.source.id&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},B))})]}),O=e.jsxs(ne,{onValueChange:N=>m("destination",Number(N)),name:"destination",children:[e.jsx(le,{name:"destination",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsxs(e.Fragment,{children:[(E=b[h.destination.id-1])==null?void 0:E.name,e.jsxs("span",{className:"truncate text-xs text-slate-700/60",children:[" ",""," ",(L=b[h.destination.id-1])==null?void 0:L.code," ",""," ",(R=b[h.destination.id-1])==null?void 0:R.location]})]})})}),e.jsx(ce,{className:"bg-white font-medium",children:b.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):b.map((N,B)=>e.jsxs(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${N.id===h.destination.id&&"selected"}`,children:[N.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+N.code+"  "+N.location})]},N.code))})]}),w=e.jsx(ne,{onValueChange:N=>m("transfer_status",N),name:"transfer_status",value:h.transfer_status||"",children:e.jsxs(le,{name:"transfer_status",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:[e.jsx(ie,{placeholder:h.transfer_status?h.transfer_status.charAt(0).toUpperCase()+h.transfer_status.slice(1):"Choose status..."}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{value:"loading",className:"text-sm font-medium text-slate-700",children:"Loading"},"loading"),e.jsx(z,{value:"en route",className:"text-sm font-medium text-slate-700",children:"En route"},"en route"),e.jsx(z,{value:"arrived",className:"text-sm font-medium text-slate-700",children:"Arrived"},"arrived")]})]})}),T=e.jsxs(ne,{onValueChange:N=>m("received_by",Number(N)),name:"received_by",children:[e.jsx(le,{name:"received_by",className:"flex flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):e.jsx(e.Fragment,{children:h.received_by?y[Number(h.received_by)-1].firstname+" "+y[Number(h.received_by)-1].lastname:"Choose user..."})})}),e.jsx(ce,{className:"bg-white font-medium",children:y.length<=0?e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}):y.map((N,B)=>e.jsx(z,{value:N.id.toString(),className:`text-sm font-medium text-slate-700 
								${h.received_by&&N.id===h.received_by.id&&"selected"}`,children:N.firstname+" "+N.lastname},B))})]});return i&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:N=>{N.preventDefault()},children:[e.jsxs("div",{className:"flex max-w-3xl flex-col gap-4",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm",children:a.code?a.code:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Source"}),S]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Destination"}),O]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4 pb-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:h.created_by.firstname+" "+h.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs("p",{className:"text-sm flex flex-row gap-2",children:[((q=a.approval_status)==null?void 0:q.toLowerCase())==="approved"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"})]}),((Y=a.approval_status)==null?void 0:Y.toLowerCase())==="rejected"&&e.jsxs(e.Fragment,{children:[a.approval_status.charAt(0).toUpperCase()+a.approval_status.slice(1),e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"})]}),v.rolePermissions.some(N=>N.permission_id===22)?((V=h.approval_status)==null?void 0:V.toLowerCase())==="pending"&&p:e.jsxs(e.Fragment,{children:[h.approval_status.charAt(0).toUpperCase()+h.approval_status.slice(1),e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})]})]})]}),a.approved_by&&a.approval_status!="pending"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsxs("h3",{className:"text-sm font-bold text-gray-600",children:[a.approval_status==="approved"&&"Approved by",a.approval_status==="rejected"&&"Rejected by"]}),e.jsx("p",{className:"text-sm flex flex-row",children:y.length>0?y[a.approved_by-1].firstname+" "+y[a.approved_by-1].lastname:e.jsx("div",{className:"flex h-12 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})})})]})]}),a.approval_status=="approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-8 gap-4",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer status"}),e.jsx("p",{className:"text-sm",children:w})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer schedule"}),e.jsx("div",{className:"text-sm",children:e.jsx(us,{onChange:N=>x("transfer_schedule",N),value:d,format:"yyyy-M-d H:mm",minDate:d,required:!0})})]}),a.transfer_status==="arrived"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Received by"}),e.jsx("p",{className:"text-sm",children:T})]}),e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("div",{className:"text-sm",children:e.jsx(us,{onChange:N=>x("date_received",N),value:o,format:"yyyy-M-d H:mm",minDate:d})})]})]})]}),e.jsx("span",{className:"flex flex-col grid-cols-12 text-sm font-bold uppercase text-center",children:"(for PM times, add 12 to the hour)"})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsx("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"col-span-12 w-full flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(hs,{name:"notes",value:a.notes||"",placeholder:"Add notes here....",onChange:c})]})})]}),e.jsx("div",{className:"flex flex-col gap-5",children:e.jsx("div",{className:"flex flex-row justify-center gap-1",children:e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-10 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-2 gap-3",children:e.jsx(A,{type:"submit",fill:s?"green":null,disabled:!s,onClick:u,children:n?"Submitting":"Edit Transfer"})}),e.jsxs("div",{className:"flex flex-col col-span-5 items-start",children:[i&&e.jsx("div",{className:"font-bold text-green-700",children:i}),l&&e.jsx("div",{className:"font-bold text-red-700",children:l}),n?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})})})]})})},ff=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d),console.log("action",d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Pending Transfer",children:e.jsxs(_l,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(bh,{openModal:l})})}),e.jsx(We,{title:s==="details"?"Transfer Details":"Edit Transfer",isOpen:t,onClose:r,closeOnOverlayClick:s==="details",children:e.jsxs(e.Fragment,{children:[s==="details"&&e.jsx(Nh,{onClose:r}),s==="edit"&&e.jsx(wh,{onClose:r})]})})]})})})},_h=({openModal:t})=>{const{invoices:a,isFetching:r,users:s,userSales:n,setSelectedInvoice:l}=Dl(),i=o=>{l(o.invoices),t(o,"details")},d=[{id:"select",header:({table:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsAllPageRowsSelected(),onChange:u=>o.toggleAllPageRowsSelected(!!u.target.checked),"aria-label":"Select all"}),cell:({row:o})=>e.jsx("input",{type:"checkbox",checked:o.getIsSelected(),onChange:u=>o.toggleSelected(!!u.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"issued_by",sortingFn:"text",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["FULL NAME ",o.getIsSorted()==="asc"?e.jsx(te,{}):o.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.invoices[0].issued_by.firstname+" "+o.original.invoices[0].issued_by.lastname})},{id:"total_sales",sortingFn:"basic",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["NUMBER OF SALES ",o.getIsSorted()==="asc"?e.jsx(te,{}):o.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:o})=>e.jsx("div",{className:"text-center",children:o.original.invoices.length})},{id:"amount_sales",sortingFn:"basic",enableSorting:!0,header:({column:o})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{o.toggleSorting(o.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TOTAL AMOUNT OF SALES ",o.getIsSorted()==="asc"?e.jsx(te,{}):o.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:o})=>{const c=o.original.invoices.filter(x=>x.status==="approved").reduce((x,h)=>x+h.paid_amount,0),m=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c);return e.jsx("div",{className:"text-center",children:m})}},{id:"actions",header:()=>e.jsx("div",{}),cell:({row:o})=>{const u=o.original;return e.jsx("div",{className:"flex flex-row text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>i(u),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]})]})]})})}}];return e.jsx(e.Fragment,{children:e.jsx($e,{data:n,columns:d,filterWhat:"",hideFilter:!0,dataType:"",openModal:void 0,isLoading:r})})},Sh=({onClose:t})=>{const{selectedInvoice:a,isFetching:r}=Dl(),s=a[0],n=[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"or_no",sortingFn:"alphanumeric",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["OR NUMBER ",l.getIsSorted()==="asc"?e.jsx(te,{}):l.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.or_no})},{accessorKey:"created_at",sortingFn:"datetime",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["CREATED AT ",l.getIsSorted()==="asc"?e.jsx(te,{}):l.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:l})=>{const i=l.getValue("created_at");if(i.toString()!=="0000-00-00 00:00:00"){const d={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"},o=new Date(i).toLocaleDateString([],d);return e.jsx("div",{className:"text-center",children:o})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"warehouse",header:()=>e.jsx("div",{className:"text-center",children:"WAREHOUSE CODE"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.warehouse.code})},{id:"customer",header:()=>e.jsx("div",{className:"text-center",children:"CUSTOMER NAME"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.customer.firstname+" "+l.original.customer.lastname})},{accessorKey:"type",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{l.toggleSorting(l.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["TRANSACTION TYPE ",l.getIsSorted()==="asc"?e.jsx(te,{}):l.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.type})},{accessorKey:"status",header:()=>e.jsx("div",{className:"text-center",children:"STATUS"}),cell:({row:l})=>e.jsx("div",{className:"flex mx-auto items-center justify-center",children:l.original.status.toLowerCase()==="approved"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):l.original.status.toLowerCase()==="rejected"?e.jsx(ia,{size:20,strokeWidth:2,className:"text-red-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-amber-500"})})},{accessorKey:"subtotal",header:()=>e.jsx("div",{className:"text-center",children:" SUBTOTAL "}),cell:({row:l})=>{const i=l.original.subtotal,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_discount",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL DISCOUNT "}),cell:({row:l})=>{const i=l.original.total_discount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_tax",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL TAX "}),cell:({row:l})=>{const i=l.original.total_tax,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"delivery_charge",header:()=>e.jsx("div",{className:"text-center",children:" DELIVERY CHARGE "}),cell:({row:l})=>{const i=l.original.delivery_charge,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"total_amount_due",header:()=>e.jsx("div",{className:"text-center",children:" TOTAL AMOUNT DUE "}),cell:({row:l})=>{const i=l.original.total_amount_due,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"paid_amount",header:()=>e.jsx("div",{className:"text-center",children:" PAID AMOUNT "}),cell:({row:l})=>{const i=l.original.paid_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"change_amount",header:()=>e.jsx("div",{className:"text-center",children:" CHANGE AMOUNT "}),cell:({row:l})=>{const i=l.original.change_amount,d=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(i);return e.jsx("div",{className:"text-center",children:d})}},{accessorKey:"payment_method",header:()=>e.jsx("div",{className:"text-center",children:" PAYMENT METHOD "}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.payment_method||"N/A"})},{accessorKey:"reference_no",header:({column:l})=>e.jsx("div",{className:"text-center",children:"REF #"}),cell:({row:l})=>e.jsx("div",{className:"text-center",children:l.original.reference_no||"--"})}];return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-4xl max-h-96 flex-col gap-4",children:[e.jsxs("p",{className:"text-lg font-semibold",children:["Issuer: ",s.issued_by.firstname+" "+s.issued_by.lastname]}),e.jsx("div",{className:"overflow-x-hidden",children:e.jsx($e,{data:a,columns:n,filterWhat:"or_no",dataType:"",openModal:void 0,isLoading:r})})]})})},pf=()=>{const{isOpen:t,openModal:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{a(),n(d)};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"User Sales",children:e.jsxs(Nc,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(_h,{openModal:l})})}),e.jsx(We,{isOpen:t,onClose:r,title:s==="details"?"Invoice Details":"",closeOnOverlayClick:s==="details",children:e.jsx(e.Fragment,{children:s==="details"&&e.jsx(Sh,{onClose:r})})})]})})})},Ch=()=>{const{roles:t,roleSelect:a,permissions:r,allPermissions:s,permissionChange:n,roleId:l,isChanged:i,isSubmitting:d,error:o,success:u,handleChange:c,handleChangeSelect:m,handleSubmit:x}=po(),{auth:h}=ge(),g=s.filter(p=>Object.keys(p).some(S=>!p.title.includes("view".toLowerCase())&&p.title.includes("users".toLowerCase()))),b=s.filter(p=>Object.keys(p).some(S=>!p.title.includes("view".toLowerCase())&&!p.title.includes("transfer".toLowerCase())&&p.title.includes("product".toLowerCase())||p.title.includes("catalog".toLowerCase()))),y=s.filter(p=>Object.keys(p).some(S=>!p.title.includes("view".toLowerCase())&&p.title.includes("transfer".toLowerCase()))),v=s.filter(p=>Object.keys(p).some(S=>p.title.includes("view".toLowerCase())));return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"mx-auto flex h-full max-h-full w-full flex-row divide-x",children:[e.jsxs("div",{className:"flex w-60 flex-none flex-col p-2 pt-8",children:[e.jsx("h3",{className:"ml-4 pb-1 text-xs font-semibold text-slate-500/80",children:"Roles"}),e.jsx("div",{className:"w-full",children:t?t.map(p=>p.title!=="super_admin"&&e.jsx(oe,{variant:"ghost",className:`w-full justify-start capitalize text-slate-700 ${(a==null?void 0:a.title)===p.title&&"bg-slate-300/40"}`,onClick:()=>m("roles",p.title),children:p.title.split("_").join(" ")},p.id+p.title)):e.jsx("div",{className:"flex h-16 w-full items-center justify-center text-slate-500",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})})}),e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-slate-500/80",children:"After saving changes, affected users must log out and log back in to apply the changes."}),(a==null?void 0:a.title)===h.role&&e.jsx("p",{className:"ml-4 pt-6 text-xs font-semibold text-red-500/80",children:"You are editing your current role. Review your changes carefully."}),e.jsxs("div",{className:"mt-auto w-full space-y-3",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[u&&e.jsx("p",{className:"text-green-600",children:u}),o&&e.jsx("p",{className:"text-red-600",children:o})]}),i&&e.jsx(oe,{type:"submit",className:"w-full disabled:cursor-not-allowed",disabled:!!d,onClick:x,children:d?"Saving...":"Save changes"})]})]}),a?e.jsx(Rt,{className:"w-full",type:"auto",style:{"--border":"216 12% 84%"},children:e.jsxs("div",{className:`mx-auto flex w-full max-w-[700px] flex-1 flex-col gap-8 p-6 pt-8 ${!a||d?"pointer-events-none opacity-50":null}`,children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"User Management"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:g.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):g.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:`${!((a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin")&&"cursor-pointer"} text-sm capitalize text-slate-700`,children:p.title.split("_").join(" ")}),e.jsx(ht,{id:p.title,name:p.title,value:p.id,disabled:(a==null?void 0:a.title)==="super_admin"||(a==null?void 0:a.title)==="admin",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(S=>S.permission_id===p.id),onCheckedChange:S=>c(S,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Products"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:b.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):b.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(ht,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(S=>S.permission_id===p.id),onCheckedChange:S=>c(S,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Transfers"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:y.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):y.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(ht,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(S=>S.permission_id===p.id),onCheckedChange:S=>c(S,p.id)})]},p.id))})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"ml-4 text-sm font-semibold text-slate-500/80",children:"Views"}),e.jsx("div",{className:"w-full divide-y rounded-lg border",children:v.length===0?e.jsx("div",{className:"flex flex-col items-center",children:e.jsx(ee,{size:28,strokeWidth:2,className:"animate-spin"})}):v.map(p=>e.jsxs("div",{className:"flex w-full flex-row items-center justify-between p-4",children:[e.jsx(P,{htmlFor:p.title,className:"cursor-pointer text-sm capitalize text-slate-700",children:p.title.split("_").join(" ")}),e.jsx(ht,{id:p.title,name:p.title,value:p.id,className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",checked:n.some(S=>S.permission_id===p.id),onCheckedChange:S=>c(S,p.id)})]},p.id))})]})]})}):e.jsx("div",{className:"flex flex-1 items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-slate-700/50",children:"Select a role to view and modify permissions"})})]})})},gf=()=>e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Role Permissions",children:e.jsx(jl,{children:e.jsx("div",{className:"flex h-full max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Ch,{})})})})})}),kh=({handleViewItems:t,handleViewDetails:a,handleEditInventory:r})=>[{id:"select",header:({table:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsAllPageRowsSelected(),onChange:l=>n.toggleAllPageRowsSelected(!!l.target.checked),"aria-label":"Select all"}),cell:({row:n})=>e.jsx("input",{type:"checkbox",checked:n.getIsSelected(),onChange:l=>n.toggleSelected(!!l.target.checked),"aria-label":"Select row",className:"justify-center"})},{accessorKey:"code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Code"," ",n.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"warehouse.code",sortingFn:"text",enableSorting:!0,header:({column:n})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>n.toggleSorting(n.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",n.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):n.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"date_received",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Received"})},{accessorKey:"transfer_id",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transer Id"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsx("span",{children:n.original.transfer_id?n.original.transfer_id:""})})},{accessorKey:"created_by",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Created by"}),cell:({row:n})=>e.jsx("div",{className:"uppercase",children:e.jsxs("span",{className:"max-w-[25ch] truncate",children:[n.original.created_by.firstname," ",n.original.created_by.lastname]})})},{accessorKey:"notes",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Notes"}),cell:({row:n})=>e.jsx("div",{children:e.jsx("p",{className:"max-w-[25ch] truncate",children:n.original.notes?n.original.notes:""})})},{id:"actions",cell:({row:n})=>{const l=n.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>{t(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(kl,{size:16,strokeWidth:2})}),e.jsx("span",{children:"View items"})]}),e.jsxs(we,{onClick:()=>{a(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(we,{onClick:()=>{r(l)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]})]})]})})},enableGlobalFilter:!1}],Dh=({openModal:t,filterWarehouse:a,setTotalInventories:r})=>{const[s,n]=f.useState([]),{data:l,isLoading:i,setSelectedInventory:d}=Qr(),o=Zr();f.useEffect(()=>{n(a?l.filter(h=>h.warehouse.id===a):l),r(l.length)},[l,a]);const u=()=>{t({},"add")},c=h=>{d(h),t(h,"edit")},m=h=>{d(h),o(`/inventory/items/${h.id}`)},x=h=>{d(h),t(h,"view_details")};return e.jsx(e.Fragment,{children:e.jsx($e,{columns:kh({handleViewItems:m,handleViewDetails:x,handleEditInventory:c}),data:s,filterWhat:"code",dataType:"Inventory",openModal:u,isLoading:i})})},Ph=({FormValue:t,handleChange:a})=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(yt,{children:[e.jsx(bt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(oe,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(sn,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(Nt,{className:"w-auto p-0",children:e.jsx(Xr,{mode:"single",initialFocus:!0,required:!0,onDayClick:r=>{const s=new Date(r),n=`${s.getFullYear()}-${(s.getMonth()+1).toString().padStart(2,"0")}-${s.getDate().toString().padStart(2,"0")}`;a("date_received",n)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(W,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:r=>a("notes",r.target.value)})]})]})}),Th=({FormValue:t,handleChange:a})=>{const{transfers:r,isFetching:s}=Jr(),[n,l]=f.useState(!1);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid w-full grid-cols-4 gap-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(yt,{open:n,onOpenChange:l,children:[e.jsx(bt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(oe,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[t.transfer_id?(()=>{const i=r.find(d=>d.id===t.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:e.jsx("span",{children:i==null?void 0:i.code})})})():"Select a transfer item...",e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{children:[e.jsx(la,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),s&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Ca,{children:"No match found"}),e.jsx(Rt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Jt,{children:r.map(i=>e.jsxs(jt,{value:i.id.toString()+i.code,onSelect:()=>{a("transfer_id",i.id),l(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:i.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[i.approval_status,"  ",i.source.code,"->",i.destination.code,"  ",i.transfer_status]})]},i.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(yt,{children:[e.jsx(bt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(oe,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(sn,{size:18,strokeWidth:1.5}),t.date_received?t.date_received:"Choose date..."]})}),e.jsx(Nt,{className:"w-auto p-0",children:e.jsx(Xr,{mode:"single",initialFocus:!0,required:!0,onDayClick:i=>{const d=new Date(i),o=`${d.getFullYear()}-${(d.getMonth()+1).toString().padStart(2,"0")}-${d.getDate().toString().padStart(2,"0")}`;a("date_received",o)},selected:t.date_received?new Date(t.date_received):new Date})})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(W,{id:"notes",name:"notes",type:"text",defaultValue:t.notes?t.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:i=>a("notes",i.target.value)})]})]})})},Li=(t,a,r)=>{const s=r||new Date,n=("0"+(s.getMonth()+1)).slice(-2)+("0"+s.getDate()).slice(-2)+s.getFullYear(),l=t.slice(0,3),i=a.toString().padStart(4,"0");return`${l}-${n}-${i}`.toUpperCase()},Oh=({onClose:t,totalInventories:a,warehouses:r})=>{const{auth:s}=ge(),{value:n,setValue:l,handleChange:i,handleSubmit:d}=Wl(),[o,u]=f.useState(!1),[c,m]=f.useState(null);f.useEffect(()=>{i("created_by",s.user.id),i("type","supplier")},[]);const[x,h]=f.useState();return f.useEffect(()=>{if(x){const g=Li(x,a+1);i("code",g)}},[x]),e.jsx(e.Fragment,{children:e.jsxs("form",{onSubmit:async g=>{if(g.preventDefault(),n.date_received===void 0)m("Please select a date for date received.");else{u(!o);const b=await d({action:"add",data:n});(b==null?void 0:b.status)===201?(u(!o),t()):(u(!o),m("Failed to add inventory"))}},children:[e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(W,{id:"code",name:"code",type:"text",value:n.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ne,{onValueChange:g=>{var b;i("warehouse_id",Number(g)),h((b=r.find(y=>y.id===Number(g)))==null?void 0:b.code)},required:!0,children:[e.jsx(le,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:"Choose warehouse..."})}),e.jsx(ce,{className:"bg-white font-medium",children:r.map((g,b)=>e.jsxs(z,{value:g.id.toString(),className:"text-sm font-medium text-slate-700",children:[g.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+g.code+"  "+g.location})]},b))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(Vr,{id:"type",defaultValue:n.type?n.type:"supplier",className:"w-full space-y-4",onValueChange:g=>{const{date_received:b,transfer_id:y,...v}=n;l(v),i("type",g)},children:[e.jsxs(qr,{className:"grid h-fit w-full grid-flow-row grid-cols-2 rounded-md bg-slate-200/50",children:[e.jsx(Ua,{value:"supplier",className:"rounded-md py-1 text-sm font-semibold text-slate-700",children:"Supplier"}),e.jsx(Ua,{value:"transfer",className:"rounded-md py-1 text-sm font-semibold text-slate-700 disabled:cursor-not-allowed disabled:opacity-50",children:"Transfer"})]}),e.jsx(Os,{value:"supplier",children:e.jsx(Ph,{FormValue:n,handleChange:i})}),e.jsx(Os,{value:"transfer",children:e.jsx(Th,{FormValue:n,handleChange:i})})]})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:o||Object.keys(n).length<=2||!x,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Submitting...":"Add inventory"})]})}),c&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-semibold text-red-600",children:c})})]})})},Ah=({onClose:t})=>{const{selectedInventory:a}=Qr(),{transfers:r,isFetching:s}=Jr(),n=r.find(l=>l.id===a.transfer_id);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-2",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx("p",{className:"text-sm",children:a.code})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsx("p",{className:"text-sm capitalize",children:a.type})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"ID"}),e.jsx("p",{className:"text-sm",children:a.id})]}),e.jsxs("div",{className:"col-span-5 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs("p",{className:"text-sm",children:[a.warehouse.name," (",a.warehouse.code,")"]})]}),a.type==="transfer"&&e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Transfer Code"}),e.jsx("p",{className:"text-sm capitalize",children:s?"Loading...":n==null?void 0:n.code})]}),e.jsxs("div",{className:`flex flex-col justify-center gap-1 ${a.type==="supplier"?"col-span-7":"col-span-3"}`,children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsx("p",{className:"text-sm capitalize",children:a.date_received?a.date_received:""})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx("p",{className:"text-sm capitalize",children:a.notes?a.notes:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-5",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsxs("p",{className:"text-sm capitalize",children:[a.created_by.firstname," ",a.created_by.lastname]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm capitalize",children:Te(a.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm capitalize",children:a.updated_at?Te(a.updated_at):""})]})]})]})})},Fh=({onClose:t,warehouses:a})=>{const{selectedInventory:r}=Qr(),{value:s,handleChange:n,handleSubmit:l}=Wl(),{transfers:i,isFetching:d}=Jr(),[o,u]=f.useState(!1),[c,m]=f.useState(!1),[x,h]=f.useState(null),g=v=>i.find(p=>v===p.id),[b,y]=f.useState();return f.useEffect(()=>{if(b){const v=Li(b,r.id,new Date(r.created_at));n("code",v)}},[b]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async v=>{m(!c),v.preventDefault();const p=await l({action:"update",id:r.id,data:s});(p==null?void 0:p.status)===200?(m(!c),t()):(m(!c),h("Failed to update inventory item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"code",className:"text-sm font-bold text-gray-600",children:"Code"}),e.jsx(W,{id:"code",name:"code",type:"text",value:s.code||r.code||"",readOnly:!0,placeholder:"Code..."})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"warehouse",className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsxs(ne,{onValueChange:v=>{var p;n("warehouse_id",Number(v)),y((p=a.find(S=>S.id===Number(v)))==null?void 0:p.code)},defaultValue:r.warehouse.id.toString(),required:!0,children:[e.jsx(le,{name:"warehouse",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm",children:e.jsx(ie,{placeholder:"Choose warehouse..."})}),e.jsx(ce,{className:"bg-white font-medium",children:a.map((v,p)=>e.jsxs(z,{value:v.id.toString(),className:"text-sm font-medium text-slate-700",children:[v.name,e.jsx("span",{className:"truncate text-xs text-slate-700/60",children:"  "+v.code+"  "+v.location})]},p))})]})]})]}),e.jsx("hr",{className:"col-span-12 my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"type",className:"text-sm font-bold text-gray-600",children:"Type"}),e.jsxs(ne,{defaultValue:r.type,onValueChange:v=>n("type",v),children:[e.jsx(le,{name:"type",className:"flex max-w-[30ch] flex-row items-center gap-3 truncate bg-white text-sm capitalize",children:e.jsx(ie,{placeholder:"Choose type..."})}),e.jsxs(ce,{className:"bg-white font-medium",children:[e.jsx(z,{value:"supplier",className:"text-sm font-medium text-slate-700",children:"Supplier"}),e.jsx(z,{value:"transfer",className:"text-sm font-medium text-slate-700",children:"Transfer"})]})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"date_received",className:"text-sm font-bold text-gray-600",children:"Date received"}),e.jsxs(yt,{children:[e.jsx(bt,{id:"date_received",name:"date_received",asChild:!0,children:e.jsxs(oe,{variant:"outline",className:"flex w-full flex-row items-center justify-start gap-2 bg-white text-sm font-normal",children:[e.jsx(sn,{size:18,strokeWidth:1.5}),s.date_received?s.date_received:r.date_received]})}),e.jsx(Nt,{className:"w-auto p-0",children:e.jsx(Xr,{mode:"single",initialFocus:!0,required:!0,month:s.date_received?new Date(s.date_received):new Date(r.date_received),onDayClick:v=>{const p=new Date(v),S=`${p.getFullYear()}-${(p.getMonth()+1).toString().padStart(2,"0")}-${p.getDate().toString().padStart(2,"0")}`;n("date_received",S)},selected:s.date_received?new Date(s.date_received):new Date(r.date_received)})})]})]}),(r.type==="transfer"||s.type==="transfer")&&e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"transfer_id",className:"text-sm font-bold text-gray-600",children:"Transfer Item"}),e.jsxs(yt,{open:o,onOpenChange:u,children:[e.jsx(bt,{className:"relative my-2 w-full",asChild:!0,children:e.jsxs(oe,{role:"combobox",className:"my-0 w-full justify-between text-sm text-slate-700",variant:"outline",children:[i?s.transfer_id?(()=>{const v=g(s.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:v==null?void 0:v.code})})():r.transfer_id?(()=>{const v=g(r.transfer_id);return e.jsx("div",{className:"flex items-baseline gap-4",children:v?v.code:"Loading..."})})():"Select inventory item...":"Loading...",e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"w-[462px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{children:[e.jsx(la,{id:"transfer_id",name:"transfer_id",placeholder:"Transfer code..."}),d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Ca,{children:"No match found"}),e.jsx(Rt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Jt,{children:i.map(v=>e.jsxs(jt,{value:v.id.toString()+v.code,onSelect:()=>{n("transfer_id",v.id),u(!1)},className:"cursor-pointer justify-between rounded-sm",children:[e.jsx("span",{children:v.code}),e.jsxs("span",{className:"text-xs font-semibold text-slate-700/50",children:[v.approval_status,"  ",v.source.code,"->",v.destination.code,"  ",v.transfer_status]})]},v.id))})})]})})]})]}),e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"notes",className:"text-sm font-bold text-gray-600",children:"Notes"}),e.jsx(W,{id:"notes",name:"notes",type:"text",defaultValue:s.notes?s.notes:r.notes?r.notes:void 0,maxLength:1e3,placeholder:"Notes...",onChange:v=>n("notes",v.target.value)})]})]}),e.jsx("div",{className:"flex w-full flex-row pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4 whitespace-nowrap",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-gray-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:c||Object.keys(s).length===0,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Applying changes...":"Apply changes"})]})}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:x})})]})})})},vf=()=>{const{warehouses:t}=Vt(),[a,r]=f.useState(0),[s,n]=f.useState(0),{openModal:l,isOpen:i,closeModal:d}=Fe(),[o,u]=f.useState(""),c=(m,x)=>{u(x),l()};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Inventory",children:e.jsxs(wc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ne,{defaultValue:"0",onValueChange:m=>r(Number(m)),children:[e.jsx(le,{className:"w-[300px] text-sm font-medium",children:e.jsx(ie,{placeholder:"All"})}),e.jsxs(ce,{className:"text-sm font-medium capitalize",children:[e.jsx(z,{value:"0",children:"All"},"all"),t.map(m=>e.jsxs(z,{value:m.id.toString(),children:[m.name," (",m.code,")"]},m.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(Dh,{filterWarehouse:a>0?a:void 0,openModal:c,setTotalInventories:n})})]}),e.jsx(We,{isOpen:i,onClose:d,title:o==="add"?"Add Inventory":o==="view_details"?"Details":o==="edit"?"Edit Inventory":"",closeOnOverlayClick:o==="view_details",children:e.jsxs(e.Fragment,{children:[o==="add"&&e.jsx(Oh,{warehouses:t,totalInventories:s,onClose:d}),o==="view_details"&&e.jsx(Ah,{onClose:d}),o==="edit"&&e.jsx(Fh,{warehouses:t,onClose:d})]})})]})})})},Eh=({handleEditInventoryProduct:t,handleToggleStatus:a})=>[{id:"select",header:({table:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsAllPageRowsSelected(),onChange:n=>s.toggleAllPageRowsSelected(!!n.target.checked),"aria-label":"Select all"}),cell:({row:s})=>e.jsx("input",{type:"checkbox",checked:s.getIsSelected(),onChange:n=>s.toggleSelected(!!n.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"product",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:s})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>s.toggleSorting(s.getIsSorted()==="asc"),className:"flex flex-row items-center whitespace-nowrap bg-transparent uppercase text-slate-700",children:["Name"," ",s.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):s.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"supplier_id.name",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Supplier"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Cap. Price"}),cell:({row:s})=>{const n=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(s.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:s.original.capital_price?n:""})})}},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"stocks_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Stocks"})},{accessorKey:"damage_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Damaged"})},{accessorKey:"total_count",header:()=>e.jsx("div",{className:"justify-center whitespace-nowrap uppercase",children:"Total"})},{accessorKey:"transferred_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Transferred"})},{accessorKey:"sold_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Sold"})},{accessorKey:"miscellaneous_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Misc"})},{accessorKey:"remaining_stocks_count",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Remaining"})},{accessorKey:"status",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Status"}),cell:({row:s})=>e.jsx(ba,{children:e.jsxs("div",{className:"group relative flex w-fit items-center",children:[e.jsx(aa,{children:s.original.status?e.jsx(ka,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:s.original.status?"Approved":"Pending"})})]})})},{id:"actions",cell:({row:s})=>{const n=s.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>{t(n)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsxs(we,{onClick:()=>a(n.id,+!n.status),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:n.status?e.jsx(zt,{size:16,strokeWidth:2.25}):e.jsx(ka,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:n.status?"Set pending":"Set approved"})]})]})]})})},enableGlobalFilter:!1}],Ih=({id:t,openModal:a})=>{const{data:r,isLoading:s}=_c(t),{setSelectedInventoryProduct:n}=Gr(),{handleSubmit:l}=Rs(),i=()=>{a({},"add")},d=u=>{n(u),a(u,"edit")},o=(u,c)=>{l({action:"update",id:u,data:{status:c}})};return e.jsx("div",{className:"w-full rounded-lg border bg-white",children:e.jsx(xs,{children:e.jsx($e,{columns:Eh({handleEditInventoryProduct:d,handleToggleStatus:o}),data:r||[],filterWhat:"product",dataType:"Items",openModal:i,isLoading:s})})})},Lh=({setInventoryProductsQueue:t,inventoryId:a,products:r,productsLoading:s,suppliers:n,suppliersLoading:l,currentId:i,handleNavigation:d,selectedProduct:o})=>{var w,T,I,k;const{auth:u}=ge(),{value:c,handleChange:m}=Rs(),[x,h]=f.useState(!1),[g,b]=f.useState(!1),[y,v]=f.useState(null),p=Zr();f.useEffect(()=>{var C,E;m("inventory_id",a),m("unit","pcs"),(C=u.role)!=null&&C.includes("admin")&&m("status",1),o&&(m("product_id",o.data.product_id),m("status",o.data.status),m("supplier_id",o.data.supplier_id),m("capital_price",o.data.capital_price),m("unit",o.data.unit),m("stocks_count",o.data.stocks_count),m("damage_count",o.data.damage_count),m("total_count",o.data.total_count)),!o&&!((E=u.role)!=null&&E.includes("admin"))&&m("capital_price",0)},[]);const[S,O]=f.useState();return f.useEffect(()=>{const C=Ml(c.stocks_count||0,c.damage_count||0);O(C),m("total_count",C)},[c.damage_count,c.stocks_count,S]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:C=>{C.preventDefault(),c.product_id===void 0?v("Please select a product first."):c.supplier_id===void 0?v("Please select a supplier first."):(t(o?E=>[...E.filter(L=>L.id!==o.id),{id:o.id,data:c}]:E=>[...E,{id:i+1,data:c}]),d())},children:e.jsxs("div",{className:"flex w-full flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-12 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"product_id",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsxs(yt,{open:x,onOpenChange:h,children:[e.jsx(bt,{id:"product_id",className:"relative w-full",asChild:!0,autoFocus:!0,children:e.jsxs(oe,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[c.product_id?e.jsx(e.Fragment,{children:(()=>{const C=r.find(E=>E.id===c.product_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsxs("span",{className:"max-w-full truncate",children:[C==null?void 0:C.name," ",(C==null?void 0:C.brand)&&`(${C.brand})`]}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:C==null?void 0:C.serial_no})]})})()}):e.jsx("span",{children:"Select a product..."}),e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"min-w-[642px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{children:[e.jsx(la,{placeholder:"Product name or serial number..."}),s&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Ca,{children:"No match found"}),e.jsxs(Rt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Jt,{forceMount:!0,children:e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/products"),b(!1)},forceMount:!0,children:[e.jsx("span",{children:"Add new product..."}),e.jsx(kn,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-product")}),e.jsx(Dn,{}),e.jsx(Jt,{children:r.map((C,E)=>e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",value:C.name+C.serial_no+C.brand,onSelect:()=>{m("product_id",C.id),h(!1)},children:[e.jsxs("span",{className:"max-w-[50%] truncate",children:[C.name," ",C.brand&&`(${C.brand})`]}),e.jsx("span",{className:"max-w-[49%] truncate text-xs font-semibold text-slate-700/50",children:C.serial_no+"  "+C.size+"  "+C.color})]},E))})]})]})})]})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(yt,{open:g,onOpenChange:b,children:[e.jsx(bt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(oe,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[c.supplier_id?e.jsx(e.Fragment,{children:(()=>{const C=n.find(E=>E.id===c.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:C==null?void 0:C.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:C==null?void 0:C.address})]})})()}):e.jsx("span",{children:"Select a supplier..."}),e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"min-w-[315px] p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{children:[e.jsx(la,{placeholder:"Supplier name or address..."}),l&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Ca,{children:"No match found"}),e.jsxs(Rt,{className:"max-h-[200px] overflow-y-scroll",children:[e.jsx(Jt,{forceMount:!0,children:e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{p("/supplier"),b(!1)},children:[e.jsx("span",{children:"Add new supplier..."}),e.jsx(kn,{size:16,strokeWidth:2.25,className:"text-slate-700/50"})]},"create-new-supplier")}),e.jsx(Dn,{}),e.jsx(Jt,{children:n.map((C,E)=>e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{m("supplier_id",C.id),b(!1)},children:[e.jsx("span",{children:C.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:C.address})]},E))})]})]})})]})]}),(u.role==="admin"||u.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ne,{value:(w=c.status)==null?void 0:w.toString(),required:!0,onValueChange:C=>m("status",Number(C)),children:[e.jsx(le,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(ie,{placeholder:"Select status..."})}),e.jsxs(ce,{className:"text-sm font-medium",children:[e.jsx(z,{value:"1",children:"Approved"}),e.jsx(z,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(W,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",disabled:!((T=u.role)!=null&&T.includes("admin")),value:c.capital_price||"",onBlur:C=>{c.capital_price!==void 0&&(C.target.value=Number(C.target.value).toFixed(2))},onChange:C=>{m("capital_price",Number(Number(C.target.value).toFixed(2)))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(W,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,value:c.unit||"",onChange:C=>m("unit",C.target.value)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(W,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:(I=c.stocks_count)==null?void 0:I.toFixed(0),required:!0,onChange:C=>{m("stocks_count",Number(Number(C.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(W,{id:"damage_count",name:"damage_count",type:"number",min:0,max:c.stocks_count??0,step:1,required:!0,value:(k=c.damage_count)==null?void 0:k.toFixed(0),onChange:C=>m("damage_count",Number(Number(C.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(W,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,readOnly:!0,value:S??"0",className:`${S&&S<0&&"text-red-600"}`})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsx("div",{className:"ml-auto flex flex-row gap-4",children:e.jsx(A,{type:"submit",fill:"green",disabled:c.product_id===void 0||c.supplier_id===void 0,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:o?"Save changes":"Add item to queue"})})}),y&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:y})})]})})})},Mh=["","Product name","Supplier","Status","Capital price","Unit","Stocks","Damaged","Total"],Wh=({data:t,products:a,suppliers:r,handleEditItem:s,handleRemoveItem:n,handleSubmit:l,onClose:i})=>{const[d,o]=f.useState(!1),[u,c]=f.useState(null),m=()=>{o(!0),l({action:"batch-add",data:t.map(x=>x==null?void 0:x.data)}).then(()=>{et.success("Items added to inventory"),o(!1),i()}).catch(()=>{et.error("Error adding items to inventory"),c("Error adding items to inventory"),o(!1)})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"relative flex h-full flex-col",children:e.jsxs(xs,{children:[e.jsxs(Rt,{type:"always",className:"flex-1 rounded-md border border-gray-200 bg-white",style:{"--border":"216 12% 84%"},children:[t.length<=0&&e.jsx("div",{className:"absolute z-10 flex h-full w-full items-center justify-center",children:e.jsx("p",{className:"text-lg font-medium text-gray-500/50",children:"No items in queue"})}),e.jsx(Pn,{orientation:"horizontal",className:"z-50 h-3"}),e.jsx(Pn,{orientation:"vertical",className:"z-50 h-3",style:{"--border":"216 12% 84%"},asChild:!0}),e.jsxs($r,{children:[e.jsx(Kr,{children:e.jsx(Na,{id:"tHeaderRow",className:"hover:bg-white",children:Mh.map(x=>e.jsx(Yr,{className:"whitespace-nowrap px-5 py-3 text-center text-xs font-bold uppercase",children:x},x+"_head"))},"tHeaderRow")}),e.jsx(Br,{className:"[&>*:nth-child(even)]:bg-white [&>*:nth-child(odd)]:bg-gray-50",children:t.length>0&&t.map(x=>{var h,g;return e.jsxs(Na,{className:"text-sm font-medium text-gray-700",children:[e.jsx(Me,{className:"p-3 pr-0",children:e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-200/70 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white font-medium",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>{x!=null&&x.id&&s(x)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Edit"})]},(x==null?void 0:x.id)+"edit"),e.jsxs(we,{onClick:()=>{x!=null&&x.id&&n(x.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 focus:bg-red-50 focus:text-red-700",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Uc,{size:16,strokeWidth:2})}),e.jsx("span",{children:"Remove"})]},(x==null?void 0:x.id)+"remove")]})]})})},(x==null?void 0:x.id)+"action"),e.jsx(Me,{className:"max-w-[200px] truncate px-5 py-3",children:x!=null&&x.data.product_id?(h=a.find(b=>b.id===x.data.product_id))==null?void 0:h.name:x==null?void 0:x.data.product_id},(x==null?void 0:x.id)+"product_id"),e.jsx(Me,{className:"max-w-[200px] truncate px-5 py-3",children:x!=null&&x.data.supplier_id?(g=r.find(b=>b.id===x.data.supplier_id))==null?void 0:g.name:x==null?void 0:x.data.supplier_id},(x==null?void 0:x.id)+"supplier_id"),e.jsx(Me,{className:"px-5 py-3",children:e.jsxs(Sc,{children:[e.jsx(aa,{children:x!=null&&x.data.status?e.jsx(ka,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(zt,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:x.data.status?"Approved":"Pending"})})]})},(x==null?void 0:x.id)+"status"),e.jsx(Me,{className:"px-5 py-3",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format((x==null?void 0:x.data.capital_price)||0)},(x==null?void 0:x.id)+"capital_price"),e.jsx(Me,{className:"px-5 py-3",children:x==null?void 0:x.data.unit},(x==null?void 0:x.id)+"unit"),e.jsx(Me,{className:"px-5 py-3",children:x==null?void 0:x.data.stocks_count},(x==null?void 0:x.id)+"stocks_count"),e.jsx(Me,{className:"px-5 py-3",children:x==null?void 0:x.data.damage_count},(x==null?void 0:x.id)+"damage_count"),e.jsx(Me,{className:"px-5 py-3",children:x==null?void 0:x.data.total_count},(x==null?void 0:x.id)+"total_count")]},(x==null?void 0:x.id)+"row")})})]})]}),e.jsxs("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:[u&&e.jsx("div",{className:"flex w-full flex-row items-center justify-start gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:u})}),e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>i(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:t.length<=0||d,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",onClick:x=>{x.preventDefault(),m()},children:t.length<=1?"Add item to inventory":`Add ${t.length} items to inventory`})]})]})]})})})},Rh={hidden:{opacity:0,x:"-100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"-100%",transition:{duration:.3,ease:"easeInOut"}}},zh={hidden:{opacity:0,x:"100%"},animate:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}},exit:{opacity:0,x:"100%",transition:{duration:.3,ease:"easeInOut"}}},Uh=({onClose:t,inventoryId:a})=>{const{auth:r}=ge(),{data:s,isLoading:n}=hl(),{suppliers:l,isFetching:i}=Pl(),{handleSubmit:d}=Rs(),[o,u]=f.useState([]),[c,m]=f.useState({}),[x,h]=f.useState("main"),g=()=>{m({}),h(x==="main"?"form":"main")},b=v=>{m(v),h("form")},y=v=>{u(p=>p.filter(S=>S.id!==v))};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("div",{className:x==="main"?"ml-auto":"",children:e.jsx(oe,{className:"flex flex-row items-center gap-2 bg-gray-200 text-sm font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",onClick:()=>{g()},children:e.jsxs(e.Fragment,{children:[x==="main"?e.jsx($c,{size:20,strokeWidth:2.5}):e.jsx(Tl,{size:20,strokeWidth:2.5}),x==="main"?"Add an item":"Back"]})})}),e.jsx("div",{className:`relative min-w-[850px] overflow-x-clip transition-all duration-300 
					${x==="form"?r.role==="admin"||r.role==="super_admin"?"min-h-[400px]":"min-h-[336px]":"min-h-[600px]"}`,children:e.jsx(Cc,{initial:!1,children:x==="main"?e.jsx(Tn.div,{variants:Rh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute h-full w-full overflow-x-auto antialiased",children:e.jsx(Wh,{data:o,products:s,suppliers:l,handleEditItem:b,handleRemoveItem:y,handleSubmit:d,onClose:t})},"main"):e.jsx(Tn.div,{variants:zh,initial:"hidden",animate:"animate",exit:"exit",className:"absolute max-h-[406px] w-full p-1",children:e.jsx(Lh,{setInventoryProductsQueue:u,inventoryId:a,products:s,productsLoading:n,suppliers:l,suppliersLoading:i,currentId:o.reduce((v,p)=>p.id>v?p.id:v,0),handleNavigation:g,selectedProduct:Object.keys(c).length?c:void 0})},"form")})})]})})},Hh=({onClose:t})=>{var y;const{auth:a}=ge(),{selectedInventoryProduct:r}=Gr(),{value:s,handleChange:n,handleSubmit:l}=Rs(),{suppliers:i,isFetching:d}=Pl(),[o,u]=f.useState(!1),[c,m]=f.useState(!1),[x,h]=f.useState(null),[g,b]=f.useState();return f.useEffect(()=>{const v=Ml(s.stocks_count??r.stocks_count,s.damage_count??r.damage_count);b(v),n("total_count",v)},[s.damage_count,s.stocks_count,g]),e.jsx(e.Fragment,{children:e.jsx("form",{action:"",onSubmit:async v=>{m(!c),v.preventDefault();const p=await l({action:"update",id:r.id,data:s});typeof p=="object"&&"status"in p&&p.status===200?(m(!c),t()):(m(!c),h("Failed to update item"))},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:`${a.role==="admin"||a.role==="super_admin"?"col-span-12":"col-span-6"} flex flex-col justify-center gap-1`,children:[e.jsx(P,{htmlFor:"product",className:"text-sm font-bold text-gray-600",children:"Product"}),e.jsx(W,{id:"product",name:"product",type:"text",readOnly:!0,value:r==null?void 0:r.product.name})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"supplier_id",className:"text-sm font-bold text-gray-600",children:"Supplier"}),e.jsxs(yt,{open:o,onOpenChange:u,children:[e.jsx(bt,{id:"supplier_id",className:"relative w-full",asChild:!0,children:e.jsxs(oe,{role:"combobox",className:"w-full justify-between text-sm font-bold text-slate-700",variant:"outline",children:[s.supplier_id?e.jsx(e.Fragment,{children:(()=>{const v=i.find(p=>p.id===s.supplier_id);return e.jsxs("div",{className:"flex w-full items-baseline gap-4 capitalize",children:[e.jsx("span",{className:"max-w-full truncate",children:v==null?void 0:v.name}),e.jsx("span",{className:"font-baseline text-xs text-slate-700/50",children:v==null?void 0:v.address})]})})()}):e.jsx("span",{children:r.supplier_id.name}),e.jsx(Ha,{size:14,strokeWidth:2,className:"h-4 w-4 opacity-70"})]})}),e.jsx(Nt,{className:"p-0 text-sm font-medium text-slate-700",children:e.jsxs(Sa,{children:[e.jsx(la,{placeholder:"Supplier name or address..."}),i===void 0&&d&&e.jsx("div",{className:"flex h-16 w-full items-center justify-center",children:e.jsx(ee,{size:22,strokeWidth:2.5,className:"animate-spin text-slate-700/50"})}),e.jsx(Ca,{children:"No match found"}),e.jsx(Rt,{className:"max-h-[200px] overflow-y-scroll",children:e.jsx(Jt,{children:i.map((v,p)=>e.jsxs(jt,{className:"cursor-pointer justify-between rounded-sm",onSelect:()=>{n("supplier_id",v.id),u(!1)},children:[e.jsx("span",{children:v.name}),e.jsx("span",{className:"text-xs font-semibold text-slate-700/50",children:v.address})]},p))})})]})})]})]}),(a.role==="admin"||a.role==="super_admin")&&e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"status",className:"text-sm font-bold text-gray-600",children:"Status"}),e.jsxs(ne,{value:s.status?s.status.toString():r.status.toString(),required:!0,onValueChange:v=>n("status",v),children:[e.jsx(le,{name:"status",id:"status",className:"w-full px-4 text-sm font-bold text-slate-700",children:e.jsx(ie,{placeholder:"Select status..."})}),e.jsxs(ce,{className:"text-sm font-medium",children:[e.jsx(z,{value:"1",children:"Approved"}),e.jsx(z,{value:"0",children:"Pending"})]})]})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(W,{id:"capital_price",name:"capital_price",type:"number",min:0,step:.01,required:!0,className:"pl-8",placeholder:"0.00",readOnly:a.role!=="admin",defaultValue:r==null?void 0:r.capital_price.toFixed(2),onBlur:v=>{v.target.value=Number(v.target.value).toFixed(2)},onChange:v=>{const p=Number(v.target.value).toFixed(2);n("capital_price",Number(p))}}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(W,{id:"unit",name:"unit",type:"text",maxLength:40,required:!0,defaultValue:r==null?void 0:r.unit,onChange:v=>n("unit",v.target.value)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"stocks_count",className:"text-sm font-bold text-gray-600",children:"Stocks count"}),e.jsx(W,{id:"stocks_count",name:"stocks_count",type:"number",min:0,max:9999999,step:1,value:((y=s.stocks_count)==null?void 0:y.toFixed(0))??(r==null?void 0:r.stocks_count)??0,onChange:v=>{n("stocks_count",Number(Number(v.target.value).toFixed(0)))}})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"damage_count",className:"text-sm font-bold text-gray-600",children:"Damage count"}),e.jsx(W,{id:"damage_count",name:"damage_count",type:"number",min:0,max:s.stocks_count??r.stocks_count,step:1,required:!0,value:s.damage_count!==void 0?s.damage_count:(r==null?void 0:r.damage_count)||"",onBlur:v=>{v.target.value=Number(v.target.value).toFixed(0)},onChange:v=>n("damage_count",Number(Number(v.target.value).toFixed(0)))})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"total_count",className:"text-sm font-bold text-gray-600",children:"Total count"}),e.jsx(W,{id:"total_count",name:"total_count",type:"number",min:0,max:9999999,step:1,value:g||0,className:`${g&&g<0&&"text-red-600"}`,readOnly:!0})]})]}),e.jsx("div",{className:"flex w-full justify-between whitespace-nowrap pt-6",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{fill:"default",type:"reset",onClick:()=>t(),className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:c,className:"max-w-fit flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:c?"Applying...":"Apply changes"})]})}),x&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm font-bold text-red-600",children:x})})]})})})},jf=()=>{const{id:t}=kc(),{data:a,isLoading:r}=Dc(Number(t)),s=Zr(),n=()=>{s(-1)},{openModal:l,isOpen:i,closeModal:d}=Fe(),[o,u]=f.useState(""),c=(m,x)=>{u(x),l()};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Inventory items",children:e.jsxs(Pc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"text-primary-dark-gray flex flex-row items-center gap-6 text-sm font-medium",children:[e.jsxs(oe,{onClick:()=>n(),className:"flex flex-row items-center gap-3 whitespace-nowrap bg-gray-200 pr-6 font-bold text-gray-700 hover:bg-gray-300 hover:text-gray-700",children:[e.jsx(Tl,{size:22,strokeWidth:2.25}),e.jsx("span",{children:"Go back"})]}),e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("h2",{className:"font-bold",children:"Inventory code:"}),e.jsx("span",{children:r?"Loading...":a==null?void 0:a.code})]})]}),e.jsx("div",{className:"h-full w-full overflow-x-hidden rounded-lg",children:e.jsx(Ih,{id:Number(t),openModal:c})})]}),e.jsx(We,{isOpen:i,onClose:d,title:o==="add"?"Add Items":o==="edit"?"Edit Item":"",children:e.jsxs(e.Fragment,{children:[o==="add"&&e.jsx(Uh,{inventoryId:Number(t),onClose:d}),o==="edit"&&e.jsx(Hh,{onClose:d})]})})]})})})},Vh=()=>{const t=Qe(),{selectedExpenses:a}=en(),[r,s]=f.useState({id:a.id,title:a.title,date_of_operation:a.date_of_operation,amount:a.amount,notes:a.notes,created_by:a.created_by.id,created_at:a.created_at,updated_at:a.updated_at}),[n,l]=f.useState(!1),[i,d]=f.useState(!1),[o,u]=f.useState(null),[c,m]=f.useState(null),x=()=>Object.keys(r).map(p=>({text:p})).length>=8?r.amount?r.title?[!0,""]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"],h=v=>{l(!0),m(null),u(null),s(p=>({...p,[v.target.name]:v.target.value}))},g=async()=>{const v=x();d(!0),v[0]?await y(r):(u(v[1]),d(!1))},b={onSuccess:async()=>{await t.invalidateQueries({queryKey:["expenses"]}),d(!1),l(!1),m("Expenses info has been edited")},onError:v=>{console.error(v),u(v.message),d(!1)}},{mutateAsync:y}=pe({mutationKey:["editExpenses"],mutationFn:Tc,...b});return{expensesEdit:r,isChanged:n,isSubmitting:i,error:o,success:c,handleSubmit:g,handleChange:h,editExpensesMutation:y}},qh=()=>{const t=Qe(),{expenses:a,dateToday:r}=en(),s=a.length+1,{auth:n}=ge(),[l,i]=f.useState({id:s,title:"",date_of_operation:r,amount:0,notes:"",created_by:n.id,created_at:"",updated_at:""}),[d,o]=f.useState(!1),[u,c]=f.useState(!1),[m,x]=f.useState(null),[h,g]=f.useState(null),b=()=>Object.keys(l).map(w=>({text:w})).length>=5?l.amount?l.title?[!0,""]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"]:[!1,"Please fill up all fields (notes are optional)"],y=O=>{o(!0),g(null),x(null),i(w=>({...w,[O.target.name]:O.target.value}))},v=async()=>{const O=b();c(!0),O[0]?await S(l):(x(O[1]),c(!1))},p={onSuccess:async()=>{await t.invalidateQueries({queryKey:["expenses"]}),c(!1),o(!1),g("Expenses info has been added")},onError:O=>{console.error(O),x(O.message),c(!1)}},{mutateAsync:S}=pe({mutationKey:["addExpenses"],mutationFn:Oc,...p});return{dateToday:r,expensesAdd:l,isChanged:d,isSubmitting:u,error:m,success:h,handleSubmit:v,handleChange:y,addExpensesMutation:S}},$h=({openModal:t})=>{const{expenses:a,isFetching:r,selectedExpenses:s,setSelectedExpenses:n,dateToday:l}=en(),i=()=>{t({},"add")},d=c=>{n(c[0]),t(c,"edit")},o=[{id:"select",header:({table:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsAllPageRowsSelected(),onChange:m=>c.toggleAllPageRowsSelected(!!m.target.checked),"aria-label":"Select all"}),cell:({row:c})=>e.jsx("input",{type:"checkbox",checked:c.getIsSelected(),onChange:m=>c.toggleSelected(!!m.target.checked),"aria-label":"Select row",className:"justify-center"}),enableSorting:!1,enableHiding:!1},{accessorKey:"date_of_operation",sortingFn:"datetime",enableSorting:!0,header:({column:c})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>{c.toggleSorting(c.getIsSorted()==="asc")},className:"bg-transparent text-black flex flex-row items-center ml-auto mr-auto",children:["DATE OF OPERATION ",c.getIsSorted()==="asc"?e.jsx(te,{}):c.getIsSorted()==="desc"?e.jsx(ae,{}):e.jsx(se,{})]})}),cell:({row:c})=>{const m=c.getValue("date_of_operation");if(m.toString()!=="0000-00-00"){const x={year:"numeric",month:"long",day:"numeric"},h=new Date(m).toLocaleDateString([],x);return e.jsx("div",{className:"text-center",children:h})}else return e.jsx("div",{className:"text-center",children:"N/A"})}},{accessorKey:"title",header:({column:c})=>e.jsx("div",{className:"text-center",children:" TITLE "}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.title})},{accessorKey:"amount",header:({column:c})=>e.jsx("div",{className:"text-center",children:" AMOUNT "}),cell:({row:c})=>{const m=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(c.original.amount);return e.jsx("div",{className:"text-center",children:m})}},{accessorKey:"notes",header:({column:c})=>e.jsx("div",{className:"text-center",children:" NOTES "}),cell:({row:c})=>e.jsx("div",{className:"text-center",children:c.original.notes})},{accessorKey:"created_by",header:({column:c})=>e.jsx("div",{className:"text-center",children:" CREATED BY "}),cell:({row:c})=>e.jsxs("div",{className:"text-center",children:[c.original.created_by.firstname," ",c.original.created_by.lastname]})},{id:"actions",header:()=>e.jsx("div",{className:"flex flex-row justify-center",children:"ACTIONS"}),cell:({row:c})=>{const m=c.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(A,{fill:"empty",textColor:"black",onClick:()=>d([m]),className:"flex flex-row items-center gap-2",children:[e.jsx(zs,{})," Edit"]})})}}],u=a.some(c=>c.date_of_operation===l);return e.jsx(e.Fragment,{children:e.jsx($e,{data:a,columns:o,filterWhat:"notes",dataType:"Today's Expenses",openModal:u?void 0:i,isLoading:r})})},Kh=({onClose:t})=>{const{expensesEdit:a,isChanged:r,isSubmitting:s,error:n,success:l,handleSubmit:i,handleChange:d}=Vh();return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async o=>{o.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Date of Operation"}),e.jsx(Z,{type:"text",name:"date_of_operation",placeholder:"2024-04-06",className:"inputbox rounded-md",value:a.date_of_operation,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"Title"}),e.jsx(Z,{type:"text",name:"title",placeholder:"Title",className:"inputbox rounded-md bg-slate-100",value:a.title,onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Amount"}),e.jsx(Z,{type:"number",name:"amount",placeholder:"500.00",className:"inputbox rounded-md bg-slate-100",value:a.amount,onChange:d,required:!0})]})]}),e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-12 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Notes"}),e.jsx(hs,{name:"notes",placeholder:"Notes here....",className:"text-base rounded-md bg-slate-100",value:a.notes,onChange:d})]})}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(A,{type:"submit",fill:r?"green":null,disabled:!r,onClick:i,children:s?"Submitting":"Edit Expenses"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),n&&e.jsx("div",{className:"font-bold text-red-700",children:n}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})})},Yh=({onClose:t})=>{const{expensesAdd:a,isChanged:r,isSubmitting:s,error:n,success:l,handleSubmit:i,handleChange:d,dateToday:o}=qh();return l&&setTimeout(()=>{t()},1e3),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async u=>{u.preventDefault()},children:e.jsxs("div",{className:"flex flex-col gap-5",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:[e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"lastname",children:"Date of Operation"}),e.jsx(Z,{type:"text",name:"date_of_operation",placeholder:"2024-04-06",className:"inputbox rounded-md",value:o,disabled:!0,readOnly:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"firstname",children:"Title"}),e.jsx(Z,{type:"text",name:"title",placeholder:"Title",className:"inputbox rounded-md bg-slate-100",value:a.title||"",onChange:d,required:!0})]}),e.jsxs("div",{className:"flex flex-col col-span-4 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Amount"}),e.jsx(Z,{type:"number",name:"amount",placeholder:"500.00",className:"inputbox rounded-md bg-slate-100",value:a.amount||"",onChange:d,required:!0})]})]}),e.jsx("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4",children:e.jsxs("div",{className:"flex flex-col col-span-12 gap-3",children:[e.jsx("label",{htmlFor:"email",children:"Notes"}),e.jsx(hs,{name:"notes",placeholder:"Notes here....",className:"text-base rounded-md bg-slate-100",value:a.notes||"",onChange:d})]})}),e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-4 text-center",children:[e.jsx("div",{className:"flex flex-col col-span-3 gap-3",children:e.jsx(A,{type:"submit",fill:r?"green":null,disabled:!r,onClick:i,children:s?"Submitting":"Add Expenses"})}),e.jsxs("div",{className:"flex flex-col col-span-6 items-start",children:[l&&e.jsx("div",{className:"font-bold text-green-700",children:l}),n&&e.jsx("div",{className:"font-bold text-red-700",children:n}),s?e.jsx("div",{className:"flex flex-col flex-wrap items-start",children:e.jsx(qt,{width:30,height:30})}):""]}),e.jsx("div",{className:"flex flex-col col-span-3 gap-3 items-end",children:e.jsx(A,{type:"reset",fill:"red",onClick:t,children:"Cancel"})})]})]})})})},yf=()=>{const{openModal:t,isOpen:a,closeModal:r}=Fe(),[s,n]=f.useState(""),l=(i,d)=>{n(d),t()};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Expenses",children:e.jsxs(Ac,{children:[e.jsx("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx($h,{openModal:l})})}),e.jsx(We,{isOpen:a,onClose:r,title:s==="add"?"Add Expenses":"Edit Expenses",children:e.jsxs(e.Fragment,{children:[s==="edit"&&e.jsx(Kh,{onClose:r}),s==="add"&&e.jsx(Yh,{onClose:r})]})})]})})})},Ds=({title:t,date:a,children:r,formatAmount:s,filter:n})=>e.jsx(e.Fragment,{children:e.jsxs(Ol,{className:"w-full min-w-[320px] max-w-[460px]",children:[e.jsxs(Al,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(Fl,{className:"text-xl font-bold",children:t}),a&&e.jsx(e.Fragment,{children:e.jsx(El,{className:"!mt-1 font-bold uppercase",children:Kc()})})]}),e.jsxs(Il,{className:"py-2 pt-0",children:[s&&e.jsx("span",{className:"text-lg font-medium",children:Lt(2e5)}),r&&e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-lg font-medium",children:r})})]}),e.jsx(Fc,{children:e.jsxs("div",{className:"flex w-full flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx(Xc,{className:"text-green-500",size:20}),e.jsx("span",{className:"text-sm font-bold text-green-500",children:"20%"})]}),n&&e.jsx(e.Fragment,{children:e.jsxs(ne,{children:[e.jsx(le,{className:"max-w-[50%]",children:e.jsx(ie,{placeholder:"filter by"})}),e.jsx(ce,{children:n.map((l,i)=>e.jsx(z,{value:l,children:l},i))})]})})]})})]})}),Bh=()=>e.jsx(e.Fragment,{children:e.jsxs(Ol,{className:"flex-1",children:[e.jsxs(Al,{className:"flex flex-row items-center justify-between gap-4 pb-2",children:[e.jsx(Fl,{className:"font-bold",children:"Products"}),e.jsx(El,{className:"!mt-1 font-bold uppercase"})]}),e.jsx(Il,{className:"py-2 pt-0",children:e.jsx(Gh,{})})]})}),Gh=({})=>{const t=[31,69],a={series:[31,69],labels:["New Products","Returning Products"],dataLabels:{enabled:!0}};return e.jsx(e.Fragment,{children:e.jsx(Ec,{series:t,options:a,type:"donut",height:200,width:"100%"})})},bf=()=>{const t=["Monthly","Quarterly","Yearly"];return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Reports",children:e.jsxs("div",{className:"flex h-full w-full flex-col justify-between gap-5",children:[e.jsxs("div",{className:"flex w-full flex-row justify-between gap-5 ",children:[e.jsxs("div",{className:"flex flex-1 flex-col gap-4",children:[e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Ds,{title:"Sales Revenue",date:!0,formatAmount:!0,filter:t}),e.jsx(Ds,{title:"Expected Profit",formatAmount:!0,filter:t})]}),e.jsxs("div",{className:"flex flex-row gap-4",children:[e.jsx(Ds,{title:"Total Collectibles",date:!0,formatAmount:!0,filter:t}),e.jsx(Ds,{title:"Total Capital",formatAmount:!0,filter:t})]})]}),e.jsx(Bh,{})]}),e.jsx(Bc,{})]})})})},Qh=()=>{const t=["","Product name","Price","Qty","Total"],{selectedInvoiceCode:a}=tt(),{data:r}=Pa();return console.log(a),e.jsx(e.Fragment,{children:e.jsxs($r,{children:[e.jsxs(Ic,{children:["Select items the customer wants to return for invoice"," "]}),e.jsx(Kr,{children:e.jsx(Na,{id:"tHeaderRow",className:"hover:bg-white",children:t.map(s=>e.jsx(Yr,{className:"whitespace-nowrap px-5 py-3 text-left text-xs font-bold uppercase",children:s},s+"_head"))},"tHeaderRow")}),e.jsx(Br,{children:a.invoice_items.length>0&&a.invoice_items.map((s,n)=>e.jsxs(Na,{className:"text-sm font-medium text-gray-700",children:[e.jsx(Me,{className:"p-3 pr-0",children:e.jsx("input",{type:"checkbox",className:"h-4 w-4",name:"return",id:"return"})}),e.jsx(Me,{className:"text-sm font-medium text-gray-700",children:s==null?void 0:s.product.name},(s==null?void 0:s.product.name)+"Product Name"),e.jsx(Me,{children:e.jsxs("div",{className:"flex flex-row gap-2",children:[e.jsx("span",{children:Lt(r.find(l=>l.id===s.product_price_id).cost)}),r.find(l=>l.id===s.product_price_id).on_sale?e.jsxs("span",{className:"text-muted-foreground",children:["(",Lt(r.find(l=>l.id===s.product_price_id).sale_discount),")"]}):null]})}),e.jsx(Me,{children:s==null?void 0:s.quantity}),e.jsx(Me,{children:Lt(s==null?void 0:s.total_price)})]},(s==null?void 0:s.id)+"row"))}),e.jsx(Lc,{children:e.jsxs(Na,{children:[e.jsx(Me,{colSpan:4,className:"text-right",children:"Total:"}),e.jsx(Me,{children:Lt(a.paid_amount)})]})})]})})},Nf=()=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex flex-row",children:[e.jsx(Ll,{}),e.jsx("div",{id:"main",className:"flex w-screen flex-row",children:e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-6",children:[e.jsx("div",{className:"flex w-full flex-row justify-between",children:e.jsx("h1",{className:"text-primary-dark-gray text-2xl font-bold",children:"Return Item"})}),e.jsx(Qh,{})]})})]})}),Zh=()=>{const{selectedProductPrice:t}=tn();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-4 font-medium",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Name"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Brand"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.brand||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Serial number"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Unit"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.unit})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Size"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Color"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Warehouse"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Capital price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.capital_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup percent"}),e.jsxs("p",{className:"text-sm text-gray-800",children:[de(t.markup_price/t.capital_price*100,{precision:3}).value,"%"]})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Markup price"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.markup_price)})]}),e.jsxs("div",{className:"col-span-2 flex flex-col justify-center	gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Cost"}),e.jsx("p",{className:"text-sm text-gray-800",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.cost)})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Sale discount"}),e.jsx("p",{className:"text-sm",children:t.on_sale===1?Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.sale_discount):""}),e.jsxs("div",{className:"absolute bottom-0 right-0 flex flex-none flex-row items-center justify-end gap-1 pb-[0.1rem] pr-1",children:[t.on_sale===1?e.jsx(ft,{size:14,strokeWidth:3.5,className:"text-green-600"}):e.jsx(Ms,{size:14,strokeWidth:3.5,className:"text-gray-600"}),e.jsx("div",{className:"text-xs font-semibold leading-4 text-gray-900",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Price"}),e.jsx("p",{className:"text-sm",children:Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(t.price)})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-x-6 gap-y-4",children:[e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Active status"}),e.jsxs("span",{className:"flex flex-row items-center gap-2",children:[t.active_status==="active"?e.jsx(ka,{size:16,strokeWidth:2.5,className:"text-green-600"}):e.jsx(ss,{size:16,strokeWidth:2.5,className:"text-gray-600"}),e.jsx("p",{className:"text-sm capitalize text-gray-800",children:t.active_status})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created by"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.created_by.firstname+" "+t.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Created at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(t.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approval status"}),e.jsx("p",{className:"text-sm capitalize",children:t.approval_status})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Approved by"}),e.jsx("p",{className:"text-sm text-gray-800",children:t.approved_by?t.approved_by.firstname+" "+t.approved_by.firstname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Updated at"}),e.jsx("p",{className:"text-sm text-gray-800",children:Te(t.updated_at)})]})]})]})})},Xh=({onClose:t})=>{var S,O;const{auth:a}=ge(),{selectedProductPrice:r}=tn(),{value:s,handleChange:n,handleSubmit:l}=fs(),[i,d]=f.useState(!1),[o,u]=f.useState(null),[c,m]=f.useState(r.capital_price),[x,h]=f.useState(rs(r.capital_price,r.markup_price,3)),[g,b]=f.useState(r.markup_price),y=w=>{const T=w.target.value;m(de(T).value),n("capital_price",de(T).value),b(Va(de(T).value,x||0))},v=w=>{const T=Number(w.target.value);h(T),b(Va(c,T))},p=w=>{const T=de(w.target.value).value;b(T),h(rs(c,T,3))};return f.useEffect(()=>{n("capital_price",c),n("markup_price",g),n("cost",qa(c,g))},[c,x,g]),f.useEffect(()=>{n("price",rn(s.cost??r.cost,s.sale_discount??r.sale_discount))},[s.cost,s.sale_discount]),e.jsx(e.Fragment,{children:e.jsx("form",{onSubmit:async w=>{d(!i),w.preventDefault(),l({action:"update",id:r.id,data:s}).then(()=>{d(!i),et.success("Product price edited successfully"),t()}).catch(()=>{d(!i),u("Failed to add product listing"),et.error("Failed to add product listing")})},children:e.jsxs("div",{className:"flex max-w-2xl flex-col gap-3",children:[e.jsxs("div",{className:"mt-3 grid w-full grid-flow-row grid-cols-12 gap-x-4 gap-y-5 font-medium text-gray-700",children:[e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Name"}),e.jsx("p",{className:"text-sm",children:r.product.name})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Brand"}),e.jsx("p",{className:"text-sm",children:r.product.brand||e.jsx("span",{className:"opacity-60",children:"No brand"})})]}),e.jsxs("div",{className:"col-span-6 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Serial Number"}),e.jsx("p",{className:"text-sm",children:r.product.serial_no})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"unit",className:"text-sm font-bold text-gray-600",children:"Unit"}),e.jsx(W,{id:"unit",name:"unit",type:"text",maxLength:20,required:!0,value:s.unit||r.unit,onChange:w=>{n("unit",w.target.value)}})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Size"}),e.jsx("p",{className:"text-sm",children:r.product.size})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Color"}),e.jsx("p",{className:"text-sm",children:r.product.color})]}),e.jsxs("div",{className:"col-span-3 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Warehouse"}),e.jsx("p",{className:"text-sm",children:r.warehouse.name})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-6 gap-3",children:[e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"capital_price",className:"text-sm font-bold text-gray-600",children:"Capital price"}),e.jsx(W,{id:"capital_price",name:"capital_price",type:"number",inputMode:"numeric",min:0,step:.01,required:!0,className:"pl-7",value:c||"",onChange:y,onBlur:w=>{w.target.value=Number(c).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_percent",className:"text-sm font-bold text-gray-600",children:"Markup percent"}),e.jsx(W,{id:"markup_percent",name:"markup_percent",type:"number",inputMode:"numeric",min:0,max:1e3,step:.001,required:!0,value:x||"",onChange:v,onBlur:w=>{w.target.value=de(x,{precision:3}).value.toString()}}),e.jsx("span",{className:"absolute bottom-0 right-0 mr-2 -translate-y-1/2 text-sm font-semibold text-gray-500",children:"%"})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"markup_price",className:"text-sm font-bold text-gray-600",children:"Markup price"}),e.jsx(W,{id:"markup_price",name:"markup_price",type:"number",min:0,max:1e3,step:.01,className:"pl-7",value:g||"",onChange:p,onBlur:w=>{w.target.value=Number(g).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"cost",className:"text-sm font-bold text-gray-600",children:"Cost"}),e.jsx(W,{id:"cost",name:"cost",type:"number",min:0,required:!0,className:"pl-7",readOnly:!0,value:qa(c,g).toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 pb-[0.65rem] pl-3 text-sm font-semibold text-gray-500",children:""})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"sale_discount",className:"text-sm font-bold text-gray-600",children:"Sale discount"}),e.jsx(W,{id:"sale_discount",name:"sale_discount",type:"number",inputMode:"numeric",min:0,step:.01,max:s.cost!==void 0?s.cost:r.cost,disabled:s.on_sale===void 0?r.on_sale===0:s.on_sale===0,required:!0,className:"pl-7",value:s.sale_discount??((S=r.sale_discount)==null?void 0:S.toFixed(2))??"",onChange:w=>{n("sale_discount",de(w.target.value).value)},onBlur:w=>{w.target.value=Number(s.sale_discount!==void 0?s.sale_discount:r.sale_discount).toFixed(2)}}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""}),e.jsxs("div",{className:"absolute right-0 top-1/2 mr-2 flex flex-none translate-y-1/4 flex-row items-center justify-start gap-2",children:[e.jsx(W,{name:"on_sale",id:"on_sale",type:"checkbox",checked:s.on_sale===void 0?r.on_sale===1:s.on_sale===1,className:"h-4 w-fit",onChange:w=>{const T=document.getElementById("sale_discount");n("on_sale",w.target.checked?1:0),!w.target.checked&&(n("sale_discount",0),T&&(T.value="0.00"))}}),e.jsx(P,{htmlFor:"on_sale",className:"text-xs font-bold text-slate-700",children:"On Sale"})]})]}),e.jsxs("div",{className:"relative col-span-2 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"price",className:"text-sm font-bold text-gray-600",children:"Price"}),e.jsx(W,{id:"price",name:"price",type:"number",min:0,step:.01,required:!0,readOnly:!0,className:"pl-7",value:((O=s.price)==null?void 0:O.toFixed(2))||r.price.toFixed(2)||"0.00"}),e.jsx("span",{className:"absolute bottom-0 left-0 ml-3 -translate-y-1/2 text-sm font-semibold text-gray-500",children:""})]})]}),e.jsx("hr",{className:"my-2 h-px w-full border-0 bg-gray-200"}),e.jsxs("div",{className:"grid w-full grid-flow-row grid-cols-12 gap-3",children:[e.jsxs("div",{className:"col-span-4 flex flex-row items-center justify-start	gap-3",children:[e.jsx(ht,{id:"active_status",name:"active_status",checked:s.active_status?s.active_status==="active":r.active_status==="active",className:"data-[state=checked]:bg-primary-green data-[state=unchecked]:bg-gray-300",onCheckedChange:w=>{n("active_status",w?"active":"inactive")}}),e.jsx(P,{htmlFor:"active_status",className:"text-sm font-bold text-gray-600",children:"Active"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created by"}),e.jsx("p",{className:"text-sm",children:r.created_by.firstname+" "+r.created_by.lastname})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Created at"}),e.jsx("p",{className:"text-sm",children:Te(r.created_at)})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx(P,{htmlFor:"approval_status",className:"text-sm font-bold text-gray-600",children:"Approval status"}),e.jsxs(ne,{onValueChange:w=>{n("approval_status",w),w==="approved"?n("approved_by",a.user.id):n("approved_by","")},value:s.approval_status||r.approval_status||"",required:!0,children:[e.jsx(le,{name:"approval_status",className:"flex flex-row items-center gap-3 bg-white text-sm capitalize",children:e.jsx(ie,{placeholder:s.approval_status||r.approval_status||"Select status..."})}),e.jsxs(ce,{className:"bg-white",children:[e.jsx(z,{className:"rounded-md",value:"pending",children:"Pending"},"pending"),e.jsx(z,{className:"rounded-md",value:"approved",children:"Approved"},"approved"),e.jsx(z,{className:"rounded-md",value:"rejected",children:"Rejected"},"rejected")]})]})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Approved by"}),e.jsx("p",{className:"text-sm",children:r.approved_by?r.approved_by.firstname+" "+r.approved_by.lastname:"N/A"})]}),e.jsxs("div",{className:"col-span-4 flex flex-col justify-center gap-1",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-600",children:"Updated at"}),e.jsx("p",{className:"text-sm",children:Te(r.updated_at)})]})]}),e.jsx("div",{className:"col-span-12 flex w-full justify-between whitespace-nowrap pt-4",children:e.jsxs("div",{className:"ml-auto flex flex-row gap-4",children:[e.jsx(A,{type:"reset",fill:"default",className:"flex-1 py-2 text-sm font-bold text-slate-700 hover:text-white",onClick:t,children:"Cancel"}),e.jsx(A,{type:"submit",fill:"green",disabled:i,className:"flex-1 py-2 text-sm font-bold text-white disabled:cursor-not-allowed disabled:opacity-50",children:i?"Applying changes...":"Apply changes"})]})}),o&&e.jsx("div",{className:"flex w-full flex-row justify-center gap-4",children:e.jsx("p",{className:"text-sm text-red-600",children:o})})]})})})},Jh=({handleProdPriceDetails:t,handleEditProdPrice:a,handleApproveProdPrice:r,handleRejectProdPrice:s})=>[{id:"select",header:({table:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsAllPageRowsSelected(),onChange:i=>l.toggleAllPageRowsSelected(!!i.target.checked),"aria-label":"Select all"}),cell:({row:l})=>e.jsx("input",{type:"checkbox",checked:l.getIsSelected(),onChange:i=>l.toggleSelected(!!i.target.checked),"aria-label":"Select row",className:"justify-center"})},{id:"name",accessorKey:"product.name",sortingFn:"text",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Name"," ",l.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):l.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"brand",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Brand"})},{accessorKey:"warehouse.code",sortingFn:"basic",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"flex flex-row items-center bg-transparent uppercase text-slate-700",children:["WHS"," ",l.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):l.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})})},{accessorKey:"unit",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Unit"})},{accessorKey:"capital_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Capital"}),cell:({row:l})=>{const i=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l.original.capital_price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:l.original.capital_price?i:""})})}},{accessorKey:"markup_price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Markup"}),cell:({row:l})=>{const i=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l.original.markup_price||0),d=de(l.original.markup_price/l.original.capital_price*100,{precision:3}).value;return e.jsxs("div",{className:"flex items-center uppercase",children:[e.jsx("span",{children:i}),e.jsxs("span",{className:"text-gray-500",children:["(",d,"%)"]})]})}},{accessorKey:"sale_discount",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Discount"}),cell:({row:l})=>{const i=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l.original.sale_discount||0);return e.jsx("div",{className:"flex items-center",children:e.jsx("span",{children:l.original.on_sale?i:e.jsx("div",{className:"group relative flex w-fit items-center",children:e.jsxs(ba,{children:[e.jsx(aa,{children:e.jsx(Ms,{size:20,strokeWidth:2,className:"text-gray-700"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium normal-case",children:"Not on sale"})})]})})})})}},{accessorKey:"price",header:()=>e.jsx("div",{className:"justify-center uppercase",children:"Price"}),cell:({row:l})=>{const i=new Intl.NumberFormat("en-US",{style:"currency",currency:"PHP"}).format(l.original.price);return e.jsx("div",{className:"flex items-center uppercase",children:e.jsx("span",{children:l.original.price?i:""})})}},{accessorKey:"active_status",sortingFn:"basic",enableSorting:!0,header:({column:l})=>e.jsx("div",{children:e.jsxs(A,{onClick:()=>l.toggleSorting(l.getIsSorted()==="asc"),className:"ml-auto mr-auto flex flex-row items-center bg-transparent uppercase text-slate-700",children:["Active"," ",l.getIsSorted()==="asc"?e.jsx(te,{size:18,strokeWidth:2}):l.getIsSorted()==="desc"?e.jsx(ae,{size:18,strokeWidth:2}):e.jsx(se,{size:18,strokeWidth:2})]})}),cell:({row:l})=>{const i=l.original.active_status;return e.jsx("div",{className:"group relative mx-auto flex w-fit items-center justify-center",children:e.jsxs(ba,{children:[e.jsx(aa,{children:i==="active"?e.jsx(ft,{size:20,strokeWidth:2,className:"text-green-600"}):e.jsx(ss,{size:20,strokeWidth:2,className:"text-gray-600"})}),e.jsx(sa,{children:e.jsx("p",{className:"text-sm font-medium capitalize",children:i})})]})})},enableGlobalFilter:!1},{id:"actions",cell:({row:l})=>{const i=l.original;return e.jsx("div",{className:"flex flex-row justify-center text-xs font-normal uppercase",children:e.jsxs(_t,{children:[e.jsx(St,{className:"overflow-clip rounded-full bg-gray-100 p-1.5 hover:bg-gray-300",children:e.jsx(Dt,{size:16,strokeWidth:2.25})}),e.jsxs(Ct,{className:"relative z-50 w-44 bg-white",children:[e.jsx(kt,{children:"Actions"}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>t(i),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(wt,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Details"})]}),e.jsxs(we,{onClick:()=>a(i),className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(Ut,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Edit"})]}),e.jsx(lt,{className:"bg-gray-200"}),e.jsxs(we,{onClick:()=>{r(i.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ka,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Approve"})]}),e.jsxs(we,{onClick:()=>{s(i.id)},className:"flex flex-row items-center gap-3 rounded-md p-2 hover:bg-gray-200",children:[e.jsx("span",{className:"flex w-6 items-center justify-center",children:e.jsx(ia,{size:16,strokeWidth:2.25})}),e.jsx("span",{children:"Reject"})]})]})]})})},enableGlobalFilter:!1}],ef=({openModal:t,isModalOpen:a,filterWarehouse:r})=>{const{data:s,isLoading:n,setSelectedProductPrice:l}=tn(),i=m=>{l(m),t(m,"details")},d=m=>{l(m),t(m,"edit")},{handleSubmit:o}=fs(),u=m=>{o({action:"update",id:m,data:{approval_status:"approved"}}).then(()=>et.success("Product price approved")).catch(()=>et.error("Failed to approve product price"))},c=m=>{o({action:"update",id:m,data:{approval_status:"rejected"}}).then(()=>et.success("Product price rejected")).catch(()=>et.error("Failed to reject product price"))};return e.jsx(e.Fragment,{children:e.jsx(xs,{children:e.jsx($e,{columns:Jh({handleProdPriceDetails:i,handleEditProdPrice:d,handleApproveProdPrice:u,handleRejectProdPrice:c}),data:r?s.filter(m=>m.warehouse.id===r):s,filterWhat:"name",dataType:"Listing",isLoading:n})})})},wf=()=>{const{warehouses:t}=Vt(),[a,r]=f.useState(0),{isOpen:s,openModal:n,closeModal:l}=Fe(),[i,d]=f.useState(""),o=(u,c)=>{d(c),n()};return e.jsx(e.Fragment,{children:e.jsx(qe,{title:"Pending Listing",children:e.jsxs(Mc,{children:[e.jsxs("div",{className:"flex max-h-full flex-1 flex-col gap-5 rounded-lg border border-black/10 bg-white p-5",children:[e.jsxs("div",{className:"ml-auto flex flex-row items-center space-x-4",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Filter warehouse:"," "]}),e.jsxs(ne,{defaultValue:"0",onValueChange:u=>r(Number(u)),children:[e.jsx(le,{className:"w-[300px] text-sm font-medium",children:e.jsx(ie,{placeholder:"All"})}),e.jsxs(ce,{className:"text-sm font-medium capitalize",children:[e.jsx(z,{value:"0",children:"All"},"all"),t.map(u=>e.jsxs(z,{value:u.id.toString(),children:[u.name," (",u.code,")"]},u.id))]})]})]}),e.jsx("div",{className:"w-full overflow-x-hidden rounded-lg border border-black/10",children:e.jsx(ef,{openModal:o,isModalOpen:s,filterWarehouse:a})})]}),e.jsx(We,{title:i==="details"?"Price Details":i==="edit"?"Edit Price":"",isOpen:s,onClose:l,closeOnOverlayClick:i==="details"||i==="toggle_active_stat",children:e.jsxs(e.Fragment,{children:[i==="details"&&e.jsx(Zh,{}),i==="edit"&&e.jsx(Xh,{onClose:l})]})})]})})})};export{yf as ExpensesPage,vf as Inventory,jf as InventoryItemsPage,lf as Invoice,Cf as Login,wf as PendingProductPrice,ff as PendingTransfer,xf as PointOfSalePage,Nf as PosReturnsPage,uf as ProductPrices,df as Products,bf as Reports,gf as RolePermissions,of as Supplier,hf as Transaction,mf as Transfer,cf as UserInfo,pf as UserSales,nf as Warehouse};
